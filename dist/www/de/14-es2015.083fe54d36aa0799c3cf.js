/*               "Copyright 2020 Infosys Ltd.
               Use of this source code is governed by GPL v3 license that can be found in the LICENSE file or at https://opensource.org/licenses/GPL-3.0
               This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License version 3"*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"1eSm":function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{}},"7iLc":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s});var i=n("8Y7J"),r=(n("FVPZ"),n("IP0z"),n("Xd0L"),n("cUpR"),i["\u0275crt"]({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}}));function o(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),i["\u0275ncd"](null,0)],null,null)}var a=i["\u0275crt"]({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function s(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,1,"figure",[["class","mat-figure"]],null,null,null,null,null)),i["\u0275ncd"](null,0)],null,null)}},"8pHK":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n("8Y7J"),r=(n("rN8Y"),i["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function o(t){return i["\u0275vid"](0,[],null,null)}},FVPZ:function(t,e,n){"use strict";n.d(e,"b",function(){return b}),n.d(e,"a",function(){return x}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return a});var i=n("8Y7J"),r=n("Xd0L"),o=n("KCVW");const a=new i.InjectionToken("MAT_GRID_LIST");class s{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Object(o.f)(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Object(o.f)(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}class l{constructor(t){this._element=t}ngAfterContentInit(){Object(r.K)(this._lines,this._element)}}class u{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new c(this.rowIndex,e)}_findMatchingGap(t){if(t>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${t} is wider than `+`grid with cols="${this.tracker.length}".`);let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):-1!=(e=this.tracker.indexOf(0,this.columnIndex))?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class c{constructor(t,e){this.row=t,this.col=e}}const d=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class f{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,i){this._gutterSize=m(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":v(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let i=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,n,i,r),this.setRowStyles(t,e,i,r)}setColStyles(t,e,n,i){let r=this.getBaseTileSize(n,i);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(r,e)),t._setStyle("width",v(this.getTileSize(r,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class p extends f{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,i){if(super.init(t,e,n,i),this.fixedRowHeight=m(this.fixedRowHeight),!d.test(this.fixedRowHeight))throw Error(`Invalid value "${this.fixedRowHeight}" set as rowHeight.`)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",v(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",v(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class h extends f{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,i){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",v(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",v(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");if(2!==e.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${t}"`);this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class g extends f{setRowStyles(t,e){let n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",v(this.getTileSize(n,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function v(t){return`calc(${t})`}function m(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}const y="fit";class x{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Object(o.f)(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${null==t?"":t}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=`${null==t?"":t}`;e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler=t===y?new g:t&&t.indexOf(":")>-1?new h(t):new p(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new u);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,n),e.forEach((e,n)=>{const i=t.positions[n];this._tileStyler.setStyle(e,i.row,i.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}class b{}},S4HQ:function(t,e,n){var i;(i={dev:!1}).tooltip=i.tooltip||{},i.utils=i.utils||{},i.models=i.models||{},i.charts={},i.logs={},i.dom={},"undefined"==typeof d3&&(d3=n("VphZ")),i.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),i.dev&&(i.dispatch.on("render_start",function(t){i.logs.startTime=+new Date}),i.dispatch.on("render_end",function(t){i.logs.endTime=+new Date,i.logs.totalTime=i.logs.endTime-i.logs.startTime,i.log("total",i.logs.totalTime)})),i.log=function(){return i.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):i.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments),arguments[arguments.length-1]},i.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},i.render=function(t){t=t||1,i.render.active=!0,i.dispatch.render_start();var e=function(){for(var n,r,o=0;o<t&&(r=i.render.queue[o]);o++)n=r.generate(),typeof r.callback==typeof Function&&r.callback(n);i.render.queue.splice(0,o),i.render.queue.length?setTimeout(e):(i.dispatch.render_end(),i.render.active=!1)};setTimeout(e)},i.render.active=!1,i.render.queue=[],i.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),i.render.queue.push(t),i.render.active||i.render()},t.exports=i,"undefined"!=typeof window&&(window.nv=i),i.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},i.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},i.interactiveGuideline=function(){"use strict";var t={left:0,top:0},e=null,n=null,r=d3.scale.linear(),o=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),a=!0,s=null,l=i.models.tooltip(),u=window.ActiveXObject;function c(d){d.each(function(d){var f=d3.select(this),p=e||960,h=n||400,g=f.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);function v(){var e=d3.event.clientX-this.getBoundingClientRect().left,n=d3.event.clientY-this.getBoundingClientRect().top,i=!0,a=!1;if(u&&(e=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(i=!1),d3.event.target.className.baseVal.match("nv-legend")&&(a=!0)),i&&(e-=t.left,n-=t.top),"mouseout"===d3.event.type||e<0||n<0||e>p||n>h||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||a){if(u&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(l.nvPointerEventsClass)))return;return o.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),void l.hidden(!0)}l.hidden(!1);var s=void 0;if("function"==typeof r.rangeBands){var d=d3.bisect(r.range(),e)-1;if(!(r.range()[d]+r.rangeBand()>=e))return o.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),void l.hidden(!0);s=r.domain()[d3.bisect(r.range(),e)-1]}else s=r.invert(e);o.elementMousemove({mouseX:e,mouseY:n,pointXValue:s}),"dblclick"===d3.event.type&&o.elementDblclick({mouseX:e,mouseY:n,pointXValue:s}),"click"===d3.event.type&&o.elementClick({mouseX:e,mouseY:n,pointXValue:s}),"mousedown"===d3.event.type&&o.elementMouseDown({mouseX:e,mouseY:n,pointXValue:s}),"mouseup"===d3.event.type&&o.elementMouseUp({mouseX:e,mouseY:n,pointXValue:s})}g.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),s&&(s.on("touchmove",v).on("mousemove",v,!0).on("mouseout",v,!0).on("mousedown",v,!0).on("mouseup",v,!0).on("dblclick",v).on("click",v),c.guideLine=null,c.renderGuideLine=function(t){a&&(c.guideLine&&c.guideLine.attr("x1")===t||i.dom.write(function(){var e=g.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[i.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",h).attr("y2",0),e.exit().remove()}))})})}return l.duration(0).hideDelay(0).hidden(!1),c.dispatch=o,c.tooltip=l,c.margin=function(e){return arguments.length?(t.top=void 0!==e.top?e.top:t.top,t.left=void 0!==e.left?e.left:t.left,c):t},c.width=function(t){return arguments.length?(e=t,c):e},c.height=function(t){return arguments.length?(n=t,c):n},c.xScale=function(t){return arguments.length?(r=t,c):r},c.showGuideLine=function(t){return arguments.length?(a=t,c):a},c.svgContainer=function(t){return arguments.length?(s=t,c):s},c},i.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var i;i="function"!=typeof n?function(t){return t.x}:n;var r=d3.bisector(function(t,e){return i(t)-e}).left,o=d3.max([0,r(t,e)-1]),a=i(t[o]);if(void 0===a&&(a=o),a===e)return o;var s=d3.min([o+1,t.length-1]),l=i(t[s]);return void 0===l&&(l=s),Math.abs(l-e)>=Math.abs(a-e)?o:s},i.nearestValueIndex=function(t,e,n){"use strict";var i=1/0,r=null;return t.forEach(function(t,o){var a=Math.abs(e-t);null!=t&&a<=i&&a<n&&(i=a,r=o)}),r},i.models.tooltip=function(){"use strict";var t="nvtooltip-"+Math.floor(1e5*Math.random()),e=null,n="w",r=25,o=0,a=null,s=!0,l=200,u=null,c={left:null,top:null},d=!0,f=100,p=!0,h="nv-pointer-events-none",g=function(t,e,n){return t},v=function(t){return t},m=function(t,e){return t},y=function(t,e){if(null===t)return"";var n=d3.select(document.createElement("table"));p&&n.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(v(t.value));var i=n.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});i.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),i.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return m(t.key,e)}),i.append("td").classed("value",!0).html(function(t,e){return g(t.value,e,t)}),i.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+d3.format("%")(t.percent)+")"}),i.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var r=n.node().outerHTML;return void 0!==t.footer&&(r+="<div class='footer'>"+t.footer+"</div>"),r},x=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},b=function(t){if(t&&t.series){if(i.utils.isArray(t.series))return!0;if(i.utils.isObject(t.series))return t.series=[t.series],!0}return!1},k=function(){i.dom.read(function(){var t=x(),e=function(t){var e,i,o,a=u.node().offsetHeight,s=u.node().offsetWidth,l=document.documentElement.clientWidth,c=document.documentElement.clientHeight;switch(n){case"e":t.left+(e=-s-r)<0&&(e=r),(o=t.top+(i=-a/2))<0&&(i-=o),(o=t.top+i+a)>c&&(i-=o-c);break;case"w":t.left+(e=r)+s>l&&(e=-s-r),(o=t.top+(i=-a/2))<0&&(i-=o),(o=t.top+i+a)>c&&(i-=o-c);break;case"n":t.top+(i=r)+a>c&&(i=-a-r),(o=t.left+(e=-s/2-5))<0&&(e-=o),(o=t.left+e+s)>l&&(e-=o-l);break;case"s":t.top+(i=-a-r)<0&&(i=r),(o=t.left+(e=-s/2))<0&&(e-=o),(o=t.left+e+s)>l&&(e-=o-l);break;case"center":e=-s/2,i=-a/2;break;default:e=0,i=0}return{left:e,top:i}}(t),i=t.left+e.left,o=t.top+e.top;if(s)u.interrupt().transition().delay(l).duration(0).style("opacity",0);else{var a="translate("+c.left+"px, "+c.top+"px)",d="translate("+Math.round(i)+"px, "+Math.round(o)+"px)",p=d3.interpolateString(a,d),h=u.style("opacity")<.1;u.interrupt().transition().duration(h?0:f).styleTween("transform",function(t){return p},"important").styleTween("-webkit-transform",function(t){return p}).style("-ms-transform",d).style("opacity",1)}c.left=i,c.top=o})};function w(){if(d&&b(e))return i.dom.write(function(){u&&u.node()||((u=d3.select(document.body).select("#"+t).data([1])).enter().append("div").attr("class","nvtooltip "+(a||"xy-tooltip")).attr("id",t).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(h,!0).classed(h,!0),u.exit().remove());var n=y(e,u.node());n&&(u.node().innerHTML=n),k()}),w}return w.nvPointerEventsClass=h,w.options=i.utils.optionsFunc.bind(w),w._options=Object.create({},{duration:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return n},set:function(t){n=t}},distance:{get:function(){return r},set:function(t){r=t}},snapDistance:{get:function(){return o},set:function(t){o=t}},classes:{get:function(){return a},set:function(t){a=t}},enabled:{get:function(){return d},set:function(t){d=t}},hideDelay:{get:function(){return l},set:function(t){l=t}},contentGenerator:{get:function(){return y},set:function(t){y=t}},valueFormatter:{get:function(){return g},set:function(t){g=t}},headerFormatter:{get:function(){return v},set:function(t){v=t}},keyFormatter:{get:function(){return m},set:function(t){m=t}},headerEnabled:{get:function(){return p},set:function(t){p=t}},position:{get:function(){return x},set:function(t){x=t}},chartContainer:{get:function(){return document.body},set:function(t){i.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){i.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){i.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return s},set:function(t){s!=t&&(s=!!t,w())}},data:{get:function(){return e},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),e=t}},node:{get:function(){return u.node()},set:function(t){}},id:{get:function(){return t},set:function(t){}}}),i.utils.initOptions(w),w},i.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight,t):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight,t):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight,t):t},i.utils.isArray=Array.isArray,i.utils.isObject=function(t){return null!==t&&"object"==typeof t},i.utils.isFunction=function(t){return"function"==typeof t},i.utils.isDate=function(t){return"[object Date]"===toString.call(t)},i.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},i.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):i.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},i.utils.getColor=function(t){if(void 0===t)return i.utils.defaultColor();if(i.utils.isArray(t)){var e=d3.scale.ordinal().range(t);return function(t,n){return t.color||e(void 0===n?t:n)}}return t},i.utils.defaultColor=function(){return i.utils.getColor(d3.scale.category20().range())},i.utils.customTheme=function(t,e,n){e=e||function(t){return t.key};var r=(n=n||d3.scale.category20().range()).length;return function(o,a){var s=e(o);return i.utils.isFunction(t[s])?t[s]():void 0!==t[s]?t[s]:(r||(r=n.length),n[r-=1])}},i.utils.pjax=function(t,e){var n=function(n){d3.html(n,function(n){var r=d3.select(e).node();r.parentNode.replaceChild(d3.select(n).select(e).node(),r),i.utils.pjax(t,e)})};d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),n(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&n(d3.event.state)})},i.utils.calcApproxTextWidth=function(t){if(i.utils.isFunction(t.style)&&i.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return i.utils.NaNtoZero(n*e*.5)}return 0},i.utils.NaNtoZero=function(t){return!i.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},i.utils.renderWatch=function(t,e){if(!(this instanceof i.utils.renderWatch))return new i.utils.renderWatch(t,e);var n=void 0!==e?e:250,r=[],o=this;this.models=function(t){return(t=[].slice.call(arguments,0)).forEach(function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",function(t){e.__rendered=!0,o.renderEnd("model")}),r.indexOf(t)<0&&r.push(t)}),this},this.reset=function(t){void 0!==t&&(n=t),r=[]},this.transition=function(t,e,i){if(i=(e=arguments.length>1?[].slice.call(arguments,1):[]).length>1?e.pop():void 0!==n?n:250,t.__rendered=!1,r.indexOf(t)<0&&r.push(t),0===i)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;t.__rendered=0===t.length||!!t.every(function(t){return!t.length});var a=0;return t.transition().duration(i).each(function(){++a}).each("end",function(n,i){0==--a&&(t.__rendered=!0,o.renderEnd.apply(this,e))})},this.renderEnd=function(){r.every(function(t){return t.__rendered})&&(r.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},i.utils.deepExtend=function(t){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(e){for(var n in e){var r=i.utils.isArray(t[n]),o=i.utils.isObject(t[n]),a=i.utils.isObject(e[n]);o&&!r&&a?i.utils.deepExtend(t[n],e[n]):t[n]=e[n]}})},i.utils.state=function(){if(!(this instanceof i.utils.state))return new i.utils.state;var t={},e=function(){},n=function(){return{}},r=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return n=t,this},this.setter=function(t,n){return n||(n=function(){}),e=function(e,i){t(e),i&&n()},this},this.init=function(t){i.utils.deepExtend(r=r||{},t)},this.update=function(){r&&(e(r,!1),r=null),(function(){var e=n();if(JSON.stringify(e)===JSON.stringify(t))return!1;for(var i in e)void 0===t[i]&&(t[i]={}),t[i]=e[i];return!0}).call(this)&&this.dispatch.change(t)}},i.utils.optionsFunc=function(t){return t&&d3.map(t).forEach((function(t,e){i.utils.isFunction(this[t])&&this[t](e)}).bind(this)),this},i.utils.calcTicksX=function(t,e){for(var n=1,r=0;r<e.length;r+=1){var o=e[r]&&e[r].values?e[r].values.length:0;n=o>n?o:n}return i.log("Requested number of ticks: ",t),i.log("Calculated max values to be: ",n),t=(t=t>n?t=n-1:t)<1?1:t,t=Math.floor(t),i.log("Calculating tick count as: ",t),t},i.utils.calcTicksY=function(t,e){return i.utils.calcTicksX(t,e)},i.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:(t[e]=function(n){return arguments.length?(t._overrides[e]=!0,t._options[e]=n,t):t._options[e]},t["_"+e]=function(n){return arguments.length?(t._overrides[e]||(t._options[e]=n),t):t._options[e]})},i.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});for(var r in e=e.concat(n))i.utils.initOption(t,e[r])},i.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),t._d3options=(t._d3options||[]).filter(function(t,e,n){return n.indexOf(t)===e}),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},i.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},i.utils.symbolMap=d3.map(),i.utils.symbol=function(){var t,e=64;function n(n,r){var o=t.call(this,n,r),a=e.call(this,n,r);return-1!==d3.svg.symbolTypes.indexOf(o)?d3.svg.symbol().type(o).size(a)():i.utils.symbolMap.get(o)(a)}return n.type=function(e){return arguments.length?(t=d3.functor(e),n):t},n.size=function(t){return arguments.length?(e=d3.functor(t),n):e},n},i.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),r=Object.getOwnPropertyNames(e._calls||{}),o=e._inherited||[],a=e._d3options||[],s=n.concat(r).concat(o).concat(a);s.unshift(e),s.unshift(t),d3.rebind.apply(this,s),t._inherited=i.utils.arrayUnique(n.concat(r).concat(o).concat(n).concat(t._inherited||[])),t._d3options=i.utils.arrayUnique(a.concat(t._d3options||[]))},i.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},i.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},i.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},i.utils.availableHeight=function(t,e,n){return Math.max(0,i.utils.sanitizeHeight(t,e)-n.top-n.bottom)},i.utils.availableWidth=function(t,e,n){return Math.max(0,i.utils.sanitizeWidth(t,e)-n.left-n.right)},i.utils.noData=function(t,e){var n=t.options(),r=n.margin(),o=n.noData(),a=null==o?["No Data Available."]:[o],s=i.utils.availableHeight(null,e,r),l=i.utils.availableWidth(null,e,r),u=r.left+l/2,c=r.top+s/2;e.selectAll("g").remove();var d=e.selectAll(".nv-noData").data(a);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",u).attr("y",c).text(function(t){return t})},i.utils.wrapTicks=function(t,e){t.each(function(){for(var t,n=d3.select(this),i=n.text().split(/\s+/).reverse(),r=[],o=0,a=n.attr("y"),s=parseFloat(n.attr("dy")),l=n.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",s+"em");t=i.pop();)r.push(t),l.text(r.join(" ")),l.node().getComputedTextLength()>e&&(r.pop(),l.text(r.join(" ")),r=[t],l=n.append("tspan").attr("x",0).attr("y",a).attr("dy",1.1*++o+s+"em").text(t))})},i.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!i.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},i.utils.pointIsInArc=function(t,e,n){var i=n.innerRadius()(e),r=n.outerRadius()(e),o=n.startAngle()(e),a=n.endAngle()(e),s=t.x*t.x+t.y*t.y,l=Math.atan2(t.x,-t.y);return l=l<0?l+2*Math.PI:l,i*i<=s&&s<=r*r&&o<=l&&l<=a},i.models.axis=function(){"use strict";var t,e,n=d3.svg.axis(),r=d3.scale.linear(),o={top:0,right:0,bottom:0,left:0},a=75,s=60,l=null,u=!0,c=0,d=!0,f=!1,p=!1,h=null,g=0,v=void 0,m=250,y=d3.dispatch("renderEnd");n.scale(r).orient("bottom").tickFormat(function(t){return t});var x=i.utils.renderWatch(y,m);function b(s){return x.reset(),s.each(function(s){var m=d3.select(this);i.utils.initSVG(m);var y=m.selectAll("g.nv-wrap.nv-axis").data([s]),b=(y.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),y.select("g"));null!==h?n.ticks(h):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(r.range()[1]-r.range()[0])/100),b.watchTransition(x,"axis").call(n),e=e||n.scale();var k=n.tickFormat();null==k&&(k=e.tickFormat());var w,M,A,C=b.selectAll("text.nv-axislabel").data([l||null]);switch(C.exit().remove(),void 0!==v&&b.selectAll("g").select("text").style("font-size",v),n.orient()){case"top":C.enter().append("text").attr("class","nv-axislabel"),A=0,1===r.range().length?A=p?2*r.range()[0]+r.rangeBand():0:2===r.range().length?A=p?r.range()[0]+r.range()[1]+r.rangeBand():r.range()[1]:r.range().length>2&&(A=r.range()[r.range().length-1]+(r.range()[1]-r.range()[0])),C.attr("text-anchor","middle").attr("y",0).attr("x",A/2),u&&((M=y.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),M.exit().remove(),M.attr("transform",function(t,e){return"translate("+i.utils.NaNtoZero(r(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(e,n){var i=(t||k)(e);return(""+i).match("NaN")?"":i}),M.watchTransition(x,"min-max top").attr("transform",function(t,e){return"translate("+i.utils.NaNtoZero(r.range()[e])+",0)"}));break;case"bottom":w=g+36;var S=30,_=0,E=b.selectAll("g").select("text"),W="";if(c%360){E.attr("transform",""),E.each(function(t,e){var n=this.getBoundingClientRect(),i=n.width;_=n.height,i>S&&(S=i)}),W="rotate("+c+" 0,"+(_/2+n.tickPadding())+")";var F=Math.abs(Math.sin(c*Math.PI/180));w=(F?F*S:S)+30,E.attr("transform",W).style("text-anchor",c%360>0?"start":"end")}else E.attr("transform",f?function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}:"translate(0,0)");C.enter().append("text").attr("class","nv-axislabel"),A=0,1===r.range().length?A=p?2*r.range()[0]+r.rangeBand():0:2===r.range().length?A=p?r.range()[0]+r.range()[1]+r.rangeBand():r.range()[1]:r.range().length>2&&(A=r.range()[r.range().length-1]+(r.range()[1]-r.range()[0])),C.attr("text-anchor","middle").attr("y",w).attr("x",A/2),u&&((M=y.selectAll("g.nv-axisMaxMin").data([r.domain()[0],r.domain()[r.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),M.exit().remove(),M.attr("transform",function(t,e){return"translate("+i.utils.NaNtoZero(r(t)+(p?r.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",W).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(e,n){var i=(t||k)(e);return(""+i).match("NaN")?"":i}),M.watchTransition(x,"min-max bottom").attr("transform",function(t,e){return"translate("+i.utils.NaNtoZero(r(t)+(p?r.rangeBand()/2:0))+",0)"}));break;case"right":C.enter().append("text").attr("class","nv-axislabel"),C.style("text-anchor",d?"middle":"begin").attr("transform",d?"rotate(90)":"").attr("y",d?12-Math.max(o.right,a)-(g||0):-10).attr("x",d?d3.max(r.range())/2:n.tickPadding()),u&&((M=y.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),M.exit().remove(),M.attr("transform",function(t,e){return"translate(0,"+i.utils.NaNtoZero(r(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(e,n){var i=(t||k)(e);return(""+i).match("NaN")?"":i}),M.watchTransition(x,"min-max right").attr("transform",function(t,e){return"translate(0,"+i.utils.NaNtoZero(r.range()[e])+")"}).select("text").style("opacity",1));break;case"left":C.enter().append("text").attr("class","nv-axislabel"),C.style("text-anchor",d?"middle":"end").attr("transform",d?"rotate(-90)":"").attr("y",d?25-Math.max(o.left,a)-(g||0):-10).attr("x",d?-d3.max(r.range())/2:-n.tickPadding()),u&&((M=y.selectAll("g.nv-axisMaxMin").data(r.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),M.exit().remove(),M.attr("transform",function(t,n){return"translate(0,"+i.utils.NaNtoZero(e(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(e,n){var i=(t||k)(e);return(""+i).match("NaN")?"":i}),M.watchTransition(x,"min-max right").attr("transform",function(t,e){return"translate(0,"+i.utils.NaNtoZero(r.range()[e])+")"}).select("text").style("opacity",1))}if(C.text(function(t){return t}),!u||"left"!==n.orient()&&"right"!==n.orient()||(b.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(r(t)<r.range()[1]+10||r(t)>r.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),r.domain()[0]==r.domain()[1]&&0==r.domain()[0]&&y.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),u&&("top"===n.orient()||"bottom"===n.orient())){var N=[];y.selectAll("g.nv-axisMaxMin").each(function(t,e){try{N.push(e?r(t)-this.getBoundingClientRect().width-4:r(t)+this.getBoundingClientRect().width+4)}catch(n){N.push(e?r(t)-4:r(t)+4)}}),b.selectAll("g").each(function(t,e){(r(t)<N[0]||r(t)>N[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}b.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),e=r.copy()}),x.renderEnd("axis immediate"),b}return b.axis=n,b.dispatch=y,b.options=i.utils.optionsFunc.bind(b),b._options=Object.create({},{axisLabelDistance:{get:function(){return g},set:function(t){g=t}},staggerLabels:{get:function(){return f},set:function(t){f=t}},rotateLabels:{get:function(){return c},set:function(t){c=t}},rotateYLabel:{get:function(){return d},set:function(t){d=t}},showMaxMin:{get:function(){return u},set:function(t){u=t}},axisLabel:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return s},set:function(t){s=t}},ticks:{get:function(){return h},set:function(t){h=t}},width:{get:function(){return a},set:function(t){a=t}},fontSize:{get:function(){return v},set:function(t){v=t}},tickFormatMaxMin:{get:function(){return t},set:function(e){t=e}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return m},set:function(t){x.reset(m=t)}},scale:{get:function(){return r},set:function(t){n.scale(r=t),p="function"==typeof r.rangeBands,i.utils.inheritOptionsD3(b,r,["domain","range","rangeBand","rangeBands"])}}}),i.utils.initOptions(b),i.utils.inheritOptionsD3(b,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),i.utils.inheritOptionsD3(b,r,["domain","range","rangeBand","rangeBands"]),b},i.models.boxPlot=function(){"use strict";var t,e,n,r,o,a,s={top:0,right:0,bottom:0,left:0},l=960,u=500,c=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),f=d3.scale.linear(),p=function(t){return t.label},h=function(t){return t.values.Q1},g=function(t){return t.values.Q2},v=function(t){return t.values.Q3},m=function(t){return t.values.whisker_low},y=function(t){return t.values.whisker_high},x=function(t){return t.color},b=function(t){return t.values.outliers},k=function(t,e,n){return t},w=function(t,e,n){return t},M=function(t,e,n){},A=i.utils.defaultColor(),C=null,S=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),_=250,E=null,W=i.utils.renderWatch(S,_);function F(c){return W.reset(),c.each(function(c){var F=l-s.left-s.right,N=u-s.top-s.bottom;C=d3.select(this),i.utils.initSVG(C),d.domain(t||c.map(function(t,e){return p(t,e)})).rangeBands(e||[0,F],.1);var O=[];if(!n){var D=[];c.forEach(function(t,e){var n=h(t),i=v(t),r=m(t),o=y(t),a=b(t);a&&a.forEach(function(t,e){D.push(k(t,e,void 0))}),r&&D.push(r),n&&D.push(n),i&&D.push(i),o&&D.push(o)}),O=[d3.min(D),d3.max(D)]}f.domain(n||O),f.range(r||[N,0]),o=o||d,a=a||f.copy().range([f(0),f(0)]);var T=C.selectAll("g.nv-wrap").data([c]);T.enter().append("g").attr("class","nvd3 nv-wrap"),T.attr("transform","translate("+s.left+","+s.top+")");var L=T.selectAll(".nv-boxplot").data(function(t){return t}),P=L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);L.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(d(p(t,e))+.05*d.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),L.watchTransition(W,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*_/c.length}).attr("transform",function(t,e){return"translate("+(d(p(t,e))+.05*d.rangeBand())+", 0)"}),L.exit().remove(),P.each(function(t,e){var n=d3.select(this);[m,y].forEach(function(i){if(void 0!==i(t)&&null!==i(t)){var r=i===m?"low":"high";n.append("line").style("stroke",x(t)||A(t,e)).attr("class","nv-boxplot-whisker nv-boxplot-"+r),n.append("line").style("stroke",x(t)||A(t,e)).attr("class","nv-boxplot-tick nv-boxplot-"+r)}})});var B=function(){return null===E?.9*d.rangeBand():Math.min(75,.9*d.rangeBand())},I=function(){return.45*d.rangeBand()-B()/2},z=function(){return.45*d.rangeBand()+B()/2};[m,y].forEach(function(t){var e=t===m?"low":"high",n=t===m?h:v;L.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(W,"nv-boxplot: boxplots").attr("x1",.45*d.rangeBand()).attr("y1",function(e,n){return f(t(e))}).attr("x2",.45*d.rangeBand()).attr("y2",function(t,e){return f(n(t))}),L.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(W,"nv-boxplot: boxplots").attr("x1",I).attr("y1",function(e,n){return f(t(e))}).attr("x2",z).attr("y2",function(e,n){return f(t(e))})}),[m,y].forEach(function(t){P.selectAll(".nv-boxplot-"+(t===m?"low":"high")).on("mouseover",function(e,n,i){d3.select(this).classed("hover",!0),S.elementMouseover({series:{key:t(e),color:x(e)||A(e,i)},e:d3.event})}).on("mouseout",function(e,n,i){d3.select(this).classed("hover",!1),S.elementMouseout({series:{key:t(e),color:x(e)||A(e,i)},e:d3.event})}).on("mousemove",function(t,e){S.elementMousemove({e:d3.event})})}),P.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),S.elementMouseover({key:p(t),value:p(t),series:[{key:"Q3",value:v(t),color:x(t)||A(t,e)},{key:"Q2",value:g(t),color:x(t)||A(t,e)},{key:"Q1",value:h(t),color:x(t)||A(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),S.elementMouseout({key:p(t),value:p(t),series:[{key:"Q3",value:v(t),color:x(t)||A(t,e)},{key:"Q2",value:g(t),color:x(t)||A(t,e)},{key:"Q1",value:h(t),color:x(t)||A(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){S.elementMousemove({e:d3.event})}),L.select("rect.nv-boxplot-box").watchTransition(W,"nv-boxplot: boxes").attr("y",function(t,e){return f(v(t))}).attr("width",B).attr("x",I).attr("height",function(t,e){return Math.abs(f(v(t))-f(h(t)))||1}).style("fill",function(t,e){return x(t)||A(t,e)}).style("stroke",function(t,e){return x(t)||A(t,e)}),P.append("line").attr("class","nv-boxplot-median"),L.select("line.nv-boxplot-median").watchTransition(W,"nv-boxplot: boxplots line").attr("x1",I).attr("y1",function(t,e){return f(g(t))}).attr("x2",z).attr("y2",function(t,e){return f(g(t))});var H=L.selectAll(".nv-boxplot-outlier").data(function(t){return b(t)||[]});H.enter().append("circle").style("fill",function(t,e,n){return M(t,e,n)||A(t,n)}).style("stroke",function(t,e,n){return M(t,e,n)||A(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),S.elementMouseover({series:{key:w(t,e,n),color:M(t,e,n)||A(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),S.elementMouseout({series:{key:w(t,e,n),color:M(t,e,n)||A(t,n)},e:d3.event})}).on("mousemove",function(t,e){S.elementMousemove({e:d3.event})}),H.attr("class","nv-boxplot-outlier"),H.watchTransition(W,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*d.rangeBand()).attr("cy",function(t,e,n){return f(k(t,e,n))}).attr("r","3"),H.exit().remove(),o=d.copy(),a=f.copy()}),W.renderEnd("nv-boxplot immediate"),F}return F.dispatch=S,F.options=i.utils.optionsFunc.bind(F),F._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},maxBoxWidth:{get:function(){return E},set:function(t){E=t}},x:{get:function(){return p},set:function(t){p=t}},q1:{get:function(){return h},set:function(t){h=t}},q2:{get:function(){return g},set:function(t){g=t}},q3:{get:function(){return v},set:function(t){v=t}},wl:{get:function(){return m},set:function(t){m=t}},wh:{get:function(){return y},set:function(t){y=t}},itemColor:{get:function(){return x},set:function(t){x=t}},outliers:{get:function(){return b},set:function(t){b=t}},outlierValue:{get:function(){return k},set:function(t){k=t}},outlierLabel:{get:function(){return w},set:function(t){w=t}},outlierColor:{get:function(){return M},set:function(t){M=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return e},set:function(t){e=t}},yRange:{get:function(){return r},set:function(t){r=t}},id:{get:function(){return c},set:function(t){c=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},color:{get:function(){return A},set:function(t){A=i.utils.getColor(t)}},duration:{get:function(){return _},set:function(t){W.reset(_=t)}}}),i.utils.initOptions(F),F},i.models.boxPlotChart=function(){"use strict";var t,e,n=i.models.boxPlot(),r=i.models.axis(),o=i.models.axis(),a={top:15,right:10,bottom:50,left:60},s=null,l=null,u=i.utils.getColor(),c=!0,d=!0,f=!1,p=!1,h=i.models.tooltip(),g="No Data Available.",v=d3.dispatch("beforeUpdate","renderEnd"),m=250;r.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(f?"right":"left").tickFormat(d3.format(",.1f")),h.duration(0);var y=i.utils.renderWatch(v,m);function x(u){return y.reset(),y.models(n),c&&y.models(r),d&&y.models(o),u.each(function(u){var h=d3.select(this);i.utils.initSVG(h);var y=(s||parseInt(h.style("width"))||960)-a.left-a.right,b=(l||parseInt(h.style("height"))||400)-a.top-a.bottom;if(x.update=function(){v.beforeUpdate(),h.transition().duration(m).call(x)},x.container=this,!u||!u.length){var k=h.selectAll(".nv-noData").data([g]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",a.left+y/2).attr("y",a.top+b/2).text(function(t){return t}),x}h.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var w=h.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([u]),M=w.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),A=M.append("defs"),C=w.select("g");if(M.append("g").attr("class","nv-x nv-axis"),M.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),M.append("g").attr("class","nv-barsWrap"),C.attr("transform","translate("+a.left+","+a.top+")"),f&&C.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),n.width(y).height(b),C.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(n),A.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),C.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(p?2:1)).attr("height",16).attr("x",-t.rangeBand()/(p?1:2)),c){r.scale(t).ticks(i.utils.calcTicksX(y/100,u)).tickSize(-b,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),C.select(".nv-x.nv-axis").call(r);var S=C.select(".nv-x.nv-axis").selectAll("g");p&&S.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}d&&(o.scale(e).ticks(Math.floor(b/36)).tickSize(-y,0),C.select(".nv-y.nv-axis").call(o)),C.select(".nv-zeroLine line").attr("x1",0).attr("x2",y).attr("y1",e(0)).attr("y2",e(0))}),y.renderEnd("nv-boxplot chart immediate"),x}return n.dispatch.on("elementMouseover.tooltip",function(t){h.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){h.data(t).hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){h()}),x.dispatch=v,x.boxplot=n,x.xAxis=r,x.yAxis=o,x.tooltip=h,x.options=i.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},staggerLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return c},set:function(t){c=t}},showYAxis:{get:function(){return d},set:function(t){d=t}},tooltipContent:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return m},set:function(t){y.reset(m=t),n.duration(m),r.duration(m),o.duration(m)}},color:{get:function(){return u},set:function(t){u=i.utils.getColor(t),n.color(u)}},rightAlignYAxis:{get:function(){return f},set:function(t){f=t,o.orient(t?"right":"left")}}}),i.utils.inheritOptions(x,n),i.utils.initOptions(x),x},i.models.bullet=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},e="left",n=!1,r=function(t){return t.ranges},o=function(t){return t.markers?t.markers:[]},a=function(t){return t.markerLines?t.markerLines:[0]},s=function(t){return t.measures},l=function(t){return t.rangeLabels?t.rangeLabels:[]},u=function(t){return t.markerLabels?t.markerLabels:[]},c=function(t){return t.markerLineLabels?t.markerLineLabels:[]},d=function(t){return t.measureLabels?t.measureLabels:[]},f=[0],p=380,h=30,g=null,v=null,m=i.utils.getColor(["#1f77b4"]),y=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),x=["Maximum","Mean","Minimum"],b=["Max","Avg","Min"],k=1e3;function w(t,e){var n=t.slice();t.sort(function(t,i){var r=n.indexOf(t),o=n.indexOf(i);return d3.descending(e[r],e[o])})}function M(e){return e.each(function(e,v){var M=p-t.left-t.right,A=h-t.top-t.bottom;g=d3.select(this),i.utils.initSVG(g);var C=r.call(this,e,v).slice(),S=o.call(this,e,v).slice(),_=a.call(this,e,v).slice(),E=s.call(this,e,v).slice(),W=l.call(this,e,v).slice(),F=u.call(this,e,v).slice(),N=c.call(this,e,v).slice(),O=d.call(this,e,v).slice();w(W,C),w(F,S),w(N,_),w(O,E),C.sort(d3.descending),S.sort(d3.descending),_.sort(d3.descending),E.sort(d3.descending);var D=d3.scale.linear().domain(d3.extent(d3.merge([f,C]))).range(n?[M,0]:[0,M]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(D.range()),this.__chart__=D,d3.min(C),d3.max(C);for(var T=g.selectAll("g.nv-wrap.nv-bullet").data([e]),L=T.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),P=T.select("g"),B=(v=0,C.length);v<B;v++){var I="nv-range nv-range"+v;v<=2&&(I=I+" nv-range"+b[v]),L.append("rect").attr("class",I)}L.append("rect").attr("class","nv-measure"),T.attr("transform","translate("+t.left+","+t.top+")");var z=function(t){return Math.abs(D(t)-D(0))},H=function(t){return D(t<0?t:0)};for(v=0,B=C.length;v<B;v++){var V=C[v];P.select("rect.nv-range"+v).datum(V).attr("height",A).transition().duration(k).attr("width",z(V)).attr("x",H(V))}P.select("rect.nv-measure").style("fill",m).attr("height",A/3).attr("y",A/3).on("mouseover",function(){y.elementMouseover({value:E[0],label:O[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:E[0],label:O[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){y.elementMouseout({value:E[0],label:O[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(k).attr("width",E<0?D(0)-D(E[0]):D(E[0])-D(0)).attr("x",H(E));var G=A/6,Y=S.map(function(t,e){return{value:t,label:F[e]}});L.selectAll("path.nv-markerTriangle").data(Y).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+G+"L"+G+","+-G+" "+-G+","+-G+"Z").on("mouseover",function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[D(t.value),A/2]})}).on("mousemove",function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),P.selectAll("path.nv-markerTriangle").data(Y).transition().duration(k).attr("transform",function(t){return"translate("+D(t.value)+","+A/2+")"});var R=_.map(function(t,e){return{value:t,label:N[e]}});L.selectAll("line.nv-markerLine").data(R).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return D(t.value)}).attr("y1","2").attr("x2",function(t){return D(t.value)}).attr("y2",A-2).on("mouseover",function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[D(t.value),A/2]})}).on("mousemove",function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),P.selectAll("line.nv-markerLine").data(R).transition().duration(k).attr("x1",function(t){return D(t.value)}).attr("x2",function(t){return D(t.value)}),T.selectAll(".nv-range").on("mouseover",function(t,e){y.elementMouseover({value:t,label:W[e]||x[e],color:d3.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:E[0],label:O[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t,label:W[e]||x[e],color:d3.select(this).style("fill")})})}),M}return M.dispatch=y,M.options=i.utils.optionsFunc.bind(M),M._options=Object.create({},{ranges:{get:function(){return r},set:function(t){r=t}},markers:{get:function(){return o},set:function(t){o=t}},measures:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return f},set:function(t){f=t}},width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return h},set:function(t){h=t}},tickFormat:{get:function(){return v},set:function(t){v=t}},duration:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},orient:{get:function(){return e},set:function(t){n="right"==(e=t)||"bottom"==e}},color:{get:function(){return m},set:function(t){m=i.utils.getColor(t)}}}),i.utils.initOptions(M),M},i.models.bulletChart=function(){"use strict";var t=i.models.bullet(),e=i.models.tooltip(),n="left",r=!1,o={top:5,right:40,bottom:20,left:120},a=function(t){return t.ranges},s=function(t){return t.markers?t.markers:[]},l=function(t){return t.measures},u=null,c=55,d=null,f=null,p=null,h=d3.dispatch();function g(e){return e.each(function(n,p){var h=d3.select(this);i.utils.initSVG(h);var v=i.utils.availableWidth(u,h,o),m=c-o.top-o.bottom;if(g.update=function(){g(e)},g.container=this,!n||!a.call(this,n,p))return i.utils.noData(g,h),g;h.selectAll(".nv-noData").remove();var y=a.call(this,n,p).slice().sort(d3.descending),x=s.call(this,n,p).slice().sort(d3.descending),b=l.call(this,n,p).slice().sort(d3.descending),k=h.selectAll("g.nv-wrap.nv-bulletChart").data([n]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),M=k.select("g");w.append("g").attr("class","nv-bulletWrap"),w.append("g").attr("class","nv-titles"),k.attr("transform","translate("+o.left+","+o.top+")");var A=d3.scale.linear().domain([0,Math.max(y[0],x[0]||0,b[0])]).range(r?[v,0]:[0,v]),C=this.__chart__||d3.scale.linear().domain([0,1/0]).range(A.range());this.__chart__=A;var S=w.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-o.top-o.bottom)/2+")");S.append("text").attr("class","nv-title").text(function(t){return t.title}),S.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),t.width(v).height(m);var _=M.select(".nv-bulletWrap");d3.transition(_).call(t);var E=d||A.tickFormat(v/100),W=M.selectAll("g.nv-tick").data(A.ticks(f||v/50),function(t){return this.textContent||E(t)}),F=W.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+C(t)+",0)"}).style("opacity",1e-6);F.append("line").attr("y1",m).attr("y2",7*m/6),F.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*m/6).text(E);var N=d3.transition(W).transition().duration(t.duration()).attr("transform",function(t){return"translate("+A(t)+",0)"}).style("opacity",1);N.select("line").attr("y1",m).attr("y2",7*m/6),N.select("text").attr("y",7*m/6),d3.transition(W.exit()).transition().duration(t.duration()).attr("transform",function(t){return"translate("+A(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),g}return e.duration(0).headerEnabled(!1),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),g.bullet=t,g.dispatch=h,g.tooltip=e,g.options=i.utils.optionsFunc.bind(g),g._options=Object.create({},{ranges:{get:function(){return a},set:function(t){a=t}},markers:{get:function(){return s},set:function(t){s=t}},measures:{get:function(){return l},set:function(t){l=t}},width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},tickFormat:{get:function(){return d},set:function(t){d=t}},ticks:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},orient:{get:function(){return n},set:function(t){r="right"==(n=t)||"bottom"==n}}}),i.utils.inheritOptions(g,t),i.utils.initOptions(g),g},i.models.candlestickBar=function(){"use strict";var t,e,n,r,o,a={top:0,right:0,bottom:0,left:0},s=null,l=null,u=Math.floor(1e4*Math.random()),c=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},h=function(t){return t.open},g=function(t){return t.close},v=function(t){return t.high},m=function(t){return t.low},y=[],x=[],b=!1,k=!0,w=i.utils.defaultColor(),M=!1,A=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function C(w){return w.each(function(w){t=d3.select(this);var M=i.utils.availableWidth(s,t,a),C=i.utils.availableHeight(l,t,a);i.utils.initSVG(t);var S=M/w[0].values.length*.45;c.domain(e||d3.extent(w[0].values.map(f).concat(y))),c.range(b?r||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]:r||[5+S/2,M-S/2-5]),d.domain(n||[d3.min(w[0].values.map(m).concat(x)),d3.max(w[0].values.map(v).concat(x))]).range(o||[C,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var _=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([w[0].values]),E=_.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),W=E.append("defs"),F=E.append("g"),N=_.select("g");F.append("g").attr("class","nv-ticks"),_.attr("transform","translate("+a.left+","+a.top+")"),t.on("click",function(t,e){A.chartClick({data:t,index:e,pos:d3.event,id:u})}),W.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),_.select("#nv-chart-clip-path-"+u+" rect").attr("width",M).attr("height",C),N.attr("clip-path",k?"url(#nv-chart-clip-path-"+u+")":"");var O=_.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});O.exit().remove();var D=O.enter().append("g");O.attr("class",function(t,e,n){return(h(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),D.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+c(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return d(v(t,e))}).attr("x2",0).attr("y2",function(t,e){return d(m(t,e))}),D.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(c(f(t,e))-S/2)+","+(d(p(t,e))-(h(t,e)>g(t,e)?d(g(t,e))-d(h(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",S).attr("height",function(t,e){var n=h(t,e),i=g(t,e);return n>i?d(i)-d(n):d(n)-d(i)}),O.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+c(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return d(v(t,e))}).attr("x2",0).attr("y2",function(t,e){return d(m(t,e))}),O.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(c(f(t,e))-S/2)+","+(d(p(t,e))-(h(t,e)>g(t,e)?d(g(t,e))-d(h(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",S).attr("height",function(t,e){var n=h(t,e),i=g(t,e);return n>i?d(i)-d(n):d(n)-d(i)})}),C}return C.highlightPoint=function(e,n){C.clearHighlights(),t.select(".nv-candlestickBar .nv-tick-0-"+e).classed("hover",n)},C.clearHighlights=function(){t.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},C.dispatch=A,C.options=i.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},open:{get:function(){return h()},set:function(t){h=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return v},set:function(t){v=t}},low:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return a},set:function(t){a.top=null!=t.top?t.top:a.top,a.right=null!=t.right?t.right:a.right,a.bottom=null!=t.bottom?t.bottom:a.bottom,a.left=null!=t.left?t.left:a.left}},color:{get:function(){return w},set:function(t){w=i.utils.getColor(t)}}}),i.utils.initOptions(C),C},i.models.cumulativeLineChart=function(){"use strict";var t,e,n=i.models.line(),r=i.models.axis(),o=i.models.axis(),a=i.models.legend(),s=i.models.legend(),l=i.interactiveGuideline(),u=i.models.tooltip(),c={top:30,right:30,bottom:50,left:60},d=null,f=i.utils.defaultColor(),p=null,h=null,g=!0,v=!0,m=!0,y=!1,x=!0,b=!1,k=!0,w=n.id(),M=i.utils.state(),A=null,C=null,S=function(t){return t.average},_=d3.dispatch("stateChange","changeState","renderEnd"),E=250,W=!1;M.index=0,M.rescaleY=k,r.orient("bottom").tickPadding(7),o.orient(y?"right":"left"),u.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return r.tickFormat()(t,e)}),s.updateState(!1);var F,N=d3.scale.linear(),O={i:0,x:0},D=i.utils.renderWatch(_,E),T=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:O.i,rescaleY:k}}},L=function(t){return function(e){void 0!==e.index&&(O.i=e.index),void 0!==e.rescaleY&&(k=e.rescaleY),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function P(u){return D.reset(),D.models(n),v&&D.models(r),m&&D.models(o),u.each(function(u){var C=d3.select(this);i.utils.initSVG(C),C.classed("nv-chart-"+w,!0);var D,z=i.utils.availableWidth(p,C,c),H=i.utils.availableHeight(h,C,c);if(P.update=function(){0===E?C.call(P):C.transition().duration(E).call(P)},P.container=this,M.setter(L(u),P.update).getter(T(u)).update(),M.disabled=u.map(function(t){return!!t.disabled}),!A)for(D in A={},M)A[D]=M[D]instanceof Array?M[D].slice(0):M[D];var V=d3.behavior.drag().on("dragstart",function(t,e){d3.select(P.container).style("cursor","ew-resize")}).on("drag",function(t,e){O.x=d3.event.x,O.i=Math.round(N.invert(O.x)),Q()}).on("dragend",function(t,e){d3.select(P.container).style("cursor","auto"),M.index=O.i,_.stateChange(M)});if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return i.utils.noData(P,C),P;C.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale(),N.domain([0,u[0].values.length-1]).range([0,z]).clamp(!0),u=function(t,e){return B||(B=n.y()),e.map(function(e,n){if(!e.values)return e;var i=e.values[t];if(null==i)return e;var r=B(i,t);return Math.abs(r)<1e-5&&!W?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(B(t,e)-r)/r},t}),e)})}(O.i,u),void 0===F&&(F=I(u)),k?n.yDomain(null):(n.yDomain(F),n.clipEdge(!0));var G=b?"none":"all",Y=C.selectAll("g.nv-wrap.nv-cumulativeLine").data([u]),R=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),j=Y.select("g");if(R.append("g").attr("class","nv-interactive"),R.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-background"),R.append("g").attr("class","nv-linesWrap").style("pointer-events",G),R.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap"),g?(a.width(z),j.select(".nv-legendWrap").datum(u).call(a),d||a.height()===c.top||(c.top=a.height(),H=i.utils.availableHeight(h,C,c)),j.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):j.select(".nv-legendWrap").selectAll("*").remove(),x){var X=[{key:"Re-scale y-axis",disabled:!k}];s.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),j.select(".nv-controlsWrap").datum(X).attr("transform","translate(0,"+-c.top+")").call(s)}else j.select(".nv-controlsWrap").selectAll("*").remove();Y.attr("transform","translate("+c.left+","+c.top+")"),y&&j.select(".nv-y.nv-axis").attr("transform","translate("+z+",0)");var Z=u.filter(function(t){return t.tempDisabled});Y.select(".tempDisabled").remove(),Z.length&&Y.append("text").attr("class","tempDisabled").attr("x",z/2).attr("y","-.71em").style("text-anchor","end").text(Z.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),b&&(l.width(z).height(H).margin({left:c.left,top:c.top}).svgContainer(C).xScale(t),Y.select(".nv-interactive").call(l)),R.select(".nv-background").append("rect"),j.select(".nv-background rect").attr("width",z).attr("height",H),n.y(function(t){return t.display.y}).width(z).height(H).color(u.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!u[e].disabled&&!u[e].tempDisabled}));var $=j.select(".nv-linesWrap").datum(u.filter(function(t){return!t.disabled&&!t.tempDisabled}));$.call(n),u.forEach(function(t,e){t.seriesIndex=e});var q=u.filter(function(t){return!t.disabled&&!!S(t)}),K=j.select(".nv-avgLinesWrap").selectAll("line").data(q,function(t){return t.key}),U=function(t){var n=e(S(t));return n<0?0:n>H?H:n};K.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return n.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",z).attr("y1",U).attr("y2",U),K.style("stroke-opacity",function(t){var n=e(S(t));return n<0||n>H?0:1}).attr("x1",0).attr("x2",z).attr("y1",U).attr("y2",U),K.exit().remove();var J=$.selectAll(".nv-indexLine").data([O]);function Q(){J.data([O]);var t=P.duration();P.duration(0),P.update(),P.duration(t)}J.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(V),J.attr("transform",function(t){return"translate("+N(t.i)+",0)"}).attr("height",H),v&&(r.scale(t)._ticks(i.utils.calcTicksX(z/70,u)).tickSize(-H,0),j.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),j.select(".nv-x.nv-axis").call(r)),m&&(o.scale(e)._ticks(i.utils.calcTicksY(H/36,u)).tickSize(-z,0),j.select(".nv-y.nv-axis").call(o)),j.select(".nv-background rect").on("click",function(){O.x=d3.mouse(this)[0],O.i=Math.round(N.invert(O.x)),M.index=O.i,_.stateChange(M),Q()}),n.dispatch.on("elementClick",function(t){O.i=t.pointIndex,O.x=N(O.i),M.index=O.i,_.stateChange(M),Q()}),s.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,M.rescaleY=k=!t.disabled,k||(F=I(u)),_.stateChange(M),P.update()}),a.dispatch.on("stateChange",function(t){for(var e in t)M[e]=t[e];_.stateChange(M),P.update()}),l.dispatch.on("elementMousemove",function(t){n.clearHighlights();var e,a,s,c=[];if(u.filter(function(t,e){return t.seriesIndex=e,!(t.disabled||t.tempDisabled)}).forEach(function(r,o){a=i.interactiveBisect(r.values,t.pointXValue,P.x()),n.highlightPoint(o,a,!0);var l=r.values[a];void 0!==l&&(void 0===e&&(e=l),void 0===s&&(s=P.xScale()(P.x()(l,a))),c.push({key:r.key,value:P.y()(l,a),color:f(r,r.seriesIndex)}))}),c.length>2){var d=P.yScale().invert(t.mouseY),p=.03*Math.abs(P.yScale().domain()[0]-P.yScale().domain()[1]),h=i.nearestValueIndex(c.map(function(t){return t.value}),d,p);null!==h&&(c[h].highlight=!0)}var g=r.tickFormat()(P.x()(e,a),a);l.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t)}).data({value:g,series:c})(),l.renderGuideLine(s)}),l.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),_.on("changeState",function(t){void 0!==t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),M.disabled=t.disabled),void 0!==t.index&&(O.i=t.index,O.x=N(O.i),M.index=t.index,J.data([O])),void 0!==t.rescaleY&&(k=t.rescaleY),P.update()})}),D.renderEnd("cumulativeLineChart immediate"),P}n.dispatch.on("elementMouseover.tooltip",function(t){var e={x:P.x()(t.point),y:P.y()(t.point),color:t.point.color};t.point=e,u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)});var B=null;function I(t){var e=t.filter(function(t){return!(t.disabled||t.tempDisabled)}).map(function(t,e){return d3.extent(t.values,function(t){return t.display.y})});return[d3.min(e,function(t){return t[0]}),d3.max(e,function(t){return t[1]})]}return P.dispatch=_,P.lines=n,P.legend=a,P.controls=s,P.xAxis=r,P.yAxis=o,P.interactiveLayer=l,P.state=M,P.tooltip=u,P.options=i.utils.optionsFunc.bind(P),P._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return h},set:function(t){h=t}},showControls:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return g},set:function(t){g=t}},average:{get:function(){return S},set:function(t){S=t}},defaultState:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return C},set:function(t){C=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},noErrorCheck:{get:function(){return W},set:function(t){W=t}},rescaleY:{get:function(){return k},set:function(t){k=t,P.state.rescaleY=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t),a.color(f)}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=t,!0===t&&(P.interactive(!1),P.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,o.orient(t?"right":"left")}},duration:{get:function(){return E},set:function(t){n.duration(E=t),r.duration(E),o.duration(E),D.reset(E)}}}),i.utils.inheritOptions(P,n),i.utils.initOptions(P),P},i.models.discreteBar=function(){"use strict";var t,e,n,r,o,a,s,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),p=d3.scale.linear(),h=function(t){return t.x},g=function(t){return t.y},v=[0],m=i.utils.defaultColor(),y=!1,x=d3.format(",.2f"),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),k="discreteBar",w=250,M=i.utils.renderWatch(b,w);function A(d){return M.reset(),d.each(function(d){var w=u-l.left-l.right,A=c-l.top-l.bottom;t=d3.select(this),i.utils.initSVG(t),d.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var C=e&&n?[]:d.map(function(t){return t.values.map(function(t,e){return{x:h(t,e),y:g(t,e),y0:t.y0}})});f.domain(e||d3.merge(C).map(function(t){return t.x})).rangeBands(r||[0,w],.1),p.domain(n||d3.extent(d3.merge(C).map(function(t){return t.y}).concat(v))),p.range(y?o||[A-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]:o||[A,0]),a=a||f,s=s||p.copy().range([p(0),p(0)]);var S=t.selectAll("g.nv-wrap.nv-discretebar").data([d]),_=S.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");S.select("g"),_.append("g").attr("class","nv-groups"),S.attr("transform","translate("+l.left+","+l.top+")");var E=S.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().watchTransition(M,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),E.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),E.watchTransition(M,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var W=E.selectAll("g.nv-bar").data(function(t){return t.values});W.exit().remove();var F=W.enter().append("g").attr("transform",function(t,e,n){return"translate("+(f(h(t,e))+.05*f.rangeBand())+", "+p(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),b.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),b.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){b.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){b.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){b.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});F.append("rect").attr("height",0).attr("width",.9*f.rangeBand()/d.length),y?(F.append("text").attr("text-anchor","middle"),W.select("text").text(function(t,e){return x(g(t,e))}).watchTransition(M,"discreteBar: bars text").attr("x",.9*f.rangeBand()/2).attr("y",function(t,e){return g(t,e)<0?p(g(t,e))-p(0)+12:-4})):W.selectAll("text").remove(),W.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||m(t,e)}).style("stroke",function(t,e){return t.color||m(t,e)}).select("rect").attr("class",k).watchTransition(M,"discreteBar: bars rect").attr("width",.9*f.rangeBand()/d.length),W.watchTransition(M,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(f(h(t,e))+.05*f.rangeBand())+", "+(g(t,e)<0?p(0):p(0)-p(g(t,e))<1?p(0)-1:p(g(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(p(g(t,e))-p(0)),1)}),a=f.copy(),s=p.copy()}),M.renderEnd("discreteBar immediate"),A}return A.dispatch=b,A.options=i.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},forceY:{get:function(){return v},set:function(t){v=t}},showValues:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return h},set:function(t){h=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},valueFormat:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return d},set:function(t){d=t}},rectClass:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},color:{get:function(){return m},set:function(t){m=i.utils.getColor(t)}},duration:{get:function(){return w},set:function(t){M.reset(w=t)}}}),i.utils.initOptions(A),A},i.models.discreteBarChart=function(){"use strict";var t,e,n=i.models.discreteBar(),r=i.models.axis(),o=i.models.axis(),a=i.models.legend(),s=i.models.tooltip(),l={top:15,right:10,bottom:50,left:60},u=null,c=null,d=null,f=i.utils.getColor(),p=!1,h=!0,g=!0,v=!1,m=!1,y=!1,x=0,b=null,k=d3.dispatch("beforeUpdate","renderEnd"),w=250;r.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(v?"right":"left").tickFormat(d3.format(",.1f")),s.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).keyFormatter(function(t,e){return r.tickFormat()(t,e)});var M=i.utils.renderWatch(k,w);function A(s){return M.reset(),M.models(n),h&&M.models(r),g&&M.models(o),s.each(function(s){var f=d3.select(this);i.utils.initSVG(f);var b=i.utils.availableWidth(c,f,l),M=i.utils.availableHeight(d,f,l);if(A.update=function(){k.beforeUpdate(),f.transition().duration(w).call(A)},A.container=this,!(s&&s.length&&s.filter(function(t){return t.values.length}).length))return i.utils.noData(A,f),A;f.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var C=f.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([s]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),_=S.append("defs"),E=C.select("g");if(S.append("g").attr("class","nv-x nv-axis"),S.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),S.append("g").attr("class","nv-barsWrap"),S.append("g").attr("class","nv-legendWrap"),E.attr("transform","translate("+l.left+","+l.top+")"),p?(a.width(b),E.select(".nv-legendWrap").datum(s).call(a),u||a.height()===l.top||(l.top=a.height(),M=i.utils.availableHeight(d,f,l)),C.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")):E.select(".nv-legendWrap").selectAll("*").remove(),v&&E.select(".nv-y.nv-axis").attr("transform","translate("+b+",0)"),n.width(b).height(M),E.select(".nv-barsWrap").datum(s.filter(function(t){return!t.disabled})).transition().call(n),_.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),E.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(m?2:1)).attr("height",16).attr("x",-t.rangeBand()/(m?1:2)),h){r.scale(t)._ticks(i.utils.calcTicksX(b/100,s)).tickSize(-M,0),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+(e.range()[0]+(n.showValues()&&e.domain()[0]<0?16:0))+")"),E.select(".nv-x.nv-axis").call(r);var W=E.select(".nv-x.nv-axis").selectAll("g");m&&W.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),x&&W.selectAll(".tick text").attr("transform","rotate("+x+" 0,0)").style("text-anchor",x>0?"start":"end"),y&&E.selectAll(".tick text").call(i.utils.wrapTicks,A.xAxis.rangeBand())}g&&(o.scale(e)._ticks(i.utils.calcTicksY(M/36,s)).tickSize(-b,0),E.select(".nv-y.nv-axis").call(o)),E.select(".nv-zeroLine line").attr("x1",0).attr("x2",v?-b:b).attr("y1",e(0)).attr("y2",e(0))}),M.renderEnd("discreteBar chart immediate"),A}return n.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:A.x()(t.data),value:A.y()(t.data),color:t.color},s.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){s.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){s()}),A.dispatch=k,A.discretebar=n,A.legend=a,A.xAxis=r,A.yAxis=o,A.tooltip=s,A.options=i.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return p},set:function(t){p=t}},staggerLabels:{get:function(){return m},set:function(t){m=t}},rotateLabels:{get:function(){return x},set:function(t){x=t}},wrapLabels:{get:function(){return y},set:function(t){y=!!t}},showXAxis:{get:function(){return h},set:function(t){h=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,u=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return w},set:function(t){M.reset(w=t),n.duration(w),r.duration(w),o.duration(w)}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t),n.color(f),a.color(f)}},rightAlignYAxis:{get:function(){return v},set:function(t){v=t,o.orient(t?"right":"left")}}}),i.utils.inheritOptions(A,n),i.utils.initOptions(A),A},i.models.distribution=function(){"use strict";var t,e={top:0,right:0,bottom:0,left:0},n=400,r=8,o="x",a=function(t){return t[o]},s=i.utils.defaultColor(),l=d3.scale.linear(),u=250,c=d3.dispatch("renderEnd"),d=i.utils.renderWatch(c,u);function f(n){return d.reset(),n.each(function(n){var u="x"==o?"y":"x",c=d3.select(this);i.utils.initSVG(c),t=t||l;var f=c.selectAll("g.nv-distribution").data([n]),p=(f.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),f.select("g"));f.attr("transform","translate("+e.left+","+e.top+")");var h=p.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});h.enter().append("g"),h.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return s(t,e)});var g=h.selectAll("line.nv-dist"+o).data(function(t){return t.values});g.enter().append("line").attr(o+"1",function(e,n){return t(a(e,n))}).attr(o+"2",function(e,n){return t(a(e,n))}),d.transition(h.exit().selectAll("line.nv-dist"+o),"dist exit").attr(o+"1",function(t,e){return l(a(t,e))}).attr(o+"2",function(t,e){return l(a(t,e))}).style("stroke-opacity",0).remove(),g.attr("class",function(t,e){return"nv-dist"+o+" nv-dist"+o+"-"+e}).attr(u+"1",0).attr(u+"2",r),d.transition(g,"dist").attr(o+"1",function(t,e){return l(a(t,e))}).attr(o+"2",function(t,e){return l(a(t,e))}),t=l.copy()}),d.renderEnd("distribution immediate"),f}return f.options=i.utils.optionsFunc.bind(f),f.dispatch=c,f.margin=function(t){return arguments.length?(e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left,f):e},f.width=function(t){return arguments.length?(n=t,f):n},f.axis=function(t){return arguments.length?(o=t,f):o},f.size=function(t){return arguments.length?(r=t,f):r},f.getData=function(t){return arguments.length?(a=d3.functor(t),f):a},f.scale=function(t){return arguments.length?(l=t,f):l},f.color=function(t){return arguments.length?(s=i.utils.getColor(t),f):s},f.duration=function(t){return arguments.length?(d.reset(u=t),f):u},f},i.models.focus=function(t){"use strict";t=t||i.models.line();var e,n,r=i.models.axis(),o=i.models.axis(),a=d3.svg.brush(),s={top:10,right:0,bottom:30,left:0},l=i.utils.defaultColor(),u=null,c=70,d=!0,f=!1,p=!1,h=null,g=250,v=d3.dispatch("brush","onBrush","renderEnd"),m=!0;t.interactive(!1),t.pointActive(function(t){return!1});var y=i.utils.renderWatch(v,g);function x(b){return y.reset(),y.models(t),d&&y.models(r),f&&y.models(o),b.each(function(y){var b=d3.select(this);i.utils.initSVG(b);var k=i.utils.availableWidth(u,b,s),w=c-s.top-s.bottom;x.update=function(){0===g?b.call(x):b.transition().duration(g).call(x)},x.container=this,e=t.xScale(),n=t.yScale();var M=b.selectAll("g.nv-focus").data([y]),A=M.enter().append("g").attr("class","nvd3 nv-focus").append("g"),C=M.select("g");M.attr("transform","translate("+s.left+","+s.top+")"),A.append("g").attr("class","nv-background").append("rect"),A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis"),A.append("g").attr("class","nv-contentWrap"),A.append("g").attr("class","nv-brushBackground"),A.append("g").attr("class","nv-x nv-brush"),p&&C.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)"),C.select(".nv-background rect").attr("width",k).attr("height",w),t.width(k).height(w).color(y.map(function(t,e){return t.color||l(t,e)}).filter(function(t,e){return!y[e].disabled}));var S=C.select(".nv-contentWrap").datum(y.filter(function(t){return!t.disabled}));d3.transition(S).call(t),a.x(e).on("brush",function(){F(m)}),a.on("brushend",function(){m||v.onBrush(a.empty()?e.domain():a.extent())}),h&&a.extent(h);var _=C.select(".nv-brushBackground").selectAll("g").data([h||a.extent()]),E=_.enter().append("g");E.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",w),E.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",w);var W=C.select(".nv-x.nv-brush").call(a);function F(t){h=a.empty()?null:a.extent();var n=a.empty()?e.domain():a.extent();v.brush({extent:n,brush:a}),a.empty()||a.extent(h),_.data([a.empty()?e.domain():h]).each(function(t,n){var i=e(t[0])-e.range()[0],r=k-e(t[1]);d3.select(this).select(".left").attr("width",i<0?0:i),d3.select(this).select(".right").attr("x",e(t[1])).attr("width",r<0?0:r)}),t&&v.onBrush(n)}W.selectAll("rect").attr("height",w),W.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=w/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),F(!0),C.select(".nv-background rect").attr("width",k).attr("height",w),d&&(r.scale(e)._ticks(i.utils.calcTicksX(k/100,y)).tickSize(-w,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),d3.transition(C.select(".nv-x.nv-axis")).call(r)),f&&(o.scale(n)._ticks(i.utils.calcTicksY(w/36,y)).tickSize(-k,0),d3.transition(C.select(".nv-y.nv-axis")).call(o)),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")")}),y.renderEnd("focus immediate"),x}return x.dispatch=v,x.content=t,x.brush=a,x.xAxis=r,x.yAxis=o,x.options=i.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},brushExtent:{get:function(){return h},set:function(t){h=t}},syncBrushing:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return g},set:function(e){y.reset(g=e),t.duration(g),r.duration(g),o.duration(g)}},color:{get:function(){return l},set:function(e){l=i.utils.getColor(e),t.color(l)}},interpolate:{get:function(){return t.interpolate()},set:function(e){t.interpolate(e)}},xTickFormat:{get:function(){return r.tickFormat()},set:function(t){r.tickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t)}},x:{get:function(){return t.x()},set:function(e){t.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e)}},rightAlignYAxis:{get:function(){return p},set:function(t){o.orient((p=t)?"right":"left")}}}),i.utils.inheritOptions(x,t),i.utils.initOptions(x),x},i.models.forceDirectedGraph=function(){"use strict";var t={top:2,right:0,bottom:2,left:0},e=400,n=32,r=null,o=d3.dispatch("renderEnd"),a=i.utils.getColor(["#000"]),s=i.models.tooltip(),l=null,u=.1,c=.9,d=30,f=-120,p=.1,h=.8,g=.1,v=5,m=function(t){},y=function(t){},x=d3.functor(0),b=d3.functor(0),k=i.utils.renderWatch(o);function w(o){return k.reset(),o.each(function(o){r=d3.select(this),i.utils.initSVG(r);var l=i.utils.availableWidth(e,r,t),x=i.utils.availableHeight(n,r,t);if(r.attr("width",l).attr("height",x),!(o&&o.links&&o.nodes))return i.utils.noData(w,r),w;r.selectAll(".nv-noData").remove(),r.selectAll("*").remove();var b=new Set;o.nodes.forEach(function(t){Object.keys(t).forEach(function(t){b.add(t)})});var k=d3.layout.force().nodes(o.nodes).links(o.links).size([l,x]).linkStrength(u).friction(c).linkDistance(d).charge(f).gravity(p).theta(h).alpha(g).start(),M=r.selectAll(".link").data(o.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),A=r.selectAll(".node").data(o.nodes).enter().append("g").attr("class","nv-force-node").call(k.drag);A.append("circle").attr("r",v).style("fill",function(t){return a(t)}).on("mouseover",function(t){r.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.py),r.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.px);var e=a(t);t.series=[],b.forEach(function(n){t.series.push({color:e,key:n,value:t[n]})}),s.data(t).hidden(!1)}).on("mouseout",function(t){s.hidden(!0)}),s.headerFormatter(function(t){return"Node"}),y(M),m(A),k.on("tick",function(){M.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),A.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),w}return w.options=i.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},linkStrength:{get:function(){return u},set:function(t){u=t}},friction:{get:function(){return c},set:function(t){c=t}},linkDist:{get:function(){return d},set:function(t){d=t}},charge:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return p},set:function(t){p=t}},theta:{get:function(){return h},set:function(t){h=t}},alpha:{get:function(){return g},set:function(t){g=t}},radius:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return x},set:function(t){x=d3.functor(t)}},y:{get:function(){return b},set:function(t){b=d3.functor(t)}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=i.utils.getColor(t)}},noData:{get:function(){return l},set:function(t){l=t}},nodeExtras:{get:function(){return m},set:function(t){m=t}},linkExtras:{get:function(){return y},set:function(t){y=t}}}),w.dispatch=o,w.tooltip=s,i.utils.initOptions(w),w},i.models.furiousLegend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=400,n=20,r=function(t){return t.key},o=function(t){return t},a=i.utils.getColor(),s=20,l=!0,u=28,c=!0,d=!0,f=!1,p=!1,h=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),g="classic";function v(m){function y(t,e){return"furious"!=g?"#000":p?t.disengaged?a(t,e):"#fff":p?void 0:t.disabled?a(t,e):"#fff"}function x(t,e){return p&&"furious"==g?t.disengaged?"#fff":a(t,e):t.disabled?"#fff":a(t,e)}return m.each(function(v){var m=e-t.left-t.right,b=d3.select(this);i.utils.initSVG(b);var k=b.selectAll("g.nv-legend").data([v]),w=(k.enter().append("g").attr("class","nvd3 nv-legend").append("g"),k.select("g"));k.attr("transform","translate("+t.left+","+t.top+")");var M,A=w.selectAll(".nv-series").data(function(t){return"furious"!=g?t:t.filter(function(t){return!!p||!t.disengaged})}),C=A.enter().append("g").attr("class","nv-series");"classic"==g?(C.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),M=A.select("circle")):"furious"==g&&(C.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),M=A.select("rect"),C.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),A.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",y(t,e))})),C.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var S,_=A.select("text.nv-legend-text");switch(A.on("mouseover",function(t,e){h.legendMouseover(t,e)}).on("mouseout",function(t,e){h.legendMouseout(t,e)}).on("click",function(t,e){h.legendClick(t,e);var n=A.data();d&&("classic"==g?f?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==g&&(p?(t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):p||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),h.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){if(("furious"!=g||!p)&&(h.legendDblclick(t,e),d)){var n=A.data();n.forEach(function(t){t.disabled=!0,"furious"==g&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==g&&(t.userDisabled=t.disabled),h.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),A.classed("nv-disabled",function(t){return t.userDisabled}),A.exit().remove(),_.attr("fill",y).text(function(t){return o(r(t))}),g){case"furious":S=23;break;case"classic":S=20}if(l){var E=[];A.each(function(t,e){var n,a;if(o(r(t))&&o(r(t)).length>s){var l=o(r(t)).substring(0,s);n=d3.select(this).select("text").text(l+"..."),d3.select(this).append("svg:title").text(o(r(t)))}else n=d3.select(this).select("text");try{if((a=n.node().getComputedTextLength())<=0)throw Error()}catch(c){a=i.utils.calcApproxTextWidth(n)}E.push(a+u)});for(var W=0,F=0,N=[];F<m&&W<E.length;)N[W]=E[W],F+=E[W++];for(0===W&&(W=1);F>m&&W>1;){N=[],W--;for(var O=0;O<E.length;O++)E[O]>(N[O%W]||0)&&(N[O%W]=E[O]);F=N.reduce(function(t,e,n,i){return t+e})}for(var D=[],T=0,L=0;T<W;T++)D[T]=L,L+=N[T];A.attr("transform",function(t,e){return"translate("+D[e%W]+","+(5+Math.floor(e/W)*S)+")"}),w.attr("transform",c?"translate("+(e-t.right-F)+","+t.top+")":"translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(E.length/W)*S}else{var P,B=5,I=5,z=0;A.attr("transform",function(n,i){var r=d3.select(this).select("text").node().getComputedTextLength()+u;return e<t.left+t.right+(P=I)+r&&(I=P=5,B+=S),(I+=r)>z&&(z=I),"translate("+P+","+B+")"}),w.attr("transform","translate("+(e-t.right-z)+","+t.top+")"),n=t.top+t.bottom+B+15}"furious"==g&&M.attr("width",function(t,e){return _[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),M.style("fill",x).style("stroke",function(t,e){return t.color||a(t,e)})}),v}return v.dispatch=h,v.options=i.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return r},set:function(t){r=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return l},set:function(t){l=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},maxKeyLength:{get:function(){return s},set:function(t){s=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return d},set:function(t){d=t}},radioButtonMode:{get:function(){return f},set:function(t){f=t}},expanded:{get:function(){return p},set:function(t){p=t}},vers:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=i.utils.getColor(t)}}}),i.utils.initOptions(v),v},i.models.historicalBar=function(){"use strict";var t,e,n,r,o={top:0,right:0,bottom:0,left:0},a=null,s=null,l=Math.floor(1e4*Math.random()),u=null,c=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},h=[],g=[0],v=!1,m=!0,y=i.utils.defaultColor(),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),b=!0,k=i.utils.renderWatch(x,0);function w(M){return M.each(function(w){k.reset(),u=d3.select(this);var M=i.utils.availableWidth(a,u,o),A=i.utils.availableHeight(s,u,o);i.utils.initSVG(u),c.domain(t||d3.extent(w[0].values.map(f).concat(h))),c.range(v?n||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]:n||[0,M]),d.domain(e||d3.extent(w[0].values.map(p).concat(g))).range(r||[A,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var C=u.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([w[0].values]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+l),_=S.append("defs"),E=S.append("g"),W=C.select("g");E.append("g").attr("class","nv-bars"),C.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){x.chartClick({data:t,index:e,pos:d3.event,id:l})}),_.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),C.select("#nv-chart-clip-path-"+l+" rect").attr("width",M).attr("height",A),W.attr("clip-path",m?"url(#nv-chart-clip-path-"+l+")":"");var F=C.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return f(t,e)});F.exit().remove(),F.enter().append("rect").attr("x",0).attr("y",function(t,e){return i.utils.NaNtoZero(d(Math.max(0,p(t,e))))}).attr("height",function(t,e){return i.utils.NaNtoZero(Math.abs(d(p(t,e))-d(0)))}).attr("transform",function(t,e){return"translate("+(c(f(t,e))-M/w[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){b&&(d3.select(this).classed("hover",!0),x.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){b&&(d3.select(this).classed("hover",!1),x.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){b&&x.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){b&&(x.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation())}).on("dblclick",function(t,e){b&&(x.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),F.attr("fill",function(t,e){return y(t,e)}).attr("class",function(t,e,n){return(p(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(k,"bars").attr("transform",function(t,e){return"translate("+(c(f(t,e))-M/w[0].values.length*.45)+",0)"}).attr("width",M/w[0].values.length*.9),F.watchTransition(k,"bars").attr("y",function(t,e){var n=p(t,e)<0?d(0):d(0)-d(p(t,e))<1?d(0)-1:d(p(t,e));return i.utils.NaNtoZero(n)}).attr("height",function(t,e){return i.utils.NaNtoZero(Math.max(Math.abs(d(p(t,e))-d(0)),1))})}),k.renderEnd("historicalBar immediate"),w}return w.highlightPoint=function(t,e){u.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},w.clearHighlights=function(){u.select(".nv-bars .nv-bar.hover").classed("hover",!1)},w.dispatch=x,w.options=i.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return h},set:function(t){h=t}},forceY:{get:function(){return g},set:function(t){g=t}},padData:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return r},set:function(t){r=t}},clipEdge:{get:function(){return m},set:function(t){m=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return y},set:function(t){y=i.utils.getColor(t)}}}),i.utils.initOptions(w),w},i.models.historicalBarChart=function(t){"use strict";var e,n,r=t||i.models.historicalBar(),o=i.models.axis(),a=i.models.axis(),s=i.models.legend(),l=i.interactiveGuideline(),u=i.models.tooltip(),c={top:30,right:90,bottom:50,left:90},d=null,f=i.utils.defaultColor(),p=null,h=null,g=!1,v=!0,m=!0,y=!1,x=!1,b={},k=null,w=null,M=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),A=250;o.orient("bottom").tickPadding(7),a.orient(y?"right":"left"),u.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return a.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)});var C=i.utils.renderWatch(M,0);function S(t){return t.each(function(u){C.reset(),C.models(r),v&&C.models(o),m&&C.models(a);var w=d3.select(this);i.utils.initSVG(w);var _,E=i.utils.availableWidth(p,w,c),W=i.utils.availableHeight(h,w,c);if(S.update=function(){w.transition().duration(A).call(S)},S.container=this,b.disabled=u.map(function(t){return!!t.disabled}),!k)for(_ in k={},b)k[_]=b[_]instanceof Array?b[_].slice(0):b[_];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return i.utils.noData(S,w),S;w.selectAll(".nv-noData").remove(),e=r.xScale(),n=r.yScale();var F=w.selectAll("g.nv-wrap.nv-historicalBarChart").data([u]),N=F.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),O=F.select("g");N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-barsWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-interactive"),g?(s.width(E),O.select(".nv-legendWrap").datum(u).call(s),d||s.height()===c.top||(c.top=s.height(),W=i.utils.availableHeight(h,w,c)),F.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):O.select(".nv-legendWrap").selectAll("*").remove(),F.attr("transform","translate("+c.left+","+c.top+")"),y&&O.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)"),x&&(l.width(E).height(W).margin({left:c.left,top:c.top}).svgContainer(w).xScale(e),F.select(".nv-interactive").call(l)),r.width(E).height(W).color(u.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!u[e].disabled})),O.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(r),v&&(o.scale(e)._ticks(i.utils.calcTicksX(E/100,u)).tickSize(-W,0),O.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),O.select(".nv-x.nv-axis").transition().call(o)),m&&(a.scale(n)._ticks(i.utils.calcTicksY(W/36,u)).tickSize(-E,0),O.select(".nv-y.nv-axis").transition().call(a)),l.dispatch.on("elementMousemove",function(t){r.clearHighlights();var e,n,s,c=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,a){n=i.interactiveBisect(o.values,t.pointXValue,S.x()),r.highlightPoint(n,!0);var l=o.values[n];void 0!==l&&(void 0===e&&(e=l),void 0===s&&(s=S.xScale()(S.x()(l,n))),c.push({key:o.key,value:S.y()(l,n),color:f(o,o.seriesIndex),data:o.values[n]}))});var d=o.tickFormat()(S.x()(e,n));l.tooltip.valueFormatter(function(t,e){return a.tickFormat()(t)}).data({value:d,index:n,series:c})(),l.renderGuideLine(s)}),l.dispatch.on("elementMouseout",function(t){M.tooltipHide(),r.clearHighlights()}),s.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,u.filter(function(t){return!t.disabled}).length||u.map(function(t){return t.disabled=!1,F.selectAll(".nv-series").classed("disabled",!1),t}),b.disabled=u.map(function(t){return!!t.disabled}),M.stateChange(b),t.transition().call(S)}),s.dispatch.on("legendDblclick",function(t){u.forEach(function(t){t.disabled=!0}),t.disabled=!1,b.disabled=u.map(function(t){return!!t.disabled}),M.stateChange(b),S.update()}),M.on("changeState",function(t){void 0!==t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),b.disabled=t.disabled),S.update()})}),C.renderEnd("historicalBarChart immediate"),S}return r.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:S.x()(t.data),value:S.y()(t.data),color:t.color},u.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(t){u()}),S.dispatch=M,S.bars=r,S.legend=s,S.xAxis=o,S.yAxis=a,S.interactiveLayer=l,S.tooltip=u,S.options=i.utils.optionsFunc.bind(S),S._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t),s.color(f),r.color(f)}},duration:{get:function(){return A},set:function(t){C.reset(A=t),a.duration(A),o.duration(A)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,a.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return x},set:function(t){x=t,!0===t&&S.interactive(!1)}}}),i.utils.inheritOptions(S,r),i.utils.initOptions(S),S},i.models.ohlcBarChart=function(){var t=i.models.historicalBarChart(i.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},i.models.candlestickBarChart=function(){var t=i.models.historicalBarChart(i.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},i.models.legend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=400,n=20,r=function(t){return t.key},o=function(t){return t},a=i.utils.getColor(),s=20,l=!0,u=32,c=!0,d=!0,f=!0,p=!1,h=!1,g=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),v="classic";function m(y){function x(t,e){return"furious"!=v?"#000":h?t.disengaged?"#000":"#fff":h?void 0:(t.color||(t.color=a(t,e)),t.disabled?t.color:"#fff")}function b(t,e){return h&&"furious"==v&&t.disengaged?"#eee":t.color||a(t,e)}function k(t,e){return h&&"furious"==v?1:t.disabled?0:1}return y.each(function(a){var m=e-t.left-t.right,y=d3.select(this);i.utils.initSVG(y);var w=y.selectAll("g.nv-legend").data([a]),M=w.enter().append("g").attr("class","nvd3 nv-legend").append("g"),A=w.select("g");w.attr("transform",c?"translate("+-t.right+","+t.top+")":"translate("+t.left+","+t.top+")");var C,S,_=A.selectAll(".nv-series").data(function(t){return"furious"!=v?t:t.filter(function(t){return!!h||!t.disengaged})}),E=_.enter().append("g").attr("class","nv-series");switch(v){case"furious":S=23;break;case"classic":S=20}"classic"==v?(E.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),C=_.select(".nv-legend-symbol")):"furious"==v&&(E.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),C=_.select(".nv-legend-symbol"),E.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),_.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",x(t,e))})),E.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var W=_.select("text.nv-legend-text");_.on("mouseover",function(t,e){g.legendMouseover(t,e)}).on("mouseout",function(t,e){g.legendMouseout(t,e)}).on("click",function(t,e){g.legendClick(t,e);var n=_.data();d&&("classic"==v?p?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==v&&(h?(t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):h||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),g.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){if(f){if("furious"==v&&h)return;if(g.legendDblclick(t,e),d){var n=_.data();n.forEach(function(t){t.disabled=!0,"furious"==v&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==v&&(t.userDisabled=t.disabled),g.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}}),_.classed("nv-disabled",function(t){return t.userDisabled}),_.exit().remove(),W.attr("fill",x).text(function(t){return o(r(t))});var F=0;if(l){var N=[];_.each(function(t,e){var n,a;if(o(r(t))&&o(r(t)).length>s){var l=o(r(t)).substring(0,s);n=d3.select(this).select("text").text(l+"..."),d3.select(this).append("svg:title").text(o(r(t)))}else n=d3.select(this).select("text");try{if((a=n.node().getComputedTextLength())<=0)throw Error()}catch(c){a=i.utils.calcApproxTextWidth(n)}N.push(a+u)});var O=0,D=[];for(F=0;F<m&&O<N.length;)D[O]=N[O],F+=N[O++];for(0===O&&(O=1);F>m&&O>1;){D=[],O--;for(var T=0;T<N.length;T++)N[T]>(D[T%O]||0)&&(D[T%O]=N[T]);F=D.reduce(function(t,e,n,i){return t+e})}for(var L=[],P=0,B=0;P<O;P++)L[P]=B,B+=D[P];_.attr("transform",function(t,e){return"translate("+L[e%O]+","+(5+Math.floor(e/O)*S)+")"}),A.attr("transform",c?"translate("+(e-t.right-F)+","+t.top+")":"translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(N.length/O)*S}else{var I,z=5,H=5,V=0;_.attr("transform",function(n,i){var r=d3.select(this).select("text").node().getComputedTextLength()+u;return e<t.left+t.right+(I=H)+r&&(H=I=5,z+=S),(H+=r)>V&&(V=H),F<I+V&&(F=I+V),"translate("+I+","+z+")"}),A.attr("transform","translate("+(e-t.right-V)+","+t.top+")"),n=t.top+t.bottom+z+15}"furious"==v&&(C.attr("width",function(t,e){return W[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),M.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),A.select(".nv-legend-bg").transition().duration(300).attr("x",-S).attr("width",F+S-12).attr("height",n+10).attr("y",-t.top-10).attr("opacity",h?1:0)),C.style("fill",b).style("fill-opacity",k).style("stroke",b)}),m}return m.dispatch=g,m.options=i.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return r},set:function(t){r=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return l},set:function(t){l=t}},maxKeyLength:{get:function(){return s},set:function(t){s=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return d},set:function(t){d=t}},enableDoubleClick:{get:function(){return f},set:function(t){f=t}},radioButtonMode:{get:function(){return p},set:function(t){p=t}},expanded:{get:function(){return h},set:function(t){h=t}},vers:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=i.utils.getColor(t)}}}),i.utils.initOptions(m),m},i.models.line=function(){"use strict";var t,e,n=i.models.scatter(),r={top:0,right:0,bottom:0,left:0},o=960,a=500,s=null,l=1.5,u=i.utils.defaultColor(),c=function(t){return t.x},d=function(t){return t.y},f=function(t,e){return!isNaN(d(t,e))&&null!==d(t,e)},p=function(t){return t.area},h=!1,g="linear",v=250,m=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");n.pointSize(16).pointDomain([16,256]);var y,x,b=i.utils.renderWatch(m,v);function k(v){return b.reset(),b.models(n),v.each(function(v){s=d3.select(this);var m=i.utils.availableWidth(o,s,r),k=i.utils.availableHeight(a,s,r);i.utils.initSVG(s),t=n.xScale(),e=n.yScale(),y=y||t,x=x||e;var w=s.selectAll("g.nv-wrap.nv-line").data([v]),M=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),A=M.append("defs"),C=M.append("g"),S=w.select("g");C.append("g").attr("class","nv-groups"),C.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+r.left+","+r.top+")"),n.width(m).height(k);var _=w.select(".nv-scatterWrap");_.call(n),A.append("clipPath").attr("id","nv-edge-clip-"+n.id()).append("rect"),w.select("#nv-edge-clip-"+n.id()+" rect").attr("width",m).attr("height",k>0?k:0),S.attr("clip-path",h?"url(#nv-edge-clip-"+n.id()+")":""),_.attr("clip-path",h?"url(#nv-edge-clip-"+n.id()+")":"");var E=w.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});E.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||l}).style("fill-opacity",1e-6),E.exit().remove(),E.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}),E.watchTransition(b,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var W=E.selectAll("path.nv-area").data(function(t){return p(t)?[t]:[]});W.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(g).defined(f).x(function(t,e){return i.utils.NaNtoZero(y(c(t,e)))}).y0(function(t,e){return i.utils.NaNtoZero(x(d(t,e)))}).y1(function(t,n){return x(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[t.values])}),E.exit().selectAll("path.nv-area").remove(),W.watchTransition(b,"line: areaPaths").attr("d",function(n){return d3.svg.area().interpolate(g).defined(f).x(function(e,n){return i.utils.NaNtoZero(t(c(e,n)))}).y0(function(t,n){return i.utils.NaNtoZero(e(d(t,n)))}).y1(function(t,n){return e(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[n.values])});var F=E.selectAll("path.nv-line").data(function(t){return[t.values]});F.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(g).defined(f).x(function(t,e){return i.utils.NaNtoZero(y(c(t,e)))}).y(function(t,e){return i.utils.NaNtoZero(x(d(t,e)))})),F.watchTransition(b,"line: linePaths").attr("d",d3.svg.line().interpolate(g).defined(f).x(function(e,n){return i.utils.NaNtoZero(t(c(e,n)))}).y(function(t,n){return i.utils.NaNtoZero(e(d(t,n)))})),y=t.copy(),x=e.copy()}),b.renderEnd("line immediate"),k}return k.dispatch=m,k.scatter=n,n.dispatch.on("elementClick",function(){m.elementClick.apply(this,arguments)}),n.dispatch.on("elementMouseover",function(){m.elementMouseover.apply(this,arguments)}),n.dispatch.on("elementMouseout",function(){m.elementMouseout.apply(this,arguments)}),k.options=i.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},defined:{get:function(){return f},set:function(t){f=t}},interpolate:{get:function(){return g},set:function(t){g=t}},clipEdge:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},duration:{get:function(){return v},set:function(t){b.reset(v=t),n.duration(v)}},isArea:{get:function(){return p},set:function(t){p=d3.functor(t)}},x:{get:function(){return c},set:function(t){c=t,n.x(t)}},y:{get:function(){return d},set:function(t){d=t,n.y(t)}},color:{get:function(){return u},set:function(t){u=i.utils.getColor(t),n.color(u)}}}),i.utils.inheritOptions(k,n),i.utils.initOptions(k),k},i.models.lineChart=function(){"use strict";var t,e,n=i.models.line(),r=i.models.axis(),o=i.models.axis(),a=i.models.legend(),s=i.interactiveGuideline(),l=i.models.tooltip(),u=i.models.focus(i.models.line()),c={top:30,right:20,bottom:50,left:60},d=null,f=i.utils.defaultColor(),p=null,h=null,g=!0,v="top",m=!0,y=!0,x=!1,b=!1,k=!1,w=i.utils.state(),M=null,A=null,C=d3.dispatch("stateChange","changeState","renderEnd"),S=250;r.orient("bottom").tickPadding(7),o.orient(x?"right":"left"),n.clipEdge(!0).duration(0),l.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return r.tickFormat()(t,e)}),s.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return r.tickFormat()(t,e)});var _=i.utils.renderWatch(C,S),E=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},W=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function F(l){return _.reset(),_.models(n),m&&_.models(r),y&&_.models(o),l.each(function(l){var A=d3.select(this);i.utils.initSVG(A);var _,N=i.utils.availableWidth(p,A,c),O=i.utils.availableHeight(h,A,c)-(k?u.height():0);if(F.update=function(){0===S?A.call(F):A.transition().duration(S).call(F)},F.container=this,w.setter(W(l),F.update).getter(E(l)).update(),w.disabled=l.map(function(t){return!!t.disabled}),!M)for(_ in M={},w)M[_]=w[_]instanceof Array?w[_].slice(0):w[_];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return i.utils.noData(F,A),F;A.selectAll(".nv-noData").remove(),u.dispatch.on("onBrush",function(t){V(t)}),t=n.xScale(),e=n.yScale();var D=A.selectAll("g.nv-wrap.nv-lineChart").data([l]),T=D.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),L=D.select("g");T.append("g").attr("class","nv-legendWrap");var P=T.append("g").attr("class","nv-focus");P.append("g").attr("class","nv-background").append("rect"),P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-linesWrap"),P.append("g").attr("class","nv-interactive"),T.append("g").attr("class","nv-focusWrap"),g?(a.width(N),L.select(".nv-legendWrap").datum(l).call(a),"bottom"===v?(c.bottom=r.height()+a.height(),O=i.utils.availableHeight(h,A,c),L.select(".nv-legendWrap").attr("transform","translate(0,"+(O+r.height())+")")):"top"===v&&(d||a.height()===c.top||(c.top=a.height(),O=i.utils.availableHeight(h,A,c)-(k?u.height():0)),D.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")"))):L.select(".nv-legendWrap").selectAll("*").remove(),D.attr("transform","translate("+c.left+","+c.top+")"),x&&L.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),b&&(s.width(N).height(O).margin({left:c.left,top:c.top}).svgContainer(A).xScale(t),D.select(".nv-interactive").call(s)),L.select(".nv-focus .nv-background rect").attr("width",N).attr("height",O),n.width(N).height(O).color(l.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!l[e].disabled}));var B=L.select(".nv-linesWrap").datum(l.filter(function(t){return!t.disabled}));function I(){m&&L.select(".nv-focus .nv-x.nv-axis").transition().duration(S).call(r)}function z(){y&&L.select(".nv-focus .nv-y.nv-axis").transition().duration(S).call(o)}if(m&&r.scale(t)._ticks(i.utils.calcTicksX(N/100,l)).tickSize(-O,0),y&&o.scale(e)._ticks(i.utils.calcTicksY(O/36,l)).tickSize(-N,0),L.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+O+")"),k||null!==u.brush.extent()){u.width(N),L.select(".nv-focusWrap").style("display",k?"initial":"none").attr("transform","translate(0,"+(O+c.bottom+u.margin().top)+")").call(u);var H=u.brush.empty()?u.xDomain():u.brush.extent();null!==H&&V(H)}else B.call(n),I(),z();function V(t){L.select(".nv-focus .nv-linesWrap").datum(l.filter(function(t){return!t.disabled}).map(function(e,i){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,i){return n.x()(e,i)>=t[0]&&n.x()(e,i)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(S).call(n),I(),z()}a.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];C.stateChange(w),F.update()}),s.dispatch.on("elementMousemove",function(e){n.clearHighlights();var r,a,c,d=[];if(l.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(o,s){var l=null!==u.brush.extent()?u.brush.empty()?u.xScale().domain():u.brush.extent():t.domain(),p=o.values.filter(function(t,e){return l[0]<=l[1]?n.x()(t,e)>=l[0]&&n.x()(t,e)<=l[1]:n.x()(t,e)>=l[1]&&n.x()(t,e)<=l[0]}),h=p[a=i.interactiveBisect(p,e.pointXValue,n.x())],g=F.y()(h,a);null!==g&&n.highlightPoint(s,a,!0),void 0!==h&&(void 0===r&&(r=h),void 0===c&&(c=F.xScale()(F.x()(h,a))),d.push({key:o.key,value:g,color:f(o,o.seriesIndex),data:h}))}),d.length>2){var p=F.yScale().invert(e.mouseY),h=.03*Math.abs(F.yScale().domain()[0]-F.yScale().domain()[1]),g=i.nearestValueIndex(d.map(function(t){return t.value}),p,h);null!==g&&(d[g].highlight=!0)}s.tooltip.valueFormatter(s.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":o.tickFormat()(t)}).data({value:F.x()(r,a),index:a,series:d})(),s.renderGuideLine(c)}),s.dispatch.on("elementClick",function(t){var e,r=[];l.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(n){var o=i.interactiveBisect(n.values,t.pointXValue,F.x()),a=n.values[o];if(void 0!==a){void 0===e&&(e=F.xScale()(F.x()(a,o)));var s=F.yScale()(F.y()(a,o));r.push({point:a,pointIndex:o,pos:[e,s],seriesIndex:n.seriesIndex,series:n})}}),n.dispatch.elementClick(r)}),s.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),C.on("changeState",function(t){void 0!==t.disabled&&l.length===t.disabled.length&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),F.update()})}),_.renderEnd("lineChart immediate"),F}return n.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||l.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),F.dispatch=C,F.lines=n,F.legend=a,F.focus=u,F.xAxis=r,F.x2Axis=u.xAxis,F.yAxis=o,F.y2Axis=u.yAxis,F.interactiveLayer=s,F.tooltip=l,F.state=w,F.dispatch=C,F.options=i.utils.optionsFunc.bind(F),F._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return g},set:function(t){g=t}},legendPosition:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return A},set:function(t){A=t}},focusEnable:{get:function(){return k},set:function(t){k=t}},focusHeight:{get:function(){return u.height()},set:function(t){u.height(t)}},focusShowAxisX:{get:function(){return u.showXAxis()},set:function(t){u.showXAxis(t)}},focusShowAxisY:{get:function(){return u.showYAxis()},set:function(t){u.showYAxis(t)}},brushExtent:{get:function(){return u.brushExtent()},set:function(t){u.brushExtent(t)}},focusMargin:{get:function(){return u.margin},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),u.margin.right=void 0!==t.right?t.right:u.margin.right,u.margin.bottom=void 0!==t.bottom?t.bottom:u.margin.bottom,u.margin.left=void 0!==t.left?t.left:u.margin.left}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return S},set:function(t){_.reset(S=t),n.duration(S),u.duration(S),r.duration(S),o.duration(S)}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t),a.color(f),n.color(f),u.color(f)}},interpolate:{get:function(){return n.interpolate()},set:function(t){n.interpolate(t),u.interpolate(t)}},xTickFormat:{get:function(){return r.tickFormat()},set:function(t){r.tickFormat(t),u.xTickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t),u.yTickFormat(t)}},x:{get:function(){return n.x()},set:function(t){n.x(t),u.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),u.y(t)}},rightAlignYAxis:{get:function(){return x},set:function(t){o.orient((x=t)?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){(b=t)&&(n.interactive(!1),n.useVoronoi(!1))}}}),i.utils.inheritOptions(F,n),i.utils.initOptions(F),F},i.models.lineWithFocusChart=function(){return i.models.lineChart().margin({bottom:30}).focusEnable(!0)},i.models.linePlusBarChart=function(){"use strict";var t,e,n,r,o,a,s,l=i.models.line(),u=i.models.line(),c=i.models.historicalBar(),d=i.models.historicalBar(),f=i.models.axis(),p=i.models.axis(),h=i.models.axis(),g=i.models.axis(),v=i.models.axis(),m=i.models.axis(),y=i.models.legend(),x=d3.svg.brush(),b=i.models.tooltip(),k={top:30,right:30,bottom:30,left:60},w=null,M={top:0,right:30,bottom:20,left:60},A=null,C=null,S=function(t){return t.x},_=function(t){return t.y},E=i.utils.defaultColor(),W=!0,F=!0,N=!1,O=!0,D=50,T=null,L=null,P=d3.dispatch("brush","stateChange","changeState"),B=0,I=i.utils.state(),z=null,H=" (left axis)",V=" (right axis)",G=!1;l.clipEdge(!0),u.interactive(!1),u.pointActive(function(t){return!1}),f.orient("bottom").tickPadding(5),h.orient("left"),g.orient("right"),p.orient("bottom").tickPadding(5),v.orient("left"),m.orient("right"),b.headerEnabled(!0).headerFormatter(function(t,e){return f.tickFormat()(t,e)});var Y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},R=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},j=function(t){return t.every(function(t){return t.disabled})};function X(b){return b.each(function(b){var L=d3.select(this);i.utils.initSVG(L);var Z,$=i.utils.availableWidth(A,L,k),q=i.utils.availableHeight(C,L,k)-(F?D:0),K=D-M.top-M.bottom;if(X.update=function(){L.transition().duration(B).call(X)},X.container=this,I.setter(R(b),X.update).getter(Y(b)).update(),I.disabled=b.map(function(t){return!!t.disabled}),!z)for(Z in z={},I)z[Z]=I[Z]instanceof Array?I[Z].slice(0):I[Z];if(!(b&&b.length&&b.filter(function(t){return t.values.length}).length))return i.utils.noData(X,L),X;L.selectAll(".nv-noData").remove();var U=b.filter(function(t){return!t.disabled&&t.bar}),J=b.filter(function(t){return!t.bar});e=U.length&&!G?c.xScale():l.xScale(),n=p.scale(),r=G?l.yScale():c.yScale(),o=G?c.yScale():l.yScale(),a=G?u.yScale():d.yScale(),s=G?d.yScale():u.yScale();var Q=b.filter(function(t){return!t.disabled&&(G?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:_(t,e)}})}),tt=b.filter(function(t){return!t.disabled&&(G?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:_(t,e)}})});e.range([0,$]),n.domain(d3.extent(d3.merge(Q.concat(tt)),function(t){return t.x})).range([0,$]);var et=L.selectAll("g.nv-wrap.nv-linePlusBar").data([b]),nt=et.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),it=et.select("g");nt.append("g").attr("class","nv-legendWrap");var rt=nt.append("g").attr("class","nv-focus");rt.append("g").attr("class","nv-x nv-axis"),rt.append("g").attr("class","nv-y1 nv-axis"),rt.append("g").attr("class","nv-y2 nv-axis"),rt.append("g").attr("class","nv-barsWrap"),rt.append("g").attr("class","nv-linesWrap");var ot=nt.append("g").attr("class","nv-context");if(ot.append("g").attr("class","nv-x nv-axis"),ot.append("g").attr("class","nv-y1 nv-axis"),ot.append("g").attr("class","nv-y2 nv-axis"),ot.append("g").attr("class","nv-barsWrap"),ot.append("g").attr("class","nv-linesWrap"),ot.append("g").attr("class","nv-brushBackground"),ot.append("g").attr("class","nv-x nv-brush"),W){var at=y.align()?$/2:$,st=y.align()?at:0;y.width(at),it.select(".nv-legendWrap").datum(b.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=G?t.originalKey+(t.bar?V:H):t.originalKey+(t.bar?H:V),t})).call(y),w||y.height()===k.top||(k.top=y.height(),q=i.utils.availableHeight(C,L,k)-D),it.select(".nv-legendWrap").attr("transform","translate("+st+","+-k.top+")")}else it.select(".nv-legendWrap").selectAll("*").remove();et.attr("transform","translate("+k.left+","+k.top+")"),it.select(".nv-context").style("display",F?"initial":"none"),d.width($).height(K).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),u.width($).height(K).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var lt=it.select(".nv-context .nv-barsWrap").datum(U.length?U:[{values:[]}]),ut=it.select(".nv-context .nv-linesWrap").datum(j(J)?[{values:[]}]:J.filter(function(t){return!t.disabled}));it.select(".nv-context").attr("transform","translate(0,"+(q+k.bottom+M.top)+")"),lt.transition().call(d),ut.transition().call(u),O&&(p._ticks(i.utils.calcTicksX($/100,b)).tickSize(-K,0),it.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),it.select(".nv-context .nv-x.nv-axis").transition().call(p)),N&&(v.scale(a)._ticks(K/36).tickSize(-$,0),m.scale(s)._ticks(K/36).tickSize(U.length?0:-$,0),it.select(".nv-context .nv-y3.nv-axis").style("opacity",U.length?1:0).attr("transform","translate(0,"+n.range()[0]+")"),it.select(".nv-context .nv-y2.nv-axis").style("opacity",J.length?1:0).attr("transform","translate("+n.range()[1]+",0)"),it.select(".nv-context .nv-y1.nv-axis").transition().call(v),it.select(".nv-context .nv-y2.nv-axis").transition().call(m)),x.x(n).on("brush",pt),T&&x.extent(T);var ct=it.select(".nv-brushBackground").selectAll("g").data([T||x.extent()]),dt=ct.enter().append("g");dt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",K),dt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",K);var ft=it.select(".nv-x.nv-brush").call(x);function pt(){T=x.empty()?null:x.extent(),t=x.empty()?n.domain():x.extent(),P.brush({extent:t,brush:x}),x.empty()||x.extent(T),ct.data([x.empty()?n.domain():T]).each(function(t,e){var i=n(t[0])-n.range()[0],r=n.range()[1]-n(t[1]);d3.select(this).select(".left").attr("width",i<0?0:i),d3.select(this).select(".right").attr("x",n(t[1])).attr("width",r<0?0:r)}),c.width($).height(q).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),l.width($).height(q).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var a=it.select(".nv-focus .nv-barsWrap").datum(U.length?U.map(function(e,n){return{key:e.key,values:e.values.filter(function(e,n){return c.x()(e,n)>=t[0]&&c.x()(e,n)<=t[1]})}}):[{values:[]}]),s=it.select(".nv-focus .nv-linesWrap").datum(j(J)?[{values:[]}]:J.filter(function(t){return!t.disabled}).map(function(e,n){return{area:e.area,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,key:e.key,values:e.values.filter(function(e,n){return l.x()(e,n)>=t[0]&&l.x()(e,n)<=t[1]})}}));e=U.length&&!G?c.xScale():l.xScale(),f.scale(e)._ticks(i.utils.calcTicksX($/100,b)).tickSize(-q,0),f.domain([Math.ceil(t[0]),Math.floor(t[1])]),it.select(".nv-x.nv-axis").transition().duration(B).call(f),a.transition().duration(B).call(c),s.transition().duration(B).call(l),it.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),h.scale(r)._ticks(i.utils.calcTicksY(q/36,b)).tickSize(-$,0),g.scale(o)._ticks(i.utils.calcTicksY(q/36,b)),g.tickSize(G?J.length?0:-$:U.length?0:-$,0);var u=U.length?1:0,d=J.length&&!j(J)?1:0,p=G?d:u,v=G?u:d;it.select(".nv-focus .nv-y1.nv-axis").style("opacity",p),it.select(".nv-focus .nv-y2.nv-axis").style("opacity",v).attr("transform","translate("+e.range()[1]+",0)"),it.select(".nv-focus .nv-y1.nv-axis").transition().duration(B).call(h),it.select(".nv-focus .nv-y2.nv-axis").transition().duration(B).call(g)}ft.selectAll("rect").attr("height",K),ft.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,i=K/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}),y.dispatch.on("stateChange",function(t){for(var e in t)I[e]=t[e];P.stateChange(I),X.update()}),P.on("changeState",function(t){void 0!==t.disabled&&(b.forEach(function(e,n){e.disabled=t.disabled[n]}),I.disabled=t.disabled),X.update()}),pt()}),X}return l.dispatch.on("elementMouseover.tooltip",function(t){b.duration(100).valueFormatter(function(t,e){return(G?{main:h,focus:v}:{main:g,focus:m}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),l.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),c.dispatch.on("elementMouseover.tooltip",function(t){t.value=X.x()(t.data),t.series={value:X.y()(t.data),color:t.color},b.duration(0).valueFormatter(function(t,e){return(G?{main:g,focus:m}:{main:h,focus:v}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(t){b()}),X.dispatch=P,X.legend=y,X.lines=l,X.lines2=u,X.bars=c,X.bars2=d,X.xAxis=f,X.x2Axis=p,X.y1Axis=h,X.y2Axis=g,X.y3Axis=v,X.y4Axis=m,X.tooltip=b,X.options=i.utils.optionsFunc.bind(X),X._options=Object.create({},{width:{get:function(){return A},set:function(t){A=t}},height:{get:function(){return C},set:function(t){C=t}},showLegend:{get:function(){return W},set:function(t){W=t}},brushExtent:{get:function(){return T},set:function(t){T=t}},noData:{get:function(){return L},set:function(t){L=t}},focusEnable:{get:function(){return F},set:function(t){F=t}},focusHeight:{get:function(){return D},set:function(t){D=t}},focusShowAxisX:{get:function(){return O},set:function(t){O=t}},focusShowAxisY:{get:function(){return N},set:function(t){N=t}},legendLeftAxisHint:{get:function(){return H},set:function(t){H=t}},legendRightAxisHint:{get:function(){return V},set:function(t){V=t}},margin:{get:function(){return k},set:function(t){void 0!==t.top&&(k.top=t.top,w=t.top),k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},focusMargin:{get:function(){return M},set:function(t){M.top=void 0!==t.top?t.top:M.top,M.right=void 0!==t.right?t.right:M.right,M.bottom=void 0!==t.bottom?t.bottom:M.bottom,M.left=void 0!==t.left?t.left:M.left}},duration:{get:function(){return B},set:function(t){B=t}},color:{get:function(){return E},set:function(t){E=i.utils.getColor(t),y.color(E)}},x:{get:function(){return S},set:function(t){S=t,l.x(t),u.x(t),c.x(t),d.x(t)}},y:{get:function(){return _},set:function(t){_=t,l.y(t),u.y(t),c.y(t),d.y(t)}},switchYAxisOrder:{get:function(){return G},set:function(t){if(G!==t){var e=h;h=g,g=e;var n=v;v=m,m=n}G=t,h.orient("left"),g.orient("right"),v.orient("left"),m.orient("right")}}}),i.utils.inheritOptions(X,l),i.utils.initOptions(X),X},i.models.multiBar=function(){"use strict";var t,e,n,r,o,a,s,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=d3.scale.ordinal(),f=d3.scale.linear(),p=Math.floor(1e4*Math.random()),h=null,g=function(t){return t.x},v=function(t){return t.y},m=[0],y=!0,x=!1,b="zero",k=i.utils.defaultColor(),w=!1,M=null,A=500,C=.1,S=.75,_=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=i.utils.renderWatch(_,A),W=0;function F(N){return E.reset(),N.each(function(F){var N=u-l.left-l.right,O=c-l.top-l.bottom;h=d3.select(this),i.utils.initSVG(h);var D=0;if(w&&F.length&&(w=[{values:F[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),x){var T=d3.layout.stack().offset(b).values(function(t){return t.values}).y(v)(!F.length&&w?w:F);T.forEach(function(t,e){t.nonStackable?(F[e].nonStackableSeries=D++,T[e]=F[e]):e>0&&T[e-1].nonStackable&&T[e].values.map(function(t,n){t.y0-=T[e-1].values[n].y,t.y1=t.y0+t.y})}),F=T}F.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),x&&F.length>0&&F[0].values.map(function(t,e){var n=0,i=0;F.map(function(t,r){if(!F[r].nonStackable){var o=t.values[e];o.size=Math.abs(o.y),o.y<0?(o.y1=i,i-=o.size):(o.y1=o.size+n,n+=o.size)}})});var L=e&&n?[]:F.map(function(t,e){return t.values.map(function(t,n){return{x:g(t,n),y:v(t,n),y0:t.y0,y1:t.y1,idx:e}})});d.domain(e||d3.merge(L).map(function(t){return t.x})).rangeBands(r||[0,N],C),f.domain(n||d3.extent(d3.merge(L).map(function(t){var e=t.y;return x&&!F[t.idx].nonStackable&&(e=t.y>0?t.y1:t.y1+t.y),e}).concat(m))).range(o||[O,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1])),a=a||d,s=s||f;var P=h.selectAll("g.nv-wrap.nv-multibar").data([F]),B=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),I=B.append("defs"),z=B.append("g"),H=P.select("g");z.append("g").attr("class","nv-groups"),P.attr("transform","translate("+l.left+","+l.top+")"),I.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),P.select("#nv-edge-clip-"+p+" rect").attr("width",N).attr("height",O),H.attr("clip-path",y?"url(#nv-edge-clip-"+p+")":"");var V=P.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});V.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var G=E.transition(V.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,A)).attr("y",function(t,e,n){var i=s(0)||0;return x&&F[t.series]&&!F[t.series].nonStackable&&(i=s(t.y0)),i}).attr("height",0).remove();G.delay&&G.delay(function(t,e){return e*(A/(W+1))-e}),V.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return k(t,e)}).style("stroke",function(t,e){return k(t,e)}),V.style("stroke-opacity",1).style("fill-opacity",S);var Y=V.selectAll("rect.nv-bar").data(function(t){return w&&!F.length?w.values:t.values});Y.exit().remove(),Y.enter().append("rect").attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return x&&!F[n].nonStackable?0:n*d.rangeBand()/F.length}).attr("y",function(t,e,n){return s(x&&!F[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return d.rangeBand()/(x&&!F[n].nonStackable?1:F.length)}).attr("transform",function(t,e){return"translate("+d(g(t,e))+",0)"}),Y.style("fill",function(t,e,n){return k(t,n,e)}).style("stroke",function(t,e,n){return k(t,n,e)}).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),_.elementMouseover({data:t,index:e,series:F[n],color:d3.select(this).style("fill")})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),_.elementMouseout({data:t,index:e,series:F[n],color:d3.select(this).style("fill")})}).on("mousemove",function(t,e,n){_.elementMousemove({data:t,index:e,series:F[n],color:d3.select(this).style("fill")})}).on("click",function(t,e,n){_.elementClick({data:t,index:e,series:F[n],color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e,n){_.elementDblClick({data:t,index:e,series:F[n],color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),Y.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+d(g(t,e))+",0)"}),M&&(t||(t=F.map(function(){return!0})),Y.style("fill",function(e,n,i){return d3.rgb(M(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()}).style("stroke",function(e,n,i){return d3.rgb(M(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()}));var R=Y.watchTransition(E,"multibar",Math.min(250,A)).delay(function(t,e){return e*A/F[0].values.length});x?R.attr("y",function(t,e,n){return F[n].nonStackable?v(t,e)<0?f(0):f(0)-f(v(t,e))<-1?f(0)-1:f(v(t,e))||0:f(t.y1)}).attr("height",function(t,e,n){return F[n].nonStackable?Math.max(Math.abs(f(v(t,e))-f(0)),0)||0:Math.max(Math.abs(f(t.y+t.y0)-f(t.y0)),0)}).attr("x",function(t,e,n){var i=0;return F[n].nonStackable&&(i=t.series*d.rangeBand()/F.length,F.length!==D&&(i=F[n].nonStackableSeries*d.rangeBand()/(2*D))),i}).attr("width",function(t,e,n){if(F[n].nonStackable){var i=d.rangeBand()/D;return F.length!==D&&(i=d.rangeBand()/(2*D)),i}return d.rangeBand()}):R.attr("x",function(t,e){return t.series*d.rangeBand()/F.length}).attr("width",d.rangeBand()/F.length).attr("y",function(t,e){return v(t,e)<0?f(0):f(0)-f(v(t,e))<1?f(0)-1:f(v(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(f(v(t,e))-f(0)),1)||0}),a=d.copy(),s=f.copy(),F[0]&&F[0].values&&(W=F[0].values.length)}),E.renderEnd("multibar immediate"),F}return F.dispatch=_,F.options=i.utils.optionsFunc.bind(F),F._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return m},set:function(t){m=t}},stacked:{get:function(){return x},set:function(t){x=t}},stackOffset:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return p},set:function(t){p=t}},hideable:{get:function(){return w},set:function(t){w=t}},groupSpacing:{get:function(){return C},set:function(t){C=t}},fillOpacity:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return A},set:function(t){E.reset(A=t)}},color:{get:function(){return k},set:function(t){k=i.utils.getColor(t)}},barColor:{get:function(){return M},set:function(t){M=t?i.utils.getColor(t):null}}}),i.utils.initOptions(F),F},i.models.multiBarChart=function(){"use strict";var t,e,n=i.models.multiBar(),r=i.models.axis(),o=i.models.axis(),a=i.interactiveGuideline(),s=i.models.legend(),l=i.models.legend(),u=i.models.tooltip(),c={top:30,right:20,bottom:50,left:60},d=null,f=null,p=null,h=i.utils.defaultColor(),g=!0,v={},m=!0,y=null,x=!0,b=!0,k=!1,w=!0,M=!1,A=!1,C=0,S=i.utils.state(),_=null,E=null,W=d3.dispatch("stateChange","changeState","renderEnd"),F=function(){return g?180:0},N=250,O=!1;S.stacked=!1,n.stacked(!1),r.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),o.orient(k?"right":"left").tickFormat(d3.format(",.1f")),u.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return r.tickFormat()(t,e)}),a.tooltip.valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)}).headerFormatter(function(t,e){return r.tickFormat()(t,e)}),a.tooltip.valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)}).headerFormatter(function(t,e){return r.tickFormat()(t,e)}),a.tooltip.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return r.tickFormat()(t,e)}),l.updateState(!1);var D=i.utils.renderWatch(W),T=!1,L=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:T}}},P=function(t){return function(e){void 0!==e.stacked&&(T=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function B(E){return D.reset(),D.models(n),x&&D.models(r),b&&D.models(o),E.each(function(E){var D=d3.select(this);i.utils.initSVG(D);var I,z=i.utils.availableWidth(f,D,c),H=i.utils.availableHeight(p,D,c);if(B.update=function(){0===N?D.call(B):D.transition().duration(N).call(B)},B.container=this,S.setter(P(E),B.update).getter(L(E)).update(),S.disabled=E.map(function(t){return!!t.disabled}),!_)for(I in _={},S)_[I]=S[I]instanceof Array?S[I].slice(0):S[I];if(!(E&&E.length&&E.filter(function(t){return t.values.length}).length))return i.utils.noData(B,D),B;D.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var V=D.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([E]),G=V.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),Y=V.select("g");if(G.append("g").attr("class","nv-x nv-axis"),G.append("g").attr("class","nv-y nv-axis"),G.append("g").attr("class","nv-barsWrap"),G.append("g").attr("class","nv-legendWrap"),G.append("g").attr("class","nv-controlsWrap"),G.append("g").attr("class","nv-interactive"),m?"bottom"===y?(s.width(z-c.right),Y.select(".nv-legendWrap").datum(E).call(s),c.bottom=r.height()+s.height(),H=i.utils.availableHeight(p,D,c),Y.select(".nv-legendWrap").attr("transform","translate(0,"+(H+r.height())+")")):(s.width(z-F()),Y.select(".nv-legendWrap").datum(E).call(s),d||s.height()===c.top||(c.top=s.height(),H=i.utils.availableHeight(p,D,c)),Y.select(".nv-legendWrap").attr("transform","translate("+F()+","+-c.top+")")):Y.select(".nv-legendWrap").selectAll("*").remove(),g){var R=[{key:v.grouped||"Grouped",disabled:n.stacked()},{key:v.stacked||"Stacked",disabled:!n.stacked()}];l.width(F()).color(["#444","#444","#444"]),Y.select(".nv-controlsWrap").datum(R).attr("transform","translate(0,"+-c.top+")").call(l)}else Y.select(".nv-controlsWrap").selectAll("*").remove();if(V.attr("transform","translate("+c.left+","+c.top+")"),k&&Y.select(".nv-y.nv-axis").attr("transform","translate("+z+",0)"),n.disabled(E.map(function(t){return t.disabled})).width(z).height(H).color(E.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!E[e].disabled})),Y.select(".nv-barsWrap").datum(E.filter(function(t){return!t.disabled})).call(n),x){r.scale(t)._ticks(i.utils.calcTicksX(z/100,E)).tickSize(-H,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),Y.select(".nv-x.nv-axis").call(r);var j=Y.select(".nv-x.nv-axis > g").selectAll("g");if(j.selectAll("line, text").style("opacity",1),M){var X=function(t,e){return"translate("+t+","+e+")"};j.selectAll("text").attr("transform",function(t,e,n){return X(0,n%2==0?5:17)});var Z=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;Y.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return X(0,0===e||Z%2!=0?17:5)})}A&&Y.selectAll(".tick text").call(i.utils.wrapTicks,B.xAxis.rangeBand()),w&&j.filter(function(t,e){return e%Math.ceil(E[0].values.length/(z/100))!=0}).selectAll("text, line").style("opacity",0),C&&j.selectAll(".tick text").attr("transform","rotate("+C+" 0,0)").style("text-anchor",C>0?"start":"end"),Y.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}b&&(o.scale(e)._ticks(i.utils.calcTicksY(H/36,E)).tickSize(-z,0),Y.select(".nv-y.nv-axis").call(o)),O&&(a.width(z).height(H).margin({left:c.left,top:c.top}).svgContainer(D).xScale(t),V.select(".nv-interactive").call(a)),s.dispatch.on("stateChange",function(t){for(var e in t)S[e]=t[e];W.stateChange(S),B.update()}),l.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(R=R.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case v.grouped:n.stacked(!1);break;case"Stacked":case v.stacked:n.stacked(!0)}S.stacked=n.stacked(),W.stateChange(S),B.update()}}),W.on("changeState",function(t){void 0!==t.disabled&&(E.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),void 0!==t.stacked&&(n.stacked(t.stacked),S.stacked=t.stacked,T=t.stacked),B.update()}),O?(a.dispatch.on("elementMousemove",function(e){if(null!=e.pointXValue){var n,i,r,o,s=[];E.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,l){i=t.domain().indexOf(e.pointXValue);var u=a.values[i];void 0!==u&&(o=u.x,void 0===n&&(n=u),void 0===r&&(r=e.mouseX),s.push({key:a.key,value:B.y()(u,i),color:h(a,a.seriesIndex),data:a.values[i]}))}),a.tooltip.data({value:o,index:i,series:s})(),a.renderGuideLine(r)}}),a.dispatch.on("elementMouseout",function(t){a.tooltip.hidden(!0)})):(n.dispatch.on("elementMouseover.tooltip",function(t){t.value=B.x()(t.data),t.series={key:t.data.key,value:B.y()(t.data),color:t.color},u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){u()}))}),D.renderEnd("multibarchart immediate"),B}return B.dispatch=W,B.multibar=n,B.legend=s,B.controls=l,B.xAxis=r,B.yAxis=o,B.state=S,B.tooltip=u,B.interactiveLayer=a,B.options=i.utils.optionsFunc.bind(B),B._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return E},set:function(t){E=t}},reduceXTicks:{get:function(){return w},set:function(t){w=t}},rotateLabels:{get:function(){return C},set:function(t){C=t}},staggerLabels:{get:function(){return M},set:function(t){M=t}},wrapLabels:{get:function(){return A},set:function(t){A=!!t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return N},set:function(t){n.duration(N=t),r.duration(N),o.duration(N),D.reset(N)}},color:{get:function(){return h},set:function(t){h=i.utils.getColor(t),s.color(h)}},rightAlignYAxis:{get:function(){return k},set:function(t){o.orient((k=t)?"right":"left")}},useInteractiveGuideline:{get:function(){return O},set:function(t){O=t}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),s.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),i.utils.inheritOptions(B,n),i.utils.initOptions(B),B},i.models.multiBarHorizontal=function(){"use strict";var t,e,n,r,o,a,s,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),f=null,p=d3.scale.ordinal(),h=d3.scale.linear(),g=function(t){return t.x},v=function(t){return t.y},m=function(t){return t.yErr},y=[0],x=i.utils.defaultColor(),b=null,k=!1,w=!1,M=!1,A=60,C=.1,S=.75,_=d3.format(",.2f"),E=250,W=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F=i.utils.renderWatch(W,E);function N(d){return F.reset(),d.each(function(d){var E=u-l.left-l.right,N=c-l.top-l.bottom;f=d3.select(this),i.utils.initSVG(f),k&&(d=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(v)(d)),d.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),k&&d[0].values.map(function(t,e){var n=0,i=0;d.map(function(t){var r=t.values[e];r.size=Math.abs(r.y),r.y<0?(r.y1=i-r.size,i-=r.size):(r.y1=n,n+=r.size)})});var O=e&&n?[]:d.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:v(t,e),y0:t.y0,y1:t.y1}})});p.domain(e||d3.merge(O).map(function(t){return t.x})).rangeBands(r||[0,N],C),h.domain(n||d3.extent(d3.merge(O).map(function(t){return k?t.y>0?t.y1+t.y:t.y1:t.y}).concat(y))),h.range(w&&!k?o||[h.domain()[0]<0?A:0,E-(h.domain()[1]>0?A:0)]:o||[0,E]),a=a||p,s=s||d3.scale.linear().domain(h.domain()).range([h(0),h(0)]);var D=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([d]),T=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),L=(T.append("defs"),T.append("g"));D.select("g"),L.append("g").attr("class","nv-groups"),D.attr("transform","translate("+l.left+","+l.top+")");var P=D.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});P.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),P.exit().watchTransition(F,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),P.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),P.watchTransition(F,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",S);var B=P.selectAll("g.nv-bar").data(function(t){return t.values});B.exit().remove();var I=B.enter().append("g").attr("transform",function(t,e,n){return"translate("+s(k?t.y0:0)+","+(k?0:n*p.rangeBand()/d.length+p(g(t,e)))+")"});I.append("rect").attr("width",0).attr("height",p.rangeBand()/(k?1:d.length)),B.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),W.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),W.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){W.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){W.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){W.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){W.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),m(d[0],0)&&(I.append("polyline"),B.select("polyline").attr("fill","none").attr("points",function(t,e){var n=m(t,e),i=.8*p.rangeBand()/(2*(k?1:d.length));return[[(n=(n=n.length?n:[-Math.abs(n),Math.abs(n)]).map(function(n){return h(n+(v(t,e)<0?0:v(t,e)))-h(0)}))[0],-i],[n[0],i],[n[0],0],[n[1],0],[n[1],-i],[n[1],i]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){return"translate(0, "+p.rangeBand()/(2*(k?1:d.length))+")"})),I.append("text"),w&&!k?(B.select("text").attr("text-anchor",function(t,e){return v(t,e)<0?"end":"start"}).attr("y",p.rangeBand()/(2*d.length)).attr("dy",".32em").text(function(t,e){var n=_(v(t,e)),i=m(t,e);return void 0===i?n:i.length?n+"+"+_(Math.abs(i[1]))+"-"+_(Math.abs(i[0])):n+"\xb1"+_(Math.abs(i))}),B.watchTransition(F,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return v(t,e)<0?-4:h(v(t,e))-h(0)+4})):B.selectAll("text").text(""),M&&!k?(I.append("text").classed("nv-bar-label",!0),B.select("text.nv-bar-label").attr("text-anchor",function(t,e){return v(t,e)<0?"start":"end"}).attr("y",p.rangeBand()/(2*d.length)).attr("dy",".32em").text(function(t,e){return g(t,e)}),B.watchTransition(F,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return v(t,e)<0?h(0)-h(v(t,e))+4:-4})):B.selectAll("text.nv-bar-label").text(""),B.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}),b&&(t||(t=d.map(function(){return!0})),B.style("fill",function(e,n,i){return d3.rgb(b(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()}).style("stroke",function(e,n,i){return d3.rgb(b(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()})),k?B.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+h(t.y1)+","+p(g(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(h(v(t,e)+t.y0)-h(t.y0))||0}).attr("height",p.rangeBand()):B.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+(v(t,e)<0?h(v(t,e)):h(0))+","+(t.series*p.rangeBand()/d.length+p(g(t,e)))+")"}).select("rect").attr("height",p.rangeBand()/d.length).attr("width",function(t,e){return Math.max(Math.abs(h(v(t,e))-h(0)),1)||0}),a=p.copy(),s=h.copy()}),F.renderEnd("multibarHorizontal immediate"),N}return N.dispatch=W,N.options=i.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},yErr:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return p},set:function(t){p=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return y},set:function(t){y=t}},stacked:{get:function(){return k},set:function(t){k=t}},showValues:{get:function(){return w},set:function(t){w=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return d},set:function(t){d=t}},valueFormat:{get:function(){return _},set:function(t){_=t}},valuePadding:{get:function(){return A},set:function(t){A=t}},groupSpacing:{get:function(){return C},set:function(t){C=t}},fillOpacity:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return E},set:function(t){F.reset(E=t)}},color:{get:function(){return x},set:function(t){x=i.utils.getColor(t)}},barColor:{get:function(){return b},set:function(t){b=t?i.utils.getColor(t):null}}}),i.utils.initOptions(N),N},i.models.multiBarHorizontalChart=function(){"use strict";var t,e,n=i.models.multiBarHorizontal(),r=i.models.axis(),o=i.models.axis(),a=i.models.legend().height(30),s=i.models.legend().height(30),l=i.models.tooltip(),u={top:30,right:20,bottom:50,left:60},c=null,d=null,f=null,p=i.utils.defaultColor(),h=!0,g="top",v={},m=!0,y="top",x=!0,b=!0,k=!1,w=i.utils.state(),M=null,A=null,C=d3.dispatch("stateChange","changeState","renderEnd"),S=function(){return h?180:0},_=250;w.stacked=!1,n.stacked(k),r.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),o.orient("bottom").tickFormat(d3.format(",.1f")),l.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return r.tickFormat()(t,e)}),s.updateState(!1);var E=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:k}}},W=function(t){return function(e){void 0!==e.stacked&&(k=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},F=i.utils.renderWatch(C,_);function N(l){return F.reset(),F.models(n),x&&F.models(r),b&&F.models(o),l.each(function(l){var A=d3.select(this);i.utils.initSVG(A);var F,O=i.utils.availableWidth(d,A,u),D=i.utils.availableHeight(f,A,u);if(N.update=function(){A.transition().duration(_).call(N)},N.container=this,k=n.stacked(),w.setter(W(l),N.update).getter(E(l)).update(),w.disabled=l.map(function(t){return!!t.disabled}),!M)for(F in M={},w)M[F]=w[F]instanceof Array?w[F].slice(0):w[F];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return i.utils.noData(N,A),N;A.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var T=A.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([l]),L=T.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),P=T.select("g");if(L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-controlsWrap"),m?(a.width(O-S()),P.select(".nv-legendWrap").datum(l).call(a),"bottom"===y?(u.bottom=r.height()+a.height(),D=i.utils.availableHeight(f,A,u),P.select(".nv-legendWrap").attr("transform","translate("+S()+","+(D+r.height())+")")):"top"===y&&(c||a.height()===u.top||(u.top=a.height(),D=i.utils.availableHeight(f,A,u)),P.select(".nv-legendWrap").attr("transform","translate("+S()+","+-u.top+")"))):P.select(".nv-legendWrap").selectAll("*").remove(),h){var B=[{key:v.grouped||"Grouped",disabled:n.stacked()},{key:v.stacked||"Stacked",disabled:!n.stacked()}];s.width(S()).color(["#444","#444","#444"]),"bottom"===g?(u.bottom=r.height()+a.height(),D=i.utils.availableHeight(f,A,u),P.select(".nv-controlsWrap").datum(B).attr("transform","translate(0,"+(D+r.height())+")").call(s)):"top"===g&&P.select(".nv-controlsWrap").datum(B).attr("transform","translate(0,"+-u.top+")").call(s)}else P.select(".nv-controlsWrap").selectAll("*").remove();T.attr("transform","translate("+u.left+","+u.top+")"),n.disabled(l.map(function(t){return t.disabled})).width(O).height(D).color(l.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!l[e].disabled})),P.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(n),x&&(r.scale(t)._ticks(i.utils.calcTicksY(D/24,l)).tickSize(-O,0),P.select(".nv-x.nv-axis").call(r),P.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")),b&&(o.scale(e)._ticks(i.utils.calcTicksX(O/100,l)).tickSize(-D,0),P.select(".nv-y.nv-axis").attr("transform","translate(0,"+D+")"),P.select(".nv-y.nv-axis").call(o)),P.select(".nv-zeroLine line").attr("x1",e(0)).attr("x2",e(0)).attr("y1",0).attr("y2",-D),a.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];C.stateChange(w),N.update()}),s.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(B=B.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case v.grouped:n.stacked(!1);break;case"Stacked":case v.stacked:n.stacked(!0)}w.stacked=n.stacked(),C.stateChange(w),k=n.stacked(),N.update()}}),C.on("changeState",function(t){void 0!==t.disabled&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),void 0!==t.stacked&&(n.stacked(t.stacked),w.stacked=t.stacked,k=t.stacked),N.update()})}),F.renderEnd("multibar horizontal chart immediate"),N}return n.dispatch.on("elementMouseover.tooltip",function(t){t.value=N.x()(t.data),t.series={key:t.data.key,value:N.y()(t.data),color:t.color},l.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){l()}),N.dispatch=C,N.multibar=n,N.legend=a,N.controls=s,N.xAxis=r,N.yAxis=o,N.state=w,N.tooltip=l,N.options=i.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},controlsPosition:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return h},set:function(t){h=t}},controlLabels:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return u},set:function(t){void 0!==t.top&&(u.top=t.top,c=t.top),u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return _},set:function(t){F.reset(_=t),n.duration(_),r.duration(_),o.duration(_)}},color:{get:function(){return p},set:function(t){p=i.utils.getColor(t),a.color(p)}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),a.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),i.utils.inheritOptions(N,n),i.utils.initOptions(N),N},i.models.multiChart=function(){"use strict";var t,e,n={top:30,right:20,bottom:50,left:60},r=null,o=i.utils.defaultColor(),a=null,s=null,l=!0,u=null,c=function(t){return t.x},d=function(t){return t.y},f="linear",p=!0,h=i.interactiveGuideline(),g=!1,v=" (right axis)",m=250,y=d3.scale.linear(),x=d3.scale.linear(),b=d3.scale.linear(),k=i.models.line().yScale(x).duration(m),w=i.models.line().yScale(b).duration(m),M=i.models.scatter().yScale(x).duration(m),A=i.models.scatter().yScale(b).duration(m),C=i.models.multiBar().stacked(!1).yScale(x).duration(m),S=i.models.multiBar().stacked(!1).yScale(b).duration(m),_=i.models.stackedArea().yScale(x).duration(m),E=i.models.stackedArea().yScale(b).duration(m),W=i.models.axis().scale(y).orient("bottom").tickPadding(5).duration(m),F=i.models.axis().scale(x).orient("left").duration(m),N=i.models.axis().scale(b).orient("right").duration(m),O=i.models.legend().height(30),D=i.models.tooltip(),T=d3.dispatch(),L=[k,w,M,A,C,S,_,E];function P(u){return u.each(function(u){var p=d3.select(this);i.utils.initSVG(p),P.update=function(){p.transition().call(P)},P.container=this;var m=i.utils.availableWidth(a,p,n),T=i.utils.availableHeight(s,p,n),B=u.filter(function(t){return"line"==t.type&&1==t.yAxis}),I=u.filter(function(t){return"line"==t.type&&2==t.yAxis}),z=u.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),H=u.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),V=u.filter(function(t){return"bar"==t.type&&1==t.yAxis}),G=u.filter(function(t){return"bar"==t.type&&2==t.yAxis}),Y=u.filter(function(t){return"area"==t.type&&1==t.yAxis}),R=u.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return i.utils.noData(P,p),P;p.selectAll(".nv-noData").remove();var j=u.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:d(t)}})}),X=u.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:d(t)}})});y.domain(d3.extent(d3.merge(j.concat(X)),function(t){return t.x})).range([0,m]);var Z=p.selectAll("g.wrap.multiChart").data([u]),$=Z.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");$.append("g").attr("class","nv-x nv-axis"),$.append("g").attr("class","nv-y1 nv-axis"),$.append("g").attr("class","nv-y2 nv-axis"),$.append("g").attr("class","stack1Wrap"),$.append("g").attr("class","stack2Wrap"),$.append("g").attr("class","bars1Wrap"),$.append("g").attr("class","bars2Wrap"),$.append("g").attr("class","scatters1Wrap"),$.append("g").attr("class","scatters2Wrap"),$.append("g").attr("class","lines1Wrap"),$.append("g").attr("class","lines2Wrap"),$.append("g").attr("class","legendWrap"),$.append("g").attr("class","nv-interactive");var q=Z.select("g"),K=u.map(function(t,e){return u[e].color||o(t,e)});if(l){var U=O.align()?m/2:m,J=O.align()?U:0;O.width(U),O.color(K),q.select(".legendWrap").datum(u.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":v),t})).call(O),r||O.height()===n.top||(n.top=O.height(),T=i.utils.availableHeight(s,p,n)),q.select(".legendWrap").attr("transform","translate("+J+","+-n.top+")")}else q.select(".legendWrap").selectAll("*").remove();k.width(m).height(T).interpolate(f).color(K.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"line"==u[e].type})),w.width(m).height(T).interpolate(f).color(K.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"line"==u[e].type})),M.width(m).height(T).color(K.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"scatter"==u[e].type})),A.width(m).height(T).color(K.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"scatter"==u[e].type})),C.width(m).height(T).color(K.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"bar"==u[e].type})),S.width(m).height(T).color(K.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"bar"==u[e].type})),_.width(m).height(T).interpolate(f).color(K.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"area"==u[e].type})),E.width(m).height(T).interpolate(f).color(K.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"area"==u[e].type})),q.attr("transform","translate("+n.left+","+n.top+")");var Q=q.select(".lines1Wrap").datum(B.filter(function(t){return!t.disabled})),tt=q.select(".scatters1Wrap").datum(z.filter(function(t){return!t.disabled})),et=q.select(".bars1Wrap").datum(V.filter(function(t){return!t.disabled})),nt=q.select(".stack1Wrap").datum(Y.filter(function(t){return!t.disabled})),it=q.select(".lines2Wrap").datum(I.filter(function(t){return!t.disabled})),rt=q.select(".scatters2Wrap").datum(H.filter(function(t){return!t.disabled})),ot=q.select(".bars2Wrap").datum(G.filter(function(t){return!t.disabled})),at=q.select(".stack2Wrap").datum(R.filter(function(t){return!t.disabled})),st=[];C.stacked()&&V.length&&(st=V.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length>0&&(st=st.reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})})),V.length&&st.push({x:0,y:0});var lt=[];function ut(t){var e=2===t.series.yAxis?N:F;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},D.duration(0).headerFormatter(function(t,e){return W.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function ct(t){var e=2===t.series.yAxis?N:F;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},D.duration(100).headerFormatter(function(t,e){return W.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function dt(t){var e=2===t.series.yAxis?N:F;t.point.x=_.x()(t.point),t.point.y=_.y()(t.point),D.duration(0).headerFormatter(function(t,e){return W.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function ft(t){var e=2===t.series.yAxis?N:F;t.value=C.x()(t.data),t.series={value:C.y()(t.data),color:t.color,key:t.data.key},D.duration(0).headerFormatter(function(t,e){return W.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function pt(){for(var t=0,e=L.length;t<e;t++){var n=L[t];try{n.clearHighlights()}catch(i){}}}S.stacked()&&G.length&&(lt=G.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length>0&&(lt=lt.reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})})),G.length&&lt.push({x:0,y:0}),x.domain(t||d3.extent(d3.merge(j).concat(st),function(t){return t.y})).range([0,T]),b.domain(e||d3.extent(d3.merge(X).concat(lt),function(t){return t.y})).range([0,T]),k.yDomain(x.domain()),M.yDomain(x.domain()),C.yDomain(x.domain()),_.yDomain(x.domain()),w.yDomain(b.domain()),A.yDomain(b.domain()),S.yDomain(b.domain()),E.yDomain(b.domain()),Y.length&&d3.transition(nt).call(_),R.length&&d3.transition(at).call(E),V.length&&d3.transition(et).call(C),G.length&&d3.transition(ot).call(S),B.length&&d3.transition(Q).call(k),I.length&&d3.transition(it).call(w),z.length&&d3.transition(tt).call(M),H.length&&d3.transition(rt).call(A),W._ticks(i.utils.calcTicksX(m/100,u)).tickSize(-T,0),q.select(".nv-x.nv-axis").attr("transform","translate(0,"+T+")"),d3.transition(q.select(".nv-x.nv-axis")).call(W),F._ticks(i.utils.calcTicksY(T/36,u)).tickSize(-m,0),d3.transition(q.select(".nv-y1.nv-axis")).call(F),N._ticks(i.utils.calcTicksY(T/36,u)).tickSize(-m,0),d3.transition(q.select(".nv-y2.nv-axis")).call(N),q.select(".nv-y1.nv-axis").classed("nv-disabled",!j.length).attr("transform","translate("+y.range()[0]+",0)"),q.select(".nv-y2.nv-axis").classed("nv-disabled",!X.length).attr("transform","translate("+y.range()[1]+",0)"),O.dispatch.on("stateChange",function(t){P.update()}),g&&(h.width(m).height(T).margin({left:n.left,top:n.top}).svgContainer(p).xScale(y),Z.select(".nv-interactive").call(h)),g?(h.dispatch.on("elementMousemove",function(t){pt();var e,n,r,a=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,l){var u=y.domain(),c=s.values.filter(function(t,e){return P.x()(t,e)>=u[0]&&P.x()(t,e)<=u[1]}),d=c[n=i.interactiveBisect(c,t.pointXValue,P.x())],f=P.y()(d,n);null!==f&&function(e,n,i){for(var r=0,o=L.length;r<o;r++){var a=L[r];try{a.highlightPoint(e,n,!0)}catch(t){}}}(l,n),void 0!==d&&(void 0===e&&(e=d),void 0===r&&(r=y(P.x()(d,n))),a.push({key:s.key,value:f,color:o(s,s.seriesIndex),data:d,yAxis:2==s.yAxis?N:F}))}),h.tooltip.headerFormatter(function(t,e){return W.tickFormat()(t,e)}).valueFormatter(h.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":a[e].yAxis.tickFormat()(t)}).data({value:P.x()(e,n),index:n,series:a})(),h.renderGuideLine(r)}),h.dispatch.on("elementMouseout",function(t){pt()})):(k.dispatch.on("elementMouseover.tooltip",ut),w.dispatch.on("elementMouseover.tooltip",ut),k.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),w.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),M.dispatch.on("elementMouseover.tooltip",ct),A.dispatch.on("elementMouseover.tooltip",ct),M.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),A.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),_.dispatch.on("elementMouseover.tooltip",dt),E.dispatch.on("elementMouseover.tooltip",dt),_.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),E.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),C.dispatch.on("elementMouseover.tooltip",ft),S.dispatch.on("elementMouseover.tooltip",ft),C.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),S.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),C.dispatch.on("elementMousemove.tooltip",function(t){D()}),S.dispatch.on("elementMousemove.tooltip",function(t){D()}))}),P}return P.dispatch=T,P.legend=O,P.lines1=k,P.lines2=w,P.scatters1=M,P.scatters2=A,P.bars1=C,P.bars2=S,P.stack1=_,P.stack2=E,P.xAxis=W,P.yAxis1=F,P.yAxis2=N,P.tooltip=D,P.interactiveLayer=h,P.options=i.utils.optionsFunc.bind(P),P._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},yDomain1:{get:function(){return t},set:function(e){t=e}},yDomain2:{get:function(){return e},set:function(t){e=t}},noData:{get:function(){return u},set:function(t){u=t}},interpolate:{get:function(){return f},set:function(t){f=t}},legendRightAxisHint:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return n},set:function(t){void 0!==t.top&&(n.top=t.top,r=t.top),n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return o},set:function(t){o=i.utils.getColor(t)}},x:{get:function(){return c},set:function(t){c=t,k.x(t),w.x(t),M.x(t),A.x(t),C.x(t),S.x(t),_.x(t),E.x(t)}},y:{get:function(){return d},set:function(t){d=t,k.y(t),w.y(t),M.y(t),A.y(t),_.y(t),E.y(t),C.y(t),S.y(t)}},useVoronoi:{get:function(){return p},set:function(t){p=t,k.useVoronoi(t),w.useVoronoi(t),_.useVoronoi(t),E.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return g},set:function(t){(g=t)&&(k.interactive(!1),k.useVoronoi(!1),w.interactive(!1),w.useVoronoi(!1),_.interactive(!1),_.useVoronoi(!1),E.interactive(!1),E.useVoronoi(!1),M.interactive(!1),A.interactive(!1))}},duration:{get:function(){return m},set:function(t){m=t,[k,w,_,E,M,A,W,F,N].forEach(function(t){t.duration(m)})}}}),i.utils.initOptions(P),P},i.models.ohlcBar=function(){"use strict";var t,e,n,r,o={top:0,right:0,bottom:0,left:0},a=null,s=null,l=Math.floor(1e4*Math.random()),u=null,c=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},h=function(t){return t.open},g=function(t){return t.close},v=function(t){return t.high},m=function(t){return t.low},y=[],x=[],b=!1,k=!0,w=i.utils.defaultColor(),M=!1,A=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function C(M){return M.each(function(M){u=d3.select(this);var C=i.utils.availableWidth(a,u,o),S=i.utils.availableHeight(s,u,o);i.utils.initSVG(u);var _=C/M[0].values.length*.9;c.domain(t||d3.extent(M[0].values.map(f).concat(y))),c.range(b?n||[.5*C/M[0].values.length,C*(M[0].values.length-.5)/M[0].values.length]:n||[5+_/2,C-_/2-5]),d.domain(e||[d3.min(M[0].values.map(m).concat(x)),d3.max(M[0].values.map(v).concat(x))]).range(r||[S,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var E=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([M[0].values]),W=E.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),F=W.append("defs"),N=W.append("g"),O=E.select("g");N.append("g").attr("class","nv-ticks"),E.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){A.chartClick({data:t,index:e,pos:d3.event,id:l})}),F.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),E.select("#nv-chart-clip-path-"+l+" rect").attr("width",C).attr("height",S),O.attr("clip-path",k?"url(#nv-chart-clip-path-"+l+")":"");var D=E.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});D.exit().remove(),D.enter().append("path").attr("class",function(t,e,n){return(h(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(d(h(t,e))-d(v(t,e)))+"l"+-_/2+",0l"+_/2+",0l0,"+(d(m(t,e))-d(h(t,e)))+"l0,"+(d(g(t,e))-d(m(t,e)))+"l"+_/2+",0l"+-_/2+",0z"}).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+d(v(t,e))+")"}).attr("fill",function(t,e){return w[0]}).attr("stroke",function(t,e){return w[0]}).attr("x",0).attr("y",function(t,e){return d(Math.max(0,p(t,e)))}).attr("height",function(t,e){return Math.abs(d(p(t,e))-d(0))}),D.attr("class",function(t,e,n){return(h(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(D).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+d(v(t,e))+")"}).attr("d",function(t,e){var n=C/M[0].values.length*.9;return"m0,0l0,"+(d(h(t,e))-d(v(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(d(m(t,e))-d(h(t,e)))+"l0,"+(d(g(t,e))-d(m(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),C}return C.highlightPoint=function(t,e){C.clearHighlights(),u.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},C.clearHighlights=function(){u.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},C.dispatch=A,C.options=i.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return r},set:function(t){r=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},open:{get:function(){return h()},set:function(t){h=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return v},set:function(t){v=t}},low:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return o},set:function(t){o.top=null!=t.top?t.top:o.top,o.right=null!=t.right?t.right:o.right,o.bottom=null!=t.bottom?t.bottom:o.bottom,o.left=null!=t.left?t.left:o.left}},color:{get:function(){return w},set:function(t){w=i.utils.getColor(t)}}}),i.utils.initOptions(C),C},i.models.parallelCoordinates=function(){"use strict";var t,e,n,r={top:30,right:0,bottom:10,left:0},o=null,a=null,s=null,l=null,u=d3.scale.ordinal(),c={},d="undefined values",f=[],p=[],h=[],g=!0,v=i.utils.defaultColor(),m=[],y=[],x=[],b=[],k=1,w=d3.svg.line(),M=d3.svg.axis(),A=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),C=i.utils.renderWatch(A);function S(_){return C.reset(),_.each(function(C){var S=d3.select(this);if(s=i.utils.availableWidth(o,S,r),l=i.utils.availableHeight(a,S,r),i.utils.initSVG(S),void 0===C[0].values){var _=[];C.forEach(function(t){var e={};Object.keys(t).forEach(function(n){"name"!==n&&(e[n]=t[n])}),_.push({key:t.name,values:e})}),C=_}var E=C.map(function(t){return t.values});0===y.length&&(y=C),h=f.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),p=f.filter(function(t){return!t.disabled}),u.rangePoints([0,s],1).domain(p.map(function(t){return t.key}));var W={},F=!1,N=[];h.forEach(function(t){var e=d3.extent(E,function(e){return+e[t]}),n=e[0],i=e[1],r=!1;(isNaN(n)||isNaN(i))&&(r=!0,n=0,i=0),n===i&&(n-=1,i+=1);var o=m.filter(function(e){return e.dimension==t});0!==o.length&&(r?(n=c[t].domain()[0],i=c[t].domain()[1]):!o[0].hasOnlyNaN&&g?(n=n>o[0].extent[0]?o[0].extent[0]:n,i=i<o[0].extent[1]?o[0].extent[1]:i):o[0].hasNaN&&(i=i<o[0].extent[1]?o[0].extent[1]:i,W[t]=c[t].domain()[1],F=!0)),c[t]=d3.scale.linear().domain([n,i]).range([.9*(l-12),0]),b=[],c[t].brush=d3.svg.brush().y(c[t]).on("brushstart",X).on("brush",Z).on("brushend",$)});var O=S.selectAll("g.nv-wrap.nv-parallelCoordinates").data([C]),D=O.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),T=O.select("g");D.append("g").attr("class","nv-parallelCoordinates background"),D.append("g").attr("class","nv-parallelCoordinates foreground"),D.append("g").attr("class","nv-parallelCoordinates missingValuesline"),O.attr("transform","translate("+r.left+","+r.top+")"),w.interpolate("cardinal").tension(k),M.orient("left");var L,P,B=d3.behavior.drag().on("dragstart",function(t){x[t.key]=this.parentNode.__origin__=u(t.key),e.attr("visibility","hidden")}).on("drag",function(e){x[e.key]=Math.min(s,Math.max(0,this.parentNode.__origin__+=d3.event.x)),t.attr("d",R),p.sort(function(t,e){return K(t.key)-K(e.key)}),p.forEach(function(t,e){return t.currentPosition=e}),u.domain(p.map(function(t){return t.key})),n.attr("transform",function(t){return"translate("+K(t.key)+")"})}).on("dragend",function(n,i){delete this.parentNode.__origin__,delete x[n.key],d3.select(this.parentNode).attr("transform","translate("+u(n.key)+")"),t.attr("d",R),e.attr("d",R).attr("visibility",null),A.dimensionsOrder(p)}),I=u.range()[1]-u.range()[0];if(I=isNaN(I)?u.range()[0]:I,!isNaN(I)){var z=[0+I/2,l-12,s-I/2,l-12];(L=O.select(".missingValuesline").selectAll("line").data([z])).enter().append("line"),L.exit().remove(),L.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(P=O.select(".missingValuesline").selectAll("text").data([d])).append("text").data([d]),P.enter().append("text"),P.exit().remove(),P.attr("y",l).attr("x",s-92-I/2).text(function(t){return t})}(e=O.select(".background").selectAll("path").data(C)).enter().append("path"),e.exit().remove(),e.attr("d",R),(t=O.select(".foreground").selectAll("path").data(C)).enter().append("path"),t.exit().remove(),t.attr("d",R).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||v(t,e)}),t.on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),A.elementMouseover({label:t.name,color:t.color||v(t,e),values:t.values,dimensions:p})}),t.on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),A.elementMouseout({label:t.name,index:e})}),t.on("mousemove",function(t,e){A.elementMousemove()}),t.on("click",function(t){A.elementClick({id:t.id})});var H=(n=T.selectAll(".dimension").data(p)).enter().append("g").attr("class","nv-parallelCoordinates dimension");n.attr("transform",function(t){return"translate("+u(t.key)+",0)"}),H.append("g").attr("class","nv-axis"),H.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){A.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){A.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){A.elementMousemove()}).call(B),H.append("g").attr("class","nv-brushBackground"),n.exit().remove(),n.select(".nv-label").text(function(t){return t.key}),j(g);var V=h.filter(function(t){return!c[t].brush.empty()}),G=V.map(function(t){return c[t].brush.extent()}),Y=y.slice(0);function R(t){return w(p.map(function(e){if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key]))||F){var n=c[e.key].domain(),i=c[e.key].range(),r=n[0]-(n[1]-n[0])/9;if(b.indexOf(e.key)<0){var o=d3.scale.linear().domain([r,n[1]]).range([l-12,i[1]]);c[e.key].brush.y(o),b.push(e.key)}if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key])))return[u(e.key),c[e.key](r)]}return void 0!==L&&(b.length>0||F?(L.style("display","inline"),P.style("display","inline")):(L.style("display","none"),P.style("display","none"))),[u(e.key),c[e.key](t.values[e.key])]}))}function j(t){m.forEach(function(e){var n=c[e.dimension].brush.y().domain();e.hasOnlyNaN&&(e.extent[1]=(c[e.dimension].domain()[1]-n[0])*(e.extent[1]-e.extent[0])/(W[e.dimension]-e.extent[0])+n[0]),e.hasNaN&&(e.extent[0]=n[0]),t&&c[e.dimension].brush.extent(e.extent)}),n.select(".nv-brushBackground").each(function(t){d3.select(this).call(c[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),q()}function X(){!1===g&&(g=!0,j(!0))}function Z(){V=h.filter(function(t){return!c[t].brush.empty()}),G=V.map(function(t){return c[t].brush.extent()}),m=[],V.forEach(function(t,e){m[e]={dimension:t,extent:G[e],hasNaN:!1,hasOnlyNaN:!1}}),y=[],t.style("display",function(t){var e=V.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||G[n][0]!=c[e].brush.y().domain()[0])||G[n][0]<=t.values[e]&&t.values[e]<=G[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),q(),A.brush({filters:m,active:y})}function $(){var t=V.length>0;m.forEach(function(t){t.extent[0]===c[t.dimension].brush.y().domain()[0]&&b.indexOf(t.dimension)>=0&&(t.hasNaN=!0),t.extent[1]<c[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),A.brushEnd(y,t)}function q(){n.select(".nv-axis").each(function(t,e){var n=m.filter(function(e){return e.dimension==t.key});N[t.key]=c[t.key].domain(),0!=n.length&&g&&(N[t.key]=[],n[0].extent[1]>c[t.key].domain()[0]&&(N[t.key]=[n[0].extent[1]]),n[0].extent[0]>=c[t.key].domain()[0]&&N[t.key].push(n[0].extent[0])),d3.select(this).call(M.scale(c[t.key]).tickFormat(t.format).tickValues(N[t.key]))})}function K(t){var e=x[t];return null==e?u(t):e}y=[],t.style("display",function(t){var e=V.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||G[n][0]!=c[e].brush.y().domain()[0])||G[n][0]<=t.values[e]&&t.values[e]<=G[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),(m.length>0||!i.utils.arrayEquals(y,Y))&&A.activeChanged(y)}),S}return S.dispatch=A,S.options=i.utils.optionsFunc.bind(S),S._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},dimensionData:{get:function(){return f},set:function(t){f=t}},displayBrush:{get:function(){return g},set:function(t){g=t}},filters:{get:function(){return m},set:function(t){m=t}},active:{get:function(){return y},set:function(t){y=t}},lineTension:{get:function(){return k},set:function(t){k=t}},undefinedValuesLabel:{get:function(){return d},set:function(t){d=t}},dimensions:{get:function(){return f.map(function(t){return t.key})},set:function(t){i.deprecated("dimensions","use dimensionData instead"),t.forEach(0===f.length?function(t){f.push({key:t})}:function(t,e){f[e].key=t})}},dimensionNames:{get:function(){return f.map(function(t){return t.key})},set:function(t){i.deprecated("dimensionNames","use dimensionData instead"),h=[],t.forEach(0===f.length?function(t){f.push({key:t})}:function(t,e){f[e].key=t})}},dimensionFormats:{get:function(){return f.map(function(t){return t.format})},set:function(t){i.deprecated("dimensionFormats","use dimensionData instead"),t.forEach(0===f.length?function(t){f.push({format:t})}:function(t,e){f[e].format=t})}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},color:{get:function(){return v},set:function(t){v=i.utils.getColor(t)}}}),i.utils.initOptions(S),S},i.models.parallelCoordinatesChart=function(){"use strict";var t=i.models.parallelCoordinates(),e=i.models.legend(),n=i.models.tooltip(),r=(i.models.tooltip(),{top:0,right:0,bottom:0,left:0}),o=null,a=null,s=null,l=!0,u=i.utils.defaultColor(),c=i.utils.state(),d=[],f=!0,p=null,h=null,g="undefined",v=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),m=i.utils.renderWatch(v),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},x=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function b(n){return m.reset(),m.models(t),n.each(function(n){var u=d3.select(this);i.utils.initSVG(u);var h,g=i.utils.availableWidth(a,u,r),m=i.utils.availableHeight(s,u,r);if(b.update=function(){u.call(b)},b.container=this,c.setter(x(d),b.update).getter(y(d)).update(),c.disabled=d.map(function(t){return!!t.disabled}),(d=d.map(function(t){return t.disabled=!!t.disabled,t})).forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!p)for(h in p={},c)p[h]=c[h]instanceof Array?c[h].slice(0):c[h];if(!n||!n.length)return i.utils.noData(b,u),b;u.selectAll(".nv-noData").remove();var k=u.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([n]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),M=k.select("g");w.append("g").attr("class","nv-parallelCoordinatesWrap"),w.append("g").attr("class","nv-legendWrap"),M.select("rect").attr("width",g).attr("height",m>0?m:0),l?(e.width(g).color(function(t){return"rgb(188,190,192)"}),M.select(".nv-legendWrap").datum(d.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(e),o||e.height()===r.top||(r.top=e.height(),m=i.utils.availableHeight(s,u,r)),k.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-r.top+")")):M.select(".nv-legendWrap").selectAll("*").remove(),k.attr("transform","translate("+r.left+","+r.top+")"),t.width(g).height(m).dimensionData(d).displayBrush(f),M.select(".nv-parallelCoordinatesWrap ").datum(n).transition().call(t),t.dispatch.on("brushEnd",function(t,e){e?(f=!0,v.brushEnd(t)):f=!1}),e.dispatch.on("stateChange",function(t){for(var e in t)c[e]=t[e];v.stateChange(c),b.update()}),t.dispatch.on("dimensionsOrder",function(t){d.sort(function(t,e){return t.currentPosition-e.currentPosition});var e=!1;d.forEach(function(t,n){t.currentPosition=n,t.currentPosition!==t.originalPosition&&(e=!0)}),v.dimensionsOrder(d,e)}),v.on("changeState",function(t){void 0!==t.disabled&&(d.forEach(function(e,n){e.disabled=t.disabled[n]}),c.disabled=t.disabled),b.update()})}),m.renderEnd("parraleleCoordinateChart immediate"),b}return n.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),t.dispatch.on("elementMouseover.tooltip",function(t){var e={key:t.label,color:t.color,series:[]};t.values&&(Object.keys(t.values).forEach(function(n){var i,r=t.dimensions.filter(function(t){return t.key===n})[0];r&&(i=isNaN(t.values[n])||isNaN(parseFloat(t.values[n]))?g:r.format(t.values[n]),e.series.push({idx:r.currentPosition,key:n,value:i,color:r.color}))}),e.series.sort(function(t,e){return t.idx-e.idx})),n.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(){n()}),b.dispatch=v,b.parallelCoordinates=t,b.legend=e,b.tooltip=n,b.options=i.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},defaultState:{get:function(){return p},set:function(t){p=t}},dimensionData:{get:function(){return d},set:function(t){d=t}},displayBrush:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return h},set:function(t){h=t}},nanValue:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return r},set:function(t){void 0!==t.top&&(r.top=t.top,o=t.top),r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},color:{get:function(){return u},set:function(n){u=i.utils.getColor(n),e.color(u),t.color(u)}}}),i.utils.inheritOptions(b,t),i.utils.initOptions(b),b},i.models.pie=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},e=500,n=500,r=function(t){return t.x},o=function(t){return t.y},a=Math.floor(1e4*Math.random()),s=null,l=i.utils.defaultColor(),u=d3.format(",.2f"),c=!0,d=!1,f="key",p=.02,h=!1,g=!1,v=!1,m=!0,y=0,x=!1,b=!1,k=!1,w=!1,M=0,A=.5,C=250,S=[],_=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=[],W=[],F=i.utils.renderWatch(_);function N(O){return F.reset(),O.each(function(N){var O=e-t.left-t.right,D=n-t.top-t.bottom,T=Math.min(O,D)/2,L=[],P=[];if(s=d3.select(this),0===S.length)for(var B=T-T/10,I=A*T,z=0;z<N[0].length;z++)L.push(B),P.push(I);else m?(L=S.map(function(t){return(t.outer-t.outer/10)*T}),P=S.map(function(t){return(t.inner-t.inner/10)*T}),A=d3.min(S.map(function(t){return t.inner-t.inner/10}))):(L=S.map(function(t){return t.outer*T}),P=S.map(function(t){return t.inner*T}),A=d3.min(S.map(function(t){return t.inner})));i.utils.initSVG(s);var H=s.selectAll(".nv-wrap.nv-pie").data(N),V=H.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+a).append("g"),G=H.select("g"),Y=V.append("g").attr("class","nv-pie");for(V.append("g").attr("class","nv-pieLabels"),H.attr("transform","translate("+t.left+","+t.top+")"),G.select(".nv-pie").attr("transform","translate("+O/2+","+D/2+")"),G.select(".nv-pieLabels").attr("transform","translate("+O/2+","+D/2+")"),s.on("click",function(t,e){_.chartClick({data:t,index:e,pos:d3.event,id:a})}),E=[],W=[],z=0;z<N[0].length;z++){var R=d3.svg.arc().outerRadius(L[z]),j=d3.svg.arc().outerRadius(L[z]+5);!1!==b&&(R.startAngle(b),j.startAngle(b)),!1!==w&&(R.endAngle(w),j.endAngle(w)),g&&(R.innerRadius(P[z]),j.innerRadius(P[z])),R.cornerRadius&&M&&(R.cornerRadius(M),j.cornerRadius(M)),E.push(R),W.push(j)}var X=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:o(t)});X.padAngle&&k&&X.padAngle(k),g&&v&&(Y.append("text").attr("class","nv-pie-title"),H.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return v}).style("font-size",Math.min(O,D)*A*2/(v.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+y+")"}));var Z=H.select(".nv-pie").selectAll(".nv-slice").data(X),$=H.select(".nv-pieLabels").selectAll(".nv-label").data(X);Z.exit().remove(),$.exit().remove();var q=Z.enter().append("g");if(q.attr("class","nv-slice"),q.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),m&&d3.select(this).select("path").transition().duration(70).attr("d",W[e]),_.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),q.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),m&&d3.select(this).select("path").transition().duration(50).attr("d",E[e]),_.elementMouseout({data:t.data,index:e})}),q.on("mousemove",function(t,e){_.elementMousemove({data:t.data,index:e})}),q.on("click",function(t,e){_.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})}),q.on("dblclick",function(t,e){_.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),Z.attr("fill",function(t,e){return l(t.data,e)}),Z.attr("stroke",function(t,e){return l(t.data,e)}),q.append("path").each(function(t){this._current=t}),Z.select("path").transition().duration(C).attr("d",function(t,e){return E[e](t)}).attrTween("d",function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,g||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return E[e](n(t))}}),c){var K=[];for(z=0;z<N[0].length;z++)K.push(E[z]),d?g&&(K[z]=d3.svg.arc().outerRadius(E[z].outerRadius()),!1!==b&&K[z].startAngle(b),!1!==w&&K[z].endAngle(w)):g||K[z].innerRadius(0);$.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t,e){if(x){t.outerRadius=L[e]+10,t.innerRadius=L[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+K[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=T+10,t.innerRadius=T+15,"translate("+K[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",x?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var U={},J=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},Q=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};$.watchTransition(F,"pie labels").attr("transform",function(t,e){if(x){t.outerRadius=L[e]+10,t.innerRadius=L[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+K[e].centroid(t)+") rotate("+n+")"}t.outerRadius=T+10,t.innerRadius=T+15;var i=K[e].centroid(t),r=Q(t);if(t.value&&r>=p){var o=J(i);U[o]&&(i[1]-=14),U[J(i)]=!0}return"translate("+i+")"}),$.select(".nv-label text").style("text-anchor",function(t,e){return x?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=Q(t),i="";if(!t.value||n<p)return"";if("function"==typeof f)i=f(t,e,{key:r(t.data),value:o(t.data),percent:u(n)});else switch(f){case"key":i=r(t.data);break;case"value":i=u(o(t.data));break;case"percent":i=d3.format("%")(n)}return i}),h&&$.each(function(t,e){if(this.getBBox){var n=this.getBBox(),r=K[e].centroid(t),o={x:r[0]+n.x,y:r[1]+n.y},a={x:o.x+n.width,y:o.y},s={x:o.x,y:o.y+n.height},l={x:o.x+n.width,y:o.y+n.height};t.visible=i.utils.pointIsInArc(o,t,R)&&i.utils.pointIsInArc(a,t,R)&&i.utils.pointIsInArc(s,t,R)&&i.utils.pointIsInArc(l,t,R)}}).style("display",function(t){return t.visible?null:"none"})}}),F.renderEnd("pie immediate"),N}return N.dispatch=_,N.options=i.utils.optionsFunc.bind(N),N._options=Object.create({},{arcsRadius:{get:function(){return S},set:function(t){S=t}},width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},showLabels:{get:function(){return c},set:function(t){c=t}},title:{get:function(){return v},set:function(t){v=t}},titleOffset:{get:function(){return y},set:function(t){y=t}},labelThreshold:{get:function(){return p},set:function(t){p=t}},hideOverlapLabels:{get:function(){return h},set:function(t){h=t}},valueFormat:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return r},set:function(t){r=t}},id:{get:function(){return a},set:function(t){a=t}},endAngle:{get:function(){return w},set:function(t){w=t}},startAngle:{get:function(){return b},set:function(t){b=t}},padAngle:{get:function(){return k},set:function(t){k=t}},cornerRadius:{get:function(){return M},set:function(t){M=t}},donutRatio:{get:function(){return A},set:function(t){A=t}},labelsOutside:{get:function(){return d},set:function(t){d=t}},labelSunbeamLayout:{get:function(){return x},set:function(t){x=t}},donut:{get:function(){return g},set:function(t){g=t}},growOnHover:{get:function(){return m},set:function(t){m=t}},pieLabelsOutside:{get:function(){return d},set:function(t){d=t,i.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return d},set:function(t){d=t,i.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return u},set:function(t){u=t,i.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},duration:{get:function(){return C},set:function(t){F.reset(C=t)}},y:{get:function(){return o},set:function(t){o=d3.functor(t)}},color:{get:function(){return l},set:function(t){l=i.utils.getColor(t)}},labelType:{get:function(){return f},set:function(t){f=t||"key"}}}),i.utils.initOptions(N),N},i.models.pieChart=function(){"use strict";var t=i.models.pie(),e=i.models.legend(),n=i.models.tooltip(),r={top:30,right:20,bottom:20,left:20},o=null,a=null,s=null,l=!1,u=!0,c="top",d=i.utils.defaultColor(),f=i.utils.state(),p=null,h=null,g=250,v=d3.dispatch("stateChange","changeState","renderEnd");n.duration(0).headerEnabled(!1).valueFormatter(function(e,n){return t.valueFormat()(e,n)});var m=i.utils.renderWatch(v),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},x=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function b(n){return m.reset(),m.models(t),n.each(function(n){var l=d3.select(this);i.utils.initSVG(l);var d,h=i.utils.availableWidth(a,l,r),g=i.utils.availableHeight(s,l,r);if(b.update=function(){l.transition().call(b)},b.container=this,f.setter(x(n),b.update).getter(y(n)).update(),f.disabled=n.map(function(t){return!!t.disabled}),!p)for(d in p={},f)p[d]=f[d]instanceof Array?f[d].slice(0):f[d];if(!n||!n.length)return i.utils.noData(b,l),b;l.selectAll(".nv-noData").remove();var m=l.selectAll("g.nv-wrap.nv-pieChart").data([n]),k=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),w=m.select("g");if(k.append("g").attr("class","nv-pieWrap"),k.append("g").attr("class","nv-legendWrap"),u)if("top"===c)e.width(h).key(t.x()),m.select(".nv-legendWrap").datum(n).call(e),o||e.height()===r.top||(r.top=e.height(),g=i.utils.availableHeight(s,l,r)),m.select(".nv-legendWrap").attr("transform","translate(0,"+-r.top+")");else if("right"===c){var M=i.models.legend().width();h/2<M&&(M=h/2),e.height(g).key(t.x()),e.width(M),h-=e.width(),m.select(".nv-legendWrap").datum(n).call(e).attr("transform","translate("+h+",0)")}else"bottom"===c&&(e.width(h).key(t.x()),m.select(".nv-legendWrap").datum(n).call(e),r.bottom=e.height(),g=i.utils.availableHeight(s,l,r),m.select(".nv-legendWrap").attr("transform","translate(0,"+g+")"));else w.select(".nv-legendWrap").selectAll("*").remove();m.attr("transform","translate("+r.left+","+r.top+")"),t.width(h).height(g);var A=w.select(".nv-pieWrap").datum([n]);d3.transition(A).call(t),e.dispatch.on("stateChange",function(t){for(var e in t)f[e]=t[e];v.stateChange(f),b.update()}),v.on("changeState",function(t){void 0!==t.disabled&&(n.forEach(function(e,n){e.disabled=t.disabled[n]}),f.disabled=t.disabled),b.update()})}),m.renderEnd("pieChart immediate"),b}return t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:b.x()(t.data),value:b.y()(t.data),color:t.color,percent:t.percent},l||(delete t.percent,delete t.series.percent),n.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){n()}),b.legend=e,b.dispatch=v,b.pie=t,b.tooltip=n,b.options=i.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},noData:{get:function(){return h},set:function(t){h=t}},showTooltipPercent:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return u},set:function(t){u=t}},legendPosition:{get:function(){return c},set:function(t){c=t}},defaultState:{get:function(){return p},set:function(t){p=t}},color:{get:function(){return d},set:function(n){e.color(d=n),t.color(d)}},duration:{get:function(){return g},set:function(e){m.reset(g=e),t.duration(g)}},margin:{get:function(){return r},set:function(t){void 0!==t.top&&(r.top=t.top,o=t.top),r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}}}),i.utils.inheritOptions(b,t),i.utils.initOptions(b),b},i.models.sankey=function(){"use strict";var t={},e=24,n=8,r=[1,1],o=[],a=[],s=!0,l=function(t){o.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),a.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=o[t.source]),"number"==typeof n&&(n=t.target=o[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)}),o.forEach(function(t){t.value=Math.max(d3.sum(t.sourceLinks,f),d3.sum(t.targetLinks,f))}),function(){for(var t,n,i=o,a=0;i.length&&a<o.length;)t=[],i.forEach(function(n){n.x=a,n.dx=e,n.sourceLinks.forEach(function(e){t.indexOf(e.target)<0&&t.push(e.target)})}),i=t,++a;s&&function(t){o.forEach(function(e){e.sourceLinks.length||(e.x=t-1)})}(a),n=(r[0]-e)/(a-1),o.forEach(function(t){t.x*=n})}(),function(t){var e,i=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(o).map(function(t){return t.values});e=d3.min(i,function(t){return(r[1]-(t.length-1)*n)/d3.sum(t,f)}),i.forEach(function(t){t.forEach(function(t,n){t.y=n,t.dy=t.value*e})}),a.forEach(function(t){t.dy=t.value*e}),p(),d();for(var s=1;t>0;--t)u(s*=.99),p(),d(),l(s),p(),d();function l(t){function e(t){return(t.source.y+t.sy+t.dy/2)*t.value}i.forEach(function(n,i){n.forEach(function(n){if(n.targetLinks.length){var i=d3.sum(n.targetLinks,e)/d3.sum(n.targetLinks,f);n.y+=(i-c(n))*t}})})}function u(t){function e(t){return(t.target.y+t.ty+t.dy/2)*t.value}i.slice().reverse().forEach(function(n){n.forEach(function(n){if(n.sourceLinks.length){var i=d3.sum(n.sourceLinks,e)/d3.sum(n.sourceLinks,f);n.y+=(i-c(n))*t}})})}function p(){i.forEach(function(t){var e,i,o,a=0,s=t.length;for(t.sort(h),o=0;o<s;++o)(i=a-(e=t[o]).y)>0&&(e.y+=i),a=e.y+e.dy+n;if((i=a-n-r[1])>0)for(a=e.y-=i,o=s-2;o>=0;--o)(i=(e=t[o]).y+e.dy+n-a)>0&&(e.y-=i),a=e.y})}function h(t,e){return t.y-e.y}}(t)},u=function(){var t=.5;function e(e){var n=e.source.x+e.source.dx,i=e.target.x,r=d3.interpolateNumber(n,i),o=r(t),a=r(1-t),s=e.source.y+e.sy+e.dy/2,l=e.target.y+e.ty+e.dy/2;return"M"+n+","+s+"C"+o+","+s+" "+a+","+l+" "+i+","+l}return e.curvature=function(n){return arguments.length?(t=+n,e):t},e},c=function(t){return t.y+t.dy/2};function d(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}o.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),o.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function f(t){return t.value}return t.options=i.utils.optionsFunc.bind(t),t._options=Object.create({},{nodeWidth:{get:function(){return e},set:function(t){e=+t}},nodePadding:{get:function(){return n},set:function(t){n=t}},nodes:{get:function(){return o},set:function(t){o=t}},links:{get:function(){return a},set:function(t){a=t}},size:{get:function(){return r},set:function(t){r=t}},sinksRight:{get:function(){return s},set:function(t){s=t}},layout:{get:function(){l(32)},set:function(t){l(t)}},relayout:{get:function(){d()},set:function(t){}},center:{get:function(){return c()},set:function(t){"function"==typeof t&&(c=t)}},link:{get:function(){return u()},set:function(t){return"function"==typeof t&&(u=t),u()}}}),i.utils.initOptions(t),t},i.models.sankeyChart=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=i.models.sankey(),n=600,r=400,o=36,a=40,s="units",l=void 0,u=d3.format(",.0f"),c=function(t){return u(t)+" "+s},d=d3.scale.category20(),f=function(t){return t.source.name+" \u2192 "+t.target.name+"\n"+c(t.value)},p=function(t){return t.color=d(t.name.replace(/ .*/,""))},h=function(t){return d3.rgb(t.color).darker(2)},g=function(t){return t.name+"\n"+c(t.value)},v=function(t,e){t.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(e)};function m(t){return t.each(function(i){var s={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},u=!1,c=!1;if(("object"==typeof i.nodes&&i.nodes.length)>=0&&("object"==typeof i.links&&i.links.length)>=0&&(u=!0),i.nodes&&i.nodes.length>0&&i.links&&i.links.length>0&&(c=!0),!u)return console.error("NVD3 Sankey chart error:","invalid data format for",i),console.info("Valid data format is: ",s,JSON.stringify(s)),v(t,"Error loading chart, data is invalid"),!1;if(!c)return v(t,"No data available"),!1;var d=t.append("svg").attr("width",n).attr("height",r).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");e.nodeWidth(o).nodePadding(a).size([n,r]);var m=e.link();e.nodes(i.nodes).links(i.links).layout(32).center(l);var y=d.append("g").selectAll(".link").data(i.links).enter().append("path").attr("class","link").attr("d",m).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy});y.append("title").text(f);var x=d.append("g").selectAll(".node").data(i.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.behavior.drag().origin(function(t){return t}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(r-t.dy,d3.event.y)))+")"),e.relayout(),y.attr("d",m)}));x.append("rect").attr("height",function(t){return t.dy}).attr("width",e.nodeWidth()).style("fill",p).style("stroke",h).append("title").text(g),x.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){return t.name}).filter(function(t){return t.x<n/2}).attr("x",6+e.nodeWidth()).attr("text-anchor","start")}),m}return m.options=i.utils.optionsFunc.bind(m),m._options=Object.create({},{units:{get:function(){return s},set:function(t){s=t}},width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return r},set:function(t){r=t}},format:{get:function(){return c},set:function(t){c=t}},linkTitle:{get:function(){return f},set:function(t){f=t}},nodeWidth:{get:function(){return o},set:function(t){o=t}},nodePadding:{get:function(){return a},set:function(t){a=t}},center:{get:function(){return l},set:function(t){l=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},nodeStyle:{get:function(){return{}},set:function(t){p=void 0!==t.fillColor?t.fillColor:p,h=void 0!==t.strokeColor?t.strokeColor:h,g=void 0!==t.title?t.title:g}}}),i.utils.initOptions(m),m},i.models.scatter=function(){"use strict";var t,e,n,r,o,a,s,l,u={top:0,right:0,bottom:0,left:0},c=null,d=null,f=i.utils.defaultColor(),p=null,h=Math.floor(1e5*Math.random()),g=null,v=d3.scale.linear(),m=d3.scale.linear(),y=d3.scale.linear(),x=function(t){return t.x},b=function(t){return t.y},k=function(t){return t.size||1},w=function(t){return t.shape||"circle"},M=[],A=[],C=[],S=!0,_=function(t){return!t.notActive},E=!1,W=.1,F=!1,N=!0,O=!1,D=function(){return 25},T=null,L=null,P=null,B=null,I=null,z=null,H=!1,V=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),G=!0,Y=250,R=300,j=!1,X=!1,Z=i.utils.renderWatch(V,Y),$=[16,256],q={};function K(t){delete q[t[0].series+":"+t[1]]}function U(t){var e,n,i,r=function(t){var e;return q[e=t[0].series+":"+t[1]]=q[e]||{}}(t),o=!1;for(e=1;e<arguments.length;e+=2)n=arguments[e],i=arguments[e+1](t[0],t[1]),r[n]===i&&r.hasOwnProperty(n)||(r[n]=i,o=!0);return o}function J(Y){return Z.reset(),Y.each(function(Y){g=d3.select(this);var q=i.utils.availableWidth(c,g,u),Q=i.utils.availableHeight(d,g,u);i.utils.initSVG(g),Y.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var tt="function"==typeof J.yScale().base,et=T&&L&&I?[]:d3.merge(Y.map(function(t){return t.values.map(function(t,e){return{x:x(t,e),y:b(t,e),size:k(t,e)}})}));if(v.domain(T||d3.extent(et.map(function(t){return t.x}).concat(M))),v.range(E&&Y[0]?P||[(q*W+q)/(2*Y[0].values.length),q-q*(1+W)/(2*Y[0].values.length)]:P||[0,q]),tt){var nt=d3.min(et.map(function(t){if(0!==t.y)return t.y}));m.clamp(!0).domain(L||d3.extent(et.map(function(t){return 0!==t.y?t.y:.1*nt}).concat(A))).range(B||[Q,0])}else m.domain(L||d3.extent(et.map(function(t){return t.y}).concat(A))).range(B||[Q,0]);y.domain(I||d3.extent(et.map(function(t){return t.size}).concat(C))).range(z||$),H=v.domain()[0]===v.domain()[1]||m.domain()[0]===m.domain()[1],v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(v.domain()[0])&&v.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),t=t||v,e=e||m,n=n||y;var it=v(1)!==t(1)||m(1)!==e(1)||y(1)!==n(1);s=s||d;var rt=(a=a||c)!==c||s!==d,ot=(r=r||[])[0]!==v.domain()[0]||r[1]!==v.domain()[1];r=v.domain(),o=o||[],ot=ot||o[0]!==m.domain()[0]||o[1]!==m.domain()[1],o=m.domain();var at=g.selectAll("g.nv-wrap.nv-scatter").data([Y]),st=at.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+h),lt=st.append("defs"),ut=st.append("g"),ct=at.select("g");function dt(){if(X=!1,!S)return!1;if(!0===G){at.select(".nv-point-paths").selectAll("path").remove();var t=d3.merge(Y.map(function(t,e){return t.values.map(function(t,n){var r=x(t,n),o=b(t,n);return[i.utils.NaNtoZero(v(r))+1e-4*Math.random(),i.utils.NaNtoZero(m(o))+1e-4*Math.random(),e,n,t]}).filter(function(t,e){return _(t[4],e)})}));if(0==t.length)return!1;t.length<3&&(t.push([v.range()[0]-20,m.range()[0]-20,null,null]),t.push([v.range()[1]+20,m.range()[1]+20,null,null]),t.push([v.range()[0]-20,m.range()[0]+20,null,null]),t.push([v.range()[1]+20,m.range()[1]-20,null,null]));var e=d3.geom.polygon([[-10,-10],[-10,d+10],[c+10,d+10],[c+10,-10]]);t=t.sort(function(t,e){return t[0]-e[0]||t[1]-e[1]});for(var n=0;n<t.length-1;)Math.abs(t[n][0]-t[n+1][0])<1e-4&&Math.abs(t[n][1]-t[n+1][1])<1e-4?t.splice(n+1,1):n++;var r=d3.geom.voronoi(t).map(function(n,i){return{data:e.clip(n),series:t[i][2],point:t[i][3]}}),o=at.select(".nv-point-paths").selectAll("path").data(r),a=o.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+h+"-"+e+")"});O&&a.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),N&&(at.select(".nv-point-clips").selectAll("*").remove(),at.select(".nv-point-clips").selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+h+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",D));var s=function(t,e,n){if(X)return 0;var i=Y[e.series];if(void 0!==i){var r=i.values[e.point];r.color=f(i,e.series),r.x=x(r),r.y=b(r);var o=g.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft;n({point:r,series:i,pos:{left:v(x(r,e.point))+o.left+s+u.left+10,top:m(b(r,e.point))+o.top+a+u.top+10},relativePos:[v(x(r,e.point))+u.left,m(b(r,e.point))+u.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t})}};o.on("click",function(t){s(this,t,V.elementClick)}).on("dblclick",function(t){s(this,t,V.elementDblClick)}).on("mouseover",function(t){s(this,t,V.elementMouseover)}).on("mouseout",function(t,e){s(this,t,V.elementMouseout)})}else at.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(X||!Y[t.series])return 0;var n=Y[t.series],i=n.values[e];V.elementClick({point:i,series:n,pos:[v(x(i,e))+u.left,m(b(i,e))+u.top],relativePos:[v(x(i,e))+u.left,m(b(i,e))+u.top],seriesIndex:t.series,pointIndex:e,event:d3.event,element:this})}).on("dblclick",function(t,e){if(X||!Y[t.series])return 0;var n=Y[t.series],i=n.values[e];V.elementDblClick({point:i,series:n,pos:[v(x(i,e))+u.left,m(b(i,e))+u.top],relativePos:[v(x(i,e))+u.left,m(b(i,e))+u.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(X||!Y[t.series])return 0;var n=Y[t.series],i=n.values[e];V.elementMouseover({point:i,series:n,pos:[v(x(i,e))+u.left,m(b(i,e))+u.top],relativePos:[v(x(i,e))+u.left,m(b(i,e))+u.top],seriesIndex:t.series,pointIndex:e,color:f(t,e)})}).on("mouseout",function(t,e){if(X||!Y[t.series])return 0;var n=Y[t.series],i=n.values[e];V.elementMouseout({point:i,series:n,pos:[v(x(i,e))+u.left,m(b(i,e))+u.top],relativePos:[v(x(i,e))+u.left,m(b(i,e))+u.top],seriesIndex:t.series,pointIndex:e,color:f(t,e)})})}at.classed("nv-single-point",H),ut.append("g").attr("class","nv-groups"),ut.append("g").attr("class","nv-point-paths"),st.append("g").attr("class","nv-point-clips"),at.attr("transform","translate("+u.left+","+u.top+")"),lt.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect").attr("transform","translate( -10, -10)"),at.select("#nv-edge-clip-"+h+" rect").attr("width",q+20).attr("height",Q>0?Q+20:0),ct.attr("clip-path",F?"url(#nv-edge-clip-"+h+")":""),X=!0;var ft=at.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});ft.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),ft.exit().remove(),ft.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!S).classed("hover",function(t){return t.hover}),ft.watchTransition(Z,"scatter: groups").style("fill",function(t,e){return f(t,e)}).style("stroke",function(t,e){return t.pointBorderColor||p||f(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var pt=ft.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return _(t[0],e)})});if(pt.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(n){return"translate("+i.utils.NaNtoZero(t(x(n[0],n[1])))+","+i.utils.NaNtoZero(e(b(n[0],n[1])))+")"}).attr("d",i.utils.symbol().type(function(t){return w(t[0])}).size(function(t){return y(k(t[0],t[1]))})),pt.exit().each(K).remove(),ft.exit().selectAll("path.nv-point").watchTransition(Z,"scatter exit").attr("transform",function(t){return"translate("+i.utils.NaNtoZero(v(x(t[0],t[1])))+","+i.utils.NaNtoZero(m(b(t[0],t[1])))+")"}).remove(),pt.filter(function(t){return U(t,"x",x,"y",b)||it||rt||ot}).watchTransition(Z,"scatter points").attr("transform",function(t){return"translate("+i.utils.NaNtoZero(v(x(t[0],t[1])))+","+i.utils.NaNtoZero(m(b(t[0],t[1])))+")"}),pt.filter(function(t){return U(t,"shape",w,"size",k)||it||rt||ot}).watchTransition(Z,"scatter points").attr("d",i.utils.symbol().type(function(t){return w(t[0])}).size(function(t){return y(k(t[0],t[1]))})),j){var ht=ft.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return _(t[0],e)})});ht.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(n){return"translate("+(i.utils.NaNtoZero(t(x(n[0],n[1])))+Math.sqrt(y(k(n[0],n[1]))/Math.PI)+2)+","+i.utils.NaNtoZero(e(b(n[0],n[1])))+")"}).text(function(t,e){return t[0].label}),ht.exit().remove(),ft.exit().selectAll("path.nv-label").watchTransition(Z,"scatter exit").attr("transform",function(t){return"translate("+(i.utils.NaNtoZero(v(x(t[0],t[1])))+Math.sqrt(y(k(t[0],t[1]))/Math.PI)+2)+","+i.utils.NaNtoZero(m(b(t[0],t[1])))+")"}).remove(),ht.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),ht.watchTransition(Z,"scatter labels").attr("transform",function(t){return"translate("+(i.utils.NaNtoZero(v(x(t[0],t[1])))+Math.sqrt(y(k(t[0],t[1]))/Math.PI)+2)+","+i.utils.NaNtoZero(m(b(t[0],t[1])))+")"})}R?(clearTimeout(l),l=setTimeout(dt,R)):dt(),t=v.copy(),e=m.copy(),n=y.copy(),a=c,s=d}),Z.renderEnd("scatter immediate"),J}return J.dispatch=V,J.options=i.utils.optionsFunc.bind(J),J._calls=new function(){this.clearHighlights=function(){return i.dom.write(function(){g.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){i.dom.write(function(){g.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},V.on("elementMouseover.point",function(t){S&&J._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),V.on("elementMouseout.point",function(t){S&&J._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),J._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},xScale:{get:function(){return v},set:function(t){v=t}},yScale:{get:function(){return m},set:function(t){m=t}},pointScale:{get:function(){return y},set:function(t){y=t}},xDomain:{get:function(){return T},set:function(t){T=t}},yDomain:{get:function(){return L},set:function(t){L=t}},pointDomain:{get:function(){return I},set:function(t){I=t}},xRange:{get:function(){return P},set:function(t){P=t}},yRange:{get:function(){return B},set:function(t){B=t}},pointRange:{get:function(){return z},set:function(t){z=t}},forceX:{get:function(){return M},set:function(t){M=t}},forceY:{get:function(){return A},set:function(t){A=t}},forcePoint:{get:function(){return C},set:function(t){C=t}},interactive:{get:function(){return S},set:function(t){S=t}},pointActive:{get:function(){return _},set:function(t){_=t}},padDataOuter:{get:function(){return W},set:function(t){W=t}},padData:{get:function(){return E},set:function(t){E=t}},clipEdge:{get:function(){return F},set:function(t){F=t}},clipVoronoi:{get:function(){return N},set:function(t){N=t}},clipRadius:{get:function(){return D},set:function(t){D=t}},showVoronoi:{get:function(){return O},set:function(t){O=t}},id:{get:function(){return h},set:function(t){h=t}},interactiveUpdateDelay:{get:function(){return R},set:function(t){R=t}},showLabels:{get:function(){return j},set:function(t){j=t}},pointBorderColor:{get:function(){return p},set:function(t){p=t}},x:{get:function(){return x},set:function(t){x=d3.functor(t)}},y:{get:function(){return b},set:function(t){b=d3.functor(t)}},pointSize:{get:function(){return k},set:function(t){k=d3.functor(t)}},pointShape:{get:function(){return w},set:function(t){w=d3.functor(t)}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return Y},set:function(t){Z.reset(Y=t)}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t)}},useVoronoi:{get:function(){return G},set:function(t){!1===(G=t)&&(N=!1)}}}),i.utils.initOptions(J),J},i.models.scatterChart=function(){"use strict";var t=i.models.scatter(),e=i.models.axis(),n=i.models.axis(),r=i.models.legend(),o=i.models.distribution(),a=i.models.distribution(),s=i.models.tooltip(),l={top:30,right:20,bottom:50,left:75},u=null,c=null,d=null,f=null,p=i.utils.defaultColor(),h=t.xScale(),g=t.yScale(),v=!1,m=!1,y=!0,x=!0,b=!0,k=!1,w=i.utils.state(),M=null,A=d3.dispatch("stateChange","changeState","renderEnd"),C=null,S=250,_=!1;t.xScale(h).yScale(g),e.orient("bottom").tickPadding(10),n.orient(k?"right":"left").tickPadding(10),o.axis("x"),a.axis("y"),s.headerFormatter(function(t,n){return e.tickFormat()(t,n)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)});var E=i.utils.renderWatch(A,S),W=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},F=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function N(C){return E.reset(),E.models(t),x&&E.models(e),b&&E.models(n),v&&E.models(o),m&&E.models(a),C.each(function(C){f=d3.select(this),i.utils.initSVG(f);var O,D=i.utils.availableWidth(c,f,l),T=i.utils.availableHeight(d,f,l);if(N.update=function(){0===S?f.call(N):f.transition().duration(S).call(N)},N.container=this,w.setter(F(C),N.update).getter(W(C)).update(),w.disabled=C.map(function(t){return!!t.disabled}),!M)for(O in M={},w)M[O]=w[O]instanceof Array?w[O].slice(0):w[O];if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length))return i.utils.noData(N,f),E.renderEnd("scatter immediate"),N;f.selectAll(".nv-noData").remove(),h=t.xScale(),g=t.yScale();var L=f.selectAll("g.nv-wrap.nv-scatterChart").data([C]),P=L.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id()).append("g"),B=L.select("g");P.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-scatterWrap"),P.append("g").attr("class","nv-regressionLinesWrap"),P.append("g").attr("class","nv-distWrap"),P.append("g").attr("class","nv-legendWrap"),k&&B.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),y?(r.width(D),L.select(".nv-legendWrap").datum(C).call(r),u||r.height()===l.top||(l.top=r.height(),T=i.utils.availableHeight(d,f,l)),L.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")):B.select(".nv-legendWrap").selectAll("*").remove(),L.attr("transform","translate("+l.left+","+l.top+")"),t.width(D).height(T).color(C.map(function(t,e){return t.color=t.color||p(t,e),t.color}).filter(function(t,e){return!C[e].disabled})).showLabels(_),L.select(".nv-scatterWrap").datum(C.filter(function(t){return!t.disabled})).call(t),L.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+t.id()+")");var I=L.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});I.enter().append("g").attr("class","nv-regLines");var z=I.selectAll(".nv-regLine").data(function(t){return[t]});z.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),z.filter(function(t){return t.intercept&&t.slope}).watchTransition(E,"scatterPlusLineChart: regline").attr("x1",h.range()[0]).attr("x2",h.range()[1]).attr("y1",function(t,e){return g(h.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return g(h.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return p(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),x&&(e.scale(h)._ticks(i.utils.calcTicksX(D/100,C)).tickSize(-T,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(e)),b&&(n.scale(g)._ticks(i.utils.calcTicksY(T/36,C)).tickSize(-D,0),B.select(".nv-y.nv-axis").call(n)),v&&(o.getData(t.x()).scale(h).width(D).color(C.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!C[e].disabled})),P.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),B.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(C.filter(function(t){return!t.disabled})).call(o)),m&&(a.getData(t.y()).scale(g).width(T).color(C.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!C[e].disabled})),P.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),B.select(".nv-distributionY").attr("transform","translate("+(k?D:-a.size())+",0)").datum(C.filter(function(t){return!t.disabled})).call(a)),r.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];A.stateChange(w),N.update()}),A.on("changeState",function(t){void 0!==t.disabled&&(C.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),N.update()}),t.dispatch.on("elementMouseout.tooltip",function(e){s.hidden(!0),f.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),f.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",a.size())}),t.dispatch.on("elementMouseover.tooltip",function(t){f.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-T),f.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+o.size()),s.data(t).hidden(!1)}),h.copy(),g.copy()}),E.renderEnd("scatter with line immediate"),N}return N.dispatch=A,N.scatter=t,N.legend=r,N.xAxis=e,N.yAxis=n,N.distX=o,N.distY=a,N.tooltip=s,N.options=i.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},container:{get:function(){return f},set:function(t){f=t}},showDistX:{get:function(){return v},set:function(t){v=t}},showDistY:{get:function(){return m},set:function(t){m=t}},showLegend:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return C},set:function(t){C=t}},duration:{get:function(){return S},set:function(t){S=t}},showLabels:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,u=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,n.orient(t?"right":"left")}},color:{get:function(){return p},set:function(t){p=i.utils.getColor(t),r.color(p),o.color(p),a.color(p)}}}),i.utils.inheritOptions(N,t),i.utils.initOptions(N),N},i.models.sparkline=function(){"use strict";var t,e,n,r,o={top:2,right:0,bottom:2,left:0},a=400,s=32,l=null,u=!0,c=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},h=i.utils.getColor(["#000"]),g=!0,v=!0,m=d3.dispatch("renderEnd"),y=i.utils.renderWatch(m);function x(u){return y.reset(),u.each(function(u){var m=a-o.left-o.right,y=s-o.top-o.bottom;l=d3.select(this),i.utils.initSVG(l),c.domain(t||d3.extent(u,f)).range(n||[0,m]),d.domain(e||d3.extent(u,p)).range(r||[y,0]);var x=l.selectAll("g.nv-wrap.nv-sparkline").data([u]);x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),x.select("g"),x.attr("transform","translate("+o.left+","+o.top+")");var b=x.selectAll("path").data(function(t){return[t]});b.enter().append("path"),b.exit().remove(),b.style("stroke",function(t,e){return t.color||h(t,e)}).attr("d",d3.svg.line().x(function(t,e){return c(f(t,e))}).y(function(t,e){return d(p(t,e))}));var k=x.selectAll("circle.nv-point").data(function(t){var e=t.map(function(t,e){return p(t,e)});function n(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var i=n(e.lastIndexOf(d.domain()[1])),r=n(e.indexOf(d.domain()[0])),o=n(e.length-1);return[g?r:null,g?i:null,v?o:null].filter(function(t){return null!=t})});k.enter().append("circle"),k.exit().remove(),k.attr("cx",function(t,e){return c(f(t,t.pointIndex))}).attr("cy",function(t,e){return d(p(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return f(t,t.pointIndex)==c.domain()[1]?"nv-point nv-currentValue":p(t,t.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),y.renderEnd("sparkline immediate"),x}return x.options=i.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return r},set:function(t){r=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},animate:{get:function(){return u},set:function(t){u=t}},showMinMaxPoints:{get:function(){return g},set:function(t){g=t}},showCurrentPoint:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return f},set:function(t){f=d3.functor(t)}},y:{get:function(){return p},set:function(t){p=d3.functor(t)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return h},set:function(t){h=i.utils.getColor(t)}}}),x.dispatch=m,i.utils.initOptions(x),x},i.models.sparklinePlus=function(){"use strict";var t,e,n=i.models.sparkline(),r={top:15,right:100,bottom:10,left:50},o=null,a=null,s=[],l=!1,u=d3.format(",r"),c=d3.format(",.2f"),d=!0,f=!0,p=!1,h=null,g=d3.dispatch("renderEnd"),v=i.utils.renderWatch(g);function m(h){return v.reset(),v.models(n),h.each(function(h){var g=d3.select(this);i.utils.initSVG(g);var v=i.utils.availableWidth(o,g,r),y=i.utils.availableHeight(a,g,r);if(m.update=function(){g.call(m)},m.container=this,!h||!h.length)return i.utils.noData(m,g),m;g.selectAll(".nv-noData").remove();var x=n.y()(h[h.length-1],h.length-1);t=n.xScale(),e=n.yScale();var b=g.selectAll("g.nv-wrap.nv-sparklineplus").data([h]),k=b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),w=b.select("g");k.append("g").attr("class","nv-sparklineWrap"),k.append("g").attr("class","nv-valueWrap"),k.append("g").attr("class","nv-hoverArea"),b.attr("transform","translate("+r.left+","+r.top+")");var M=w.select(".nv-sparklineWrap");if(n.width(v).height(y),M.call(n),d){var A=w.select(".nv-valueWrap").selectAll(".nv-currentValue").data([x]);A.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),A.attr("x",v+(p?r.right:0)).attr("y",f?function(t){return e(t)}:0).style("fill",n.color()(h[h.length-1],h.length-1)).text(c(x))}function C(){if(!l){var e=w.selectAll(".nv-hoverValue").data(s),i=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",function(e){return"translate("+t(n.x()(h[e],e))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),s.length&&(i.append("line").attr("x1",0).attr("y1",-r.top).attr("x2",0).attr("y2",y),i.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-r.top).attr("text-anchor","end").attr("dy",".9em"),w.select(".nv-hoverValue .nv-xValue").text(u(n.x()(h[s[0]],s[0]))),i.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-r.top).attr("text-anchor","start").attr("dy",".9em"),w.select(".nv-hoverValue .nv-yValue").text(c(n.y()(h[s[0]],s[0]))))}}k.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!l){var e=d3.mouse(this)[0]-r.left;s=[function(t,e){for(var i=Math.abs(n.x()(t[0],0)-e),r=0,o=0;o<t.length;o++)Math.abs(n.x()(t[o],o)-e)<i&&(i=Math.abs(n.x()(t[o],o)-e),r=o);return r}(h,Math.round(t.invert(e)))],C()}}).on("click",function(){l=!l}).on("mouseout",function(){s=[],C()}),w.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-r.left+","+-r.top+")"}).attr("width",v+r.left+r.right).attr("height",y+r.top)}),v.renderEnd("sparklinePlus immediate"),m}return m.dispatch=g,m.sparkline=n,m.options=i.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},xTickFormat:{get:function(){return u},set:function(t){u=t}},yTickFormat:{get:function(){return c},set:function(t){c=t}},showLastValue:{get:function(){return d},set:function(t){d=t}},alignValue:{get:function(){return f},set:function(t){f=t}},rightAlignValue:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}}}),i.utils.inheritOptions(m,n),i.utils.initOptions(m),m},i.models.stackedArea=function(){"use strict";var t,e,n={top:0,right:0,bottom:0,left:0},r=960,o=500,a=i.utils.defaultColor(),s=Math.floor(1e5*Math.random()),l=null,u=function(t){return t.x},c=function(t){return t.y},d=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},f="stack",p="zero",h="default",g="linear",v=!1,m=i.models.scatter(),y=250,x=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");m.pointSize(2.2).pointDomain([2.2,2.2]);var b=i.utils.renderWatch(x,y);function k(f){return b.reset(),b.models(m),f.each(function(f){var y=r-n.left-n.right,w=o-n.top-n.bottom;l=d3.select(this),i.utils.initSVG(l),t=m.xScale(),e=m.yScale();var M=f;f.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var A=f.filter(function(t){return!t.disabled});f=d3.layout.stack().order(h).offset(p).values(function(t){return t.values}).x(u).y(c).out(function(t,e,n){t.display={y:n,y0:e}})(A);var C=l.selectAll("g.nv-wrap.nv-stackedarea").data([f]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),_=S.append("defs"),E=S.append("g"),W=C.select("g");E.append("g").attr("class","nv-areaWrap"),E.append("g").attr("class","nv-scatterWrap"),C.attr("transform","translate("+n.left+","+n.top+")"),0==m.forceY().length&&m.forceY().push(0),m.width(y).height(w).x(u).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(f.map(function(t,e){return t.color=t.color||a(t,t.seriesIndex),t.color})),W.select(".nv-scatterWrap").datum(f).call(m),_.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),C.select("#nv-edge-clip-"+s+" rect").attr("width",y).attr("height",w),W.attr("clip-path",v?"url(#nv-edge-clip-"+s+")":"");var F=d3.svg.area().defined(d).x(function(e,n){return t(u(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y+t.display.y0)}).interpolate(g),N=d3.svg.area().defined(d).x(function(e,n){return t(u(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y0)}),O=W.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});O.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return N(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),x.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),x.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),x.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),O.exit().remove(),O.style("fill",function(t,e){return t.color||a(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||a(t,t.seriesIndex)}),O.watchTransition(b,"stackedArea path").attr("d",function(t,e){return F(t.values,e)}),m.dispatch.on("elementMouseover.area",function(t){W.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),m.dispatch.on("elementMouseout.area",function(t){W.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),k.d3_stackedOffset_stackPercent=function(t){var e,n,i,r=t.length,o=t[0].length,a=[];for(n=0;n<o;++n){for(e=0,i=0;e<M.length;e++)i+=c(M[e].values[n]);if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=0}for(n=0;n<o;++n)a[n]=0;return a}}),b.renderEnd("stackedArea immediate"),k}return k.dispatch=x,k.scatter=m,m.dispatch.on("elementClick",function(){x.elementClick.apply(this,arguments)}),m.dispatch.on("elementMouseover",function(){x.elementMouseover.apply(this,arguments)}),m.dispatch.on("elementMouseout",function(){x.elementMouseout.apply(this,arguments)}),k.interpolate=function(t){return arguments.length?(g=t,k):g},k.duration=function(t){return arguments.length?(b.reset(y=t),m.duration(y),k):y},k.dispatch=x,k.scatter=m,k.options=i.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return o},set:function(t){o=t}},defined:{get:function(){return d},set:function(t){d=t}},clipEdge:{get:function(){return v},set:function(t){v=t}},offset:{get:function(){return p},set:function(t){p=t}},order:{get:function(){return h},set:function(t){h=t}},interpolate:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return u},set:function(t){u=d3.functor(t)}},y:{get:function(){return c},set:function(t){c=d3.functor(t)}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return a},set:function(t){a=i.utils.getColor(t)}},style:{get:function(){return f},set:function(t){switch(f=t){case"stack":k.offset("zero"),k.order("default");break;case"stream":k.offset("wiggle"),k.order("inside-out");break;case"stream-center":k.offset("silhouette"),k.order("inside-out");break;case"expand":k.offset("expand"),k.order("default");break;case"stack_percent":k.offset(k.d3_stackedOffset_stackPercent),k.order("default")}}},duration:{get:function(){return y},set:function(t){b.reset(y=t),m.duration(y)}}}),i.utils.inheritOptions(k,m),i.utils.initOptions(k),k},i.models.stackedAreaChart=function(){"use strict";var t,e,n=i.models.stackedArea(),r=i.models.axis(),o=i.models.axis(),a=i.models.legend(),s=i.models.legend(),l=i.interactiveGuideline(),u=i.models.tooltip(),c=i.models.focus(i.models.stackedArea()),d={top:10,right:25,bottom:50,left:60},f=null,p=null,h=null,g=i.utils.defaultColor(),v=!0,m=!0,y="top",x=!0,b=!0,k=!1,w=!1,M=!1,A=!0,C="TOTAL",S=i.utils.state(),_=null,E=null,W=d3.dispatch("stateChange","changeState","renderEnd"),F=250,N=["Stacked","Stream","Expanded"],O={},D=250;S.style=n.style(),r.orient("bottom").tickPadding(7),o.orient(k?"right":"left"),u.headerFormatter(function(t,e){return r.tickFormat()(t,e)}).valueFormatter(function(t,e){return o.tickFormat()(t,e)}),l.tooltip.headerFormatter(function(t,e){return r.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)});var T=null,L=null;s.updateState(!1);var P=i.utils.renderWatch(W),B=(n.style(),function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:n.style()}}}),I=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},z=d3.format("%");function H(u){return P.reset(),P.models(n),x&&P.models(r),b&&P.models(o),u.each(function(u){var E=d3.select(this);i.utils.initSVG(E);var P,V=i.utils.availableWidth(p,E,d),G=i.utils.availableHeight(h,E,d)-(w?c.height():0);if(H.update=function(){E.transition().duration(D).call(H)},H.container=this,S.setter(I(u),H.update).getter(B(u)).update(),S.disabled=u.map(function(t){return!!t.disabled}),!_)for(P in _={},S)_[P]=S[P]instanceof Array?S[P].slice(0):S[P];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return i.utils.noData(H,E),H;E.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var Y=E.selectAll("g.nv-wrap.nv-stackedAreaChart").data([u]),R=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),j=Y.select("g");R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap");var X=R.append("g").attr("class","nv-focus");if(X.append("g").attr("class","nv-background").append("rect"),X.append("g").attr("class","nv-x nv-axis"),X.append("g").attr("class","nv-y nv-axis"),X.append("g").attr("class","nv-stackedWrap"),X.append("g").attr("class","nv-interactive"),R.append("g").attr("class","nv-focusWrap"),m){var Z=v&&"top"===y?V-F:V;if(a.width(Z),j.select(".nv-legendWrap").datum(u).call(a),"bottom"===y){var $=10+(x?12:0);d.bottom=Math.max(a.height()+$,d.bottom);var q=(G=i.utils.availableHeight(h,E,d)-(w?c.height():0))+$;j.select(".nv-legendWrap").attr("transform","translate(0,"+q+")")}else"top"===y&&(f||d.top==a.height()||(d.top=a.height(),G=i.utils.availableHeight(h,E,d)-(w?c.height():0)),j.select(".nv-legendWrap").attr("transform","translate("+(V-Z)+","+-d.top+")"))}else j.select(".nv-legendWrap").selectAll("*").remove();if(v){var K=[{key:O.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=n.style(),style:"stack"},{key:O.stream||"Stream",metaKey:"Stream",disabled:"stream"!=n.style(),style:"stream"},{key:O.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=n.style(),style:"expand"},{key:O.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=n.style(),style:"stack_percent"}];F=N.length/3*260,K=K.filter(function(t){return-1!==N.indexOf(t.metaKey)}),s.width(F).color(["#444","#444","#444"]),j.select(".nv-controlsWrap").datum(K).call(s);var U=Math.max(s.height(),m&&"top"===y?a.height():0);d.top!=U&&(d.top=U,G=i.utils.availableHeight(h,E,d)-(w?c.height():0)),j.select(".nv-controlsWrap").attr("transform","translate(0,"+-d.top+")")}else j.select(".nv-controlsWrap").selectAll("*").remove();Y.attr("transform","translate("+d.left+","+d.top+")"),k&&j.select(".nv-y.nv-axis").attr("transform","translate("+V+",0)"),M&&(l.width(V).height(G).margin({left:d.left,top:d.top}).svgContainer(E).xScale(t),Y.select(".nv-interactive").call(l)),j.select(".nv-focus .nv-background rect").attr("width",V).attr("height",G),n.width(V).height(G).color(u.map(function(t,e){return t.color||g(t,e)}).filter(function(t,e){return!u[e].disabled}));var J,Q=j.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}));function tt(){x&&j.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+G+")").transition().duration(D).call(r)}function et(){if(b){if("expand"===n.style()||"stack_percent"===n.style()){var t=o.tickFormat();T&&t===z||(T=t),o.tickFormat(z)}else T&&(o.tickFormat(T),T=null);j.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(o)}}if(x&&r.scale(t)._ticks(i.utils.calcTicksX(V/100,u)).tickSize(-G,0),b&&(J="wiggle"===n.offset()?0:i.utils.calcTicksY(G/36,u),o.scale(e)._ticks(J).tickSize(-V,0)),w){c.width(V),j.select(".nv-focusWrap").attr("transform","translate(0,"+(G+d.bottom+c.margin().top)+")").datum(u.filter(function(t){return!t.disabled})).call(c);var nt=c.brush.empty()?c.xDomain():c.brush.extent();null!==nt&&it(nt)}else Q.transition().call(n),tt(),et();function it(t){j.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}).map(function(e,i){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,i){return n.x()(e,i)>=t[0]&&n.x()(e,i)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(D).call(n),tt(),et()}n.dispatch.on("areaClick.toggle",function(t){1===u.filter(function(t){return!t.disabled}).length?u.forEach(function(t){t.disabled=!1}):u.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),S.disabled=u.map(function(t){return!!t.disabled}),W.stateChange(S),H.update()}),a.dispatch.on("stateChange",function(t){for(var e in t)S[e]=t[e];W.stateChange(S),H.update()}),s.dispatch.on("legendClick",function(t,e){t.disabled&&(K=K.map(function(t){return t.disabled=!0,t}),t.disabled=!1,n.style(t.style),S.style=n.style(),W.stateChange(S),H.update())}),l.dispatch.on("elementMousemove",function(t){n.clearHighlights();var e,r,o,a=[],s=0,c=!0,d=!1;if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(l,f){r=i.interactiveBisect(l.values,t.pointXValue,H.x());var p=l.values[r],h=H.y()(p,r);if(null!=h&&h>0&&(n.highlightPoint(f,r,!0),d=!0),f!==u.length-1||d||n.highlightPoint(f,r,!0),void 0!==p){void 0===e&&(e=p),void 0===o&&(o=H.xScale()(H.x()(p,r)));var v="expand"==n.style()?p.display.y:H.y()(p,r);a.push({key:l.key,value:v,color:g(l,l.seriesIndex),point:p}),A&&"expand"!=n.style()&&null!=v&&(s+=v,c=!1)}}),a.reverse(),a.length>2){var f=H.yScale().invert(t.mouseY),p=null;a.forEach(function(t,e){f=Math.abs(f);var n=Math.abs(t.point.display.y0),i=Math.abs(t.point.display.y);f>=n&&f<=i+n&&(p=e)}),null!=p&&(a[p].highlight=!0)}A&&"expand"!=n.style()&&a.length>=2&&!c&&a.push({key:C,value:s,total:!0});var h=H.x()(e,r),v=l.tooltip.valueFormatter();"expand"===n.style()||"stack_percent"===n.style()?(L||(L=v),v=d3.format(".1%")):L&&(v=L,L=null),l.tooltip.valueFormatter(v).data({value:h,series:a})(),l.renderGuideLine(o)}),l.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),c.dispatch.on("onBrush",function(t){it(t)}),W.on("changeState",function(t){void 0!==t.disabled&&u.length===t.disabled.length&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),void 0!==t.style&&n.style(t.style),H.update()})}),P.renderEnd("stacked Area chart immediate"),H}return n.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=n.x()(t.point),t.point.y=n.y()(t.point),u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),H.dispatch=W,H.stacked=n,H.legend=a,H.controls=s,H.xAxis=r,H.x2Axis=c.xAxis,H.yAxis=o,H.y2Axis=c.yAxis,H.interactiveLayer=l,H.tooltip=u,H.focus=c,H.dispatch=W,H.options=i.utils.optionsFunc.bind(H),H._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return E},set:function(t){E=t}},showControls:{get:function(){return v},set:function(t){v=t}},controlLabels:{get:function(){return O},set:function(t){O=t}},controlOptions:{get:function(){return N},set:function(t){N=t}},showTotalInTooltip:{get:function(){return A},set:function(t){A=t}},totalLabel:{get:function(){return C},set:function(t){C=t}},focusEnable:{get:function(){return w},set:function(t){w=t}},focusHeight:{get:function(){return c.height()},set:function(t){c.height(t)}},brushExtent:{get:function(){return c.brushExtent()},set:function(t){c.brushExtent(t)}},margin:{get:function(){return d},set:function(t){void 0!==t.top&&(d.top=t.top,f=t.top),d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},focusMargin:{get:function(){return c.margin},set:function(t){c.margin.top=void 0!==t.top?t.top:c.margin.top,c.margin.right=void 0!==t.right?t.right:c.margin.right,c.margin.bottom=void 0!==t.bottom?t.bottom:c.margin.bottom,c.margin.left=void 0!==t.left?t.left:c.margin.left}},duration:{get:function(){return D},set:function(t){P.reset(D=t),n.duration(D),r.duration(D),o.duration(D)}},color:{get:function(){return g},set:function(t){g=i.utils.getColor(t),a.color(g),n.color(g),c.color(g)}},x:{get:function(){return n.x()},set:function(t){n.x(t),c.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),c.y(t)}},rightAlignYAxis:{get:function(){return k},set:function(t){o.orient((k=t)?"right":"left")}},useInteractiveGuideline:{get:function(){return M},set:function(t){M=!!t,H.interactive(!t),H.useVoronoi(!t),n.scatter.interactive(!t)}}}),i.utils.inheritOptions(H,n),i.utils.initOptions(H),H},i.models.stackedAreaWithFocusChart=function(){return i.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},i.models.sunburst=function(){"use strict";var t,e,n,r,o={top:0,right:0,bottom:0,left:0},a=600,s=600,l="count",u={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},c=Math.floor(1e4*Math.random()),d=null,f=i.utils.defaultColor(),p=!1,h=function(t){return"count"===l?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},g=.02,v=function(t,e){return t.name>e.name},m=function(t,e){return void 0!==t.parent?t.name+"-"+t.parent.name+"-"+e:t.name},y=!0,x=500,b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),k=d3.scale.linear().range([0,2*Math.PI]),w=d3.scale.sqrt(),M=d3.layout.partition().sort(v),A={},C=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,w(t.y))}).outerRadius(function(t){return Math.max(0,w(t.y+t.dy))});function S(t){return _(t)>90?180:0}function _(t){return(Math.max(0,Math.min(2*Math.PI,k(t.x)))+Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx))))/2*(180/Math.PI)-90}function E(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x)));return(Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))-e)/(2*Math.PI)}function W(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x)));return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))-e>g}function F(e,n){var i=d3.interpolate(k.domain(),[t.x,t.x+t.dx]),o=d3.interpolate(w.domain(),[t.y,1]),a=d3.interpolate(w.range(),[t.y?20:0,r]);return 0===n?function(){return C(e)}:function(t){return k.domain(i(t)),w.domain(o(t)).range(a(t)),C(e)}}function N(t){var e=d3.interpolate({x:t.x0,dx:t.dx0,y:t.y0,dy:t.dy0},t);return function(n){var i=e(n);return t.x0=i.x,t.dx0=i.dx,t.y0=i.y,t.dy0=i.dy,C(i)}}function O(e){var n=d.selectAll("text"),i=d.selectAll("path");n.transition().attr("opacity",0),t=e,i.transition().duration(x).attrTween("d",F).each("end",function(t){t.x>=e.x&&t.x<e.x+e.dx&&t.depth>=e.depth&&d3.select(this.parentNode).select("text").transition().duration(x).text(function(t){return h(t)}).attr("opacity",function(t){return W(t)?1:0}).attr("transform",function(){var n=this.getBBox().width;if(0===t.depth)return"translate("+n/2*-1+",0)";if(t.depth===e.depth)return"translate("+(w(t.y)+5)+",0)";var i=_(t),r=S(t);return 0===r?"rotate("+i+")translate("+(w(t.y)+5)+",0)":"rotate("+i+")translate("+(w(t.y)+n+5)+",0)rotate("+r+")"})})}var D=i.utils.renderWatch(b);function T(t){return D.reset(),t.each(function(t){d=d3.select(this),e=i.utils.availableWidth(a,d,o),n=i.utils.availableHeight(s,d,o),r=Math.min(e,n)/2,w.range([0,r]);var g=d.select("g.nvd3.nv-wrap.nv-sunburst");g[0][0]?g.attr("transform","translate("+(e/2+o.left+o.right)+","+(n/2+o.top+o.bottom)+")"):g=d.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+c).attr("transform","translate("+(e/2+o.left+o.right)+","+(n/2+o.top+o.bottom)+")"),d.on("click",function(t,e){b.chartClick({data:t,index:e,pos:d3.event,id:c})}),M.value(u[l]||u.count);var v=M.nodes(t[0]).reverse();!function(t){t.forEach(function(t){var e=m(t),n=A[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),function(t){var e=m(t);A[e]||(A[e]={});var n=A[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}(t)})}(v);var k=g.selectAll(".arc-container").data(v,m);k.enter().append("g").attr("class","arc-container").append("path").attr("d",C).style("fill",function(t){return t.color?t.color:f(y?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",function(t,e){O(t),b.elementClick({data:t,index:e})}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("opacity",.8),b.elementMouseover({data:t,color:d3.select(this).style("fill"),percent:E(t)})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),b.elementMouseout({data:t})}).on("mousemove",function(t,e){b.elementMousemove({data:t})}),k.each(function(t){d3.select(this).select("path").transition().duration(x).attrTween("d",N)}),p&&(k.selectAll("text").remove(),k.append("text").text(function(t){return h(t)}).transition().duration(x).attr("opacity",function(t){return W(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=_(t),i=S(t);return 0===i?"rotate("+n+")translate("+(w(t.y)+5)+",0)":"rotate("+n+")translate("+(w(t.y)+e+5)+",0)rotate("+i+")"})),O(v[v.length-1]),k.exit().transition().duration(x).attr("opacity",0).each("end",function(t){var e=m(t);A[e]=void 0}).remove()}),D.renderEnd("sunburst immediate"),T}return T.dispatch=b,T.options=i.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},mode:{get:function(){return l},set:function(t){l=t}},id:{get:function(){return c},set:function(t){c=t}},duration:{get:function(){return x},set:function(t){x=t}},groupColorByParent:{get:function(){return y},set:function(t){y=!!t}},showLabels:{get:function(){return p},set:function(t){p=!!t}},labelFormat:{get:function(){return h},set:function(t){h=t}},labelThreshold:{get:function(){return g},set:function(t){g=t}},sort:{get:function(){return v},set:function(t){v=t}},key:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return o},set:function(t){o.top=null!=t.top?t.top:o.top,o.right=null!=t.right?t.right:o.right,o.bottom=null!=t.bottom?t.bottom:o.bottom,o.left=null!=t.left?t.left:o.left}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t)}}}),i.utils.initOptions(T),T},i.models.sunburstChart=function(){"use strict";var t=i.models.sunburst(),e=i.models.tooltip(),n={top:30,right:20,bottom:20,left:20},r=null,o=null,a=i.utils.defaultColor(),s=!1,l=(Math.round(1e5*Math.random()),null),u=null,c=250,d=d3.dispatch("stateChange","changeState","renderEnd"),f=i.utils.renderWatch(d);function p(e){return f.reset(),f.models(t),e.each(function(e){var a=d3.select(this);i.utils.initSVG(a);var s=i.utils.availableWidth(r,a,n),l=i.utils.availableHeight(o,a,n);if(p.update=function(){0===c?a.call(p):a.transition().duration(c).call(p)},p.container=a,!e||!e.length)return i.utils.noData(p,a),p;a.selectAll(".nv-noData").remove(),t.width(s).height(l).margin(n),a.call(t)}),f.renderEnd("sunburstChart immediate"),p}return e.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},s||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),p.dispatch=d,p.sunburst=t,p.tooltip=e,p.options=i.utils.optionsFunc.bind(p),p._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return l},set:function(t){l=t}},showTooltipPercent:{get:function(){return s},set:function(t){s=t}},color:{get:function(){return a},set:function(e){t.color(a=e)}},duration:{get:function(){return c},set:function(e){f.reset(c=e),t.duration(c)}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t.margin(n)}}}),i.utils.inheritOptions(p,t),i.utils.initOptions(p),p},i.version="1.8.6"},ZARk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("8Y7J"),r=n("rN8Y");e.NvD3Module=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[r.NvD3Component],exports:[r.NvD3Component]}]}],t}()},rN8Y:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("8Y7J");e.NvD3Component=function(){function t(t){this.el=t.nativeElement}return t.prototype.ngOnChanges=function(t){this.options&&(this.chart&&this.chartType===this.options.chart.type?this.updateWithOptions(this.options):this.initChart(this.options))},t.prototype.ngOnDestroy=function(){this.clearElement()},t.prototype.initChart=function(t){var e=this;this.clearElement(),t&&(this.chart=nv.models[t.chart.type](),this.chartType=this.options.chart.type,this.chart.id=Math.random().toString(36).substr(2,15),this.updateWithOptions(t),nv.addGraph(function(){if(e.chart)return e.chart.resizeHandler&&e.chart.resizeHandler.clear(),e.chart.resizeHandler=nv.utils.windowResize(function(){e.chart&&e.chart.update&&e.chart.update()}),e.chart},t.chart.callback))},t.prototype.updateWithOptions=function(t){if(t){for(var e in this.chart)this.chart.hasOwnProperty(e)&&("_"===e[0]||["clearHighlights","highlightPoint","id","options","resizeHandler","state","open","close","tooltipContent"].indexOf(e)>=0||("dispatch"===e?this.configureEvents(this.chart[e],t.chart[e]):["bars","bars1","bars2","boxplot","bullet","controls","discretebar","distX","distY","interactiveLayer","legend","lines","lines1","lines2","multibar","pie","scatter","scatters1","scatters2","sparkline","stack1","stack2","sunburst","tooltip","x2Axis","xAxis","y1Axis","y2Axis","y3Axis","y4Axis","yAxis","yAxis1","yAxis2","sankeyChart"].indexOf(e)>=0||"stacked"===e&&"stackedAreaChart"===t.chart.type?this.configure(this.chart[e],t.chart[e],t.chart.type):("xTickFormat"!==e&&"yTickFormat"!==e||"lineWithFocusChart"!==t.chart.type)&&("tooltips"===e&&"boxPlotChart"===t.chart.type||("tooltipXContent"!==e&&"tooltipYContent"!==e||"scatterChart"!==t.chart.type)&&(null==t.chart[e]||this.chart[e](t.chart[e])))));this.updateWithData(this.data)}},t.prototype.updateWithData=function(t){if(t){var e=this.el.querySelector("svg");this.svg=e?d3.select(e):d3.select(this.el).append("svg"),this.updateSize(),this.svg.datum(t).call(this.chart)}},t.prototype.updateSize=function(){if(this.svg){var t=void 0,e=void 0;(t=this.options.chart.height)&&(isNaN(+t)||(t+="px"),this.svg.attr("height",t).style({height:t})),(e=this.options.chart.width)?(isNaN(+e)||(e+="px"),this.svg.attr("width",e).style({width:e})):this.svg.attr("width","100%").style({width:"100%"})}},t.prototype.configure=function(t,e,n){if(t&&e)for(var i in t)t.hasOwnProperty(i)&&("_"===i[0]||("dispatch"===i?this.configureEvents(t[i],e[i]):"tooltip"===i?this.configure(t[i],e[i],n):"contentGenerator"===i?e[i]&&t[i](e[i]):-1===["axis","clearHighlights","defined","highlightPoint","nvPointerEventsClass","options","rangeBand","rangeBands","scatter","open","close"].indexOf(i)&&(null==e[i]||t[i](e[i]))))},t.prototype.configureEvents=function(t,e){if(t&&e)for(var n in t)t.hasOwnProperty(n)&&(null==e[n]||t.on(n+"._",e[n]))},t.prototype.clearElement=function(){if(this.el.innerHTML="",this.chart&&this.chart.tooltip&&this.chart.tooltip.id&&d3.select("#"+this.chart.tooltip.id()).remove(),nv.graphs&&this.chart)for(var t=nv.graphs.length-1;t>=0;t--)nv.graphs[t]&&nv.graphs[t].id===this.chart.id&&nv.graphs.splice(t,1);nv.tooltip&&nv.tooltip.cleanup&&nv.tooltip.cleanup(),this.chart&&this.chart.resizeHandler&&this.chart.resizeHandler.clear(),this.chart=null},t.decorators=[{type:i.Component,args:[{selector:"nvd3",template:""}]}],t.propDecorators={options:[{type:i.Input}],data:[{type:i.Input}]},t}()}}]);