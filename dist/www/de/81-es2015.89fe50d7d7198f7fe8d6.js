/*               "Copyright 2020 Infosys Ltd.
               Use of this source code is governed by GPL v3 license that can be found in the LICENSE file or at https://opensource.org/licenses/GPL-3.0
               This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License version 3"*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{l5mm:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("HDdC"),o=n("D0XW"),i=n("Y7HM");function r(e=0,t=o.a){return(!Object(i.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=o.a),new s.a(n=>(n.add(t.schedule(c,e,{subscriber:n,counter:0,period:e})),n))}function c(e){const{subscriber:t,counter:n,period:s}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:s},s)}},tOQL:function(e,t,n){"use strict";n.r(t);var s=n("8Y7J");class o{}var i=n("pMnS"),r=n("mrSG"),c=n("1cu3"),d=n("PnTj");n("ZNEM");class l{constructor(e,t,n){this.videojsSvc=e,this.route=t,this.viewerSvc=n,this.resourceEnded=new s.EventEmitter,this.threeSixtyContent=["lex_1252121364070536753185","lex_auth_01272703404378521670"]}ngOnInit(){return r.__awaiter(this,void 0,void 0,function*(){this.paramSubscription=this.route.data.subscribe(e=>{this.processedContent=e.playerDetails.processedResource,this.collectionId=e.playerDetails.toc.identifier}),this.processedContent&&this.processedContent.content&&(yield this.loadPlayer())})}ngOnDestroy(){this.disposePlayer()}loadPlayer(){return r.__awaiter(this,void 0,void 0,function*(){this.disposePlayer();let e={};this.processedContent.content.subTitles&&this.processedContent.content.subTitles.length&&(e=this.processedContent.content.subTitles.reduce((e,t)=>(e[t.srclang]=t.url,e),{}));const t="videojs_plugin_"+Date.now()+"_"+this.processedContent.content.identifier,n=this.viewerSvc.resumePointStringToProgressNumber(this.processedContent.resumeData);this.videoContainer.nativeElement.innerHTML=`<video id="${t}" class="video-js vjs-big-play-centered"></video>`,this.player=yield this.videojsSvc.init(t,this.processedContent.content.artifactUrl,this.processedContent.content.appIcon,this.processedContent.content.identifier,this.processedContent.content.mimeType,this.processedContent.content.contentType,this.collectionId,n,e),this.player.on("ended",()=>{this.resourceEnded.emit()})})}disposePlayer(){this.player&&"function"==typeof this.player.dispose&&this.player.dispose()}}var a=n("iInd"),u=s["\u0275crt"]({encapsulation:0,styles:[[".video-container[_ngcontent-%COMP%]{height:100%}"]],data:{}});function p(e){return s["\u0275vid"](0,[s["\u0275qud"](402653184,1,{videoContainer:0}),(e()(),s["\u0275eld"](1,0,[[1,0],["videoContainer",1]],null,0,"div",[["class","video-container"]],null,null,null,null,null))],null,null)}function h(e){return s["\u0275vid"](0,[(e()(),s["\u0275eld"](0,0,null,null,1,"ws-videojs",[],null,null,null,p,u)),s["\u0275did"](1,245760,null,0,l,[c.a,a.a,d.a],null,null)],function(e,t){e(t,1,0)},null)}var v=s["\u0275ccf"]("ws-videojs",l,h,{},{resourceEnded:"resourceEnded"},[]),m=n("SVse"),y=n("zsyL"),f=n("RB3e");class C{}n.d(t,"VideojsModuleNgFactory",function(){return b});var b=s["\u0275cmf"](o,[],function(e){return s["\u0275mod"]([s["\u0275mpd"](512,s.ComponentFactoryResolver,s["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,v]],[3,s.ComponentFactoryResolver],s.NgModuleRef]),s["\u0275mpd"](4608,m.q,m.p,[s.LOCALE_ID,[2,m.L]]),s["\u0275mpd"](4608,y.a,y.a,[f.a]),s["\u0275mpd"](1073742336,m.c,m.c,[]),s["\u0275mpd"](1073742336,a.s,a.s,[[2,a.x],[2,a.o]]),s["\u0275mpd"](1073742336,C,C,[]),s["\u0275mpd"](1073742336,o,o,[]),s["\u0275mpd"](256,s.LOCALE_ID,"de",[]),s["\u0275mpd"](1024,a.m,function(){return[[{path:"",pathMatch:"full",component:l,resolve:{playerDetails:y.a}}]]},[]),s["\u0275mpd"](256,s.TRANSLATIONS_FORMAT,"xlf",[])])})}}]);