/*               "Copyright 2020 Infosys Ltd.
               Use of this source code is governed by GPL v3 license that can be found in the LICENSE file or at https://opensource.org/licenses/GPL-3.0
               This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License version 3"*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"Iif+":function(n,t,e){"use strict";e.r(t);var l=e("8Y7J");class i{}var o=e("pMnS"),r=e("lzlj"),s=e("igqZ"),a=e("SVse"),u=e("TtEo"),c=e("02hT"),d=e("bujt"),p=e("Fwaw"),h=e("/HVE"),m=e("5GAg"),f=e("omvX"),v=e("l5mm"),b=e("hFHK"),C=e("oVAt"),I=e("VX4o");class y{constructor(n,t,e,l){this.domSanitizer=n,this.route=t,this.telemetrySvc=e,this.historySvc=l,this.showIframeSupportWarning=!1}ngOnInit(){this.paramSubscription=this.route.data.subscribe(n=>{this.processedContent=n.playerDetails.processedResource,this.collectionId=n.playerDetails.toc.identifier,this.initialFunction(),this.onChangeFunction()})}initialFunction(){!this.processedContent||null!=this.collectionId&&this.collectionId!==this.processedContent.content.identifier||this.historySvc.saveContinueLearning({contextPathId:this.processedContent.content.identifier,resourceId:this.processedContent.content.identifier,data:JSON.stringify({timestamp:Date.now()}),percentComplete:100},this.processedContent.content.identifier).toPromise().catch(n=>console.warn(n)),this.telemetryIntervalSubscription=Object(v.a)(3e4).subscribe(()=>{this.processedContent&&this.processedContent.content&&this.processedContent.content.identifier&&this.raiseEvent("RUNNING")})}ngOnChanges(){if(this.processedContent&&this.processedContent.content&&this.processedContent.content.artifactUrl){const n=this.processedContent.content.isIframeSupported.toLowerCase();this.raiseEvent("LOADED"),"no"===n?(this.showIframeSupportWarning=!0,this.openInNewTab()):"maybe"===n&&(this.showIframeSupportWarning=!0),this.iframeUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.processedContent.content.artifactUrl)}else this.iframeUrl=null}onChangeFunction(){if(this.processedContent&&this.processedContent.content&&this.processedContent.content.artifactUrl){const n=this.processedContent.content.isIframeSupported.toLowerCase();this.raiseEvent("LOADED"),"no"===n?(this.showIframeSupportWarning=!0,this.openInNewTab()):"maybe"===n&&(this.showIframeSupportWarning=!0),this.iframeUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.processedContent.content.artifactUrl)}else this.iframeUrl=null}ngOnDestroy(){this.telemetryIntervalSubscription&&this.telemetryIntervalSubscription.unsubscribe(),this.raiseEvent("ENDED")}openInNewTab(){window.open(this.processedContent.content.artifactUrl,"_blank")}dismiss(){this.showIframeSupportWarning=!1}raiseEvent(n){this.telemetrySvc.playerTelemetryEvent({app:"WEB_PLAYER_PLUGIN",plugin:"certifications",type:"TELEMETRY",state:n,data:{courseId:this.collectionId,identifier:this.processedContent.content.identifier,isCompleted:!0,mimeType:b.a.html,isIdeal:!1,url:this.processedContent.content.artifactUrl}})}}var S=e("cUpR"),g=e("iInd"),E=l["\u0275crt"]({encapsulation:0,styles:[[".html-iframe[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]],data:{}});function R(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"h2",[["class","mat-h2"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Content may be required to be opened in a new tab "]))],null,null)}function w(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"h2",[["class","mat-h2"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Content needs to be opened in a new tab "]))],null,null)}function N(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,16,"mat-card",[["class","mat-card"]],null,null,null,r.d,r.a)),l["\u0275did"](1,49152,null,0,s.a,[],null,null),(n()(),l["\u0275eld"](2,0,null,0,14,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),l["\u0275did"](3,16384,null,0,s.c,[],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,R)),l["\u0275did"](5,16384,null,0,a.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,w)),l["\u0275did"](7,16384,null,0,a.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](8,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,u.b,u.a)),l["\u0275did"](9,49152,null,0,c.a,[],null,null),(n()(),l["\u0275eld"](10,0,null,null,6,"div",[["class","flex flex-between padding-top-s"]],null,null,null,null,null)),(n()(),l["\u0275eld"](11,0,null,null,2,"a",[["mat-button",""],["target","_blank"],["type","button"]],[[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var i=!0;return"click"===t&&(i=!1!==l["\u0275nov"](n,12)._haltDisabledEvents(e)&&i),i},d.c,d.a)),l["\u0275did"](12,180224,null,0,p.a,[h.a,m.h,l.ElementRef,[2,f.a]],null,null),(n()(),l["\u0275ted"](-1,0,["Open in New Tab"])),(n()(),l["\u0275eld"](14,0,null,null,2,"button",[["mat-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.dismiss()&&l),l},d.d,d.b)),l["\u0275did"](15,180224,null,0,p.b,[l.ElementRef,h.a,m.h,[2,f.a]],null,null),(n()(),l["\u0275ted"](-1,0,["Verwerfen"]))],function(n,t){var e=t.component;n(t,5,0,"Maybe"===(null==e.processedContent?null:null==e.processedContent.content?null:e.processedContent.content.isIframeSupported)),n(t,7,0,"No"===(null==e.processedContent?null:null==e.processedContent.content?null:e.processedContent.content.isIframeSupported))},function(n,t){var e=t.component;n(t,8,0,l["\u0275nov"](t,9).vertical?"vertical":"horizontal",l["\u0275nov"](t,9).vertical,!l["\u0275nov"](t,9).vertical,l["\u0275nov"](t,9).inset),n(t,11,0,e.processedContent.content.artifactUrl,l["\u0275nov"](t,12).disabled?-1:l["\u0275nov"](t,12).tabIndex||0,l["\u0275nov"](t,12).disabled||null,l["\u0275nov"](t,12).disabled.toString(),"NoopAnimations"===l["\u0275nov"](t,12)._animationMode),n(t,14,0,l["\u0275nov"](t,15).disabled||null,"NoopAnimations"===l["\u0275nov"](t,15)._animationMode)})}function U(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"iframe",[["allow","fullscreen; accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;microphone; camera;"],["class","html-iframe"],["frameborder","0"],["title","HTML Inhaltsbetrachter"]],[[8,"src",5]],null,null,null,null))],null,function(n,t){n(t,0,0,t.component.iframeUrl)})}function T(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,N)),l["\u0275did"](1,16384,null,0,a.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,U)),l["\u0275did"](3,16384,null,0,a.o,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,1,0,e.showIframeSupportWarning),n(t,3,0,"No"!==(null==e.processedContent?null:null==e.processedContent.content?null:e.processedContent.content.isIframeSupported))},null)}function A(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ws-html",[],null,null,null,T,E)),l["\u0275did"](1,770048,null,0,y,[S.b,g.a,I.a,C.a],null,null)],function(n,t){n(t,1,0)},null)}var L=l["\u0275ccf"]("ws-html",y,A,{},{},[]),_=e("zsyL"),O=e("RB3e");class D{}var k=e("IP0z"),j=e("Xd0L");e.d(t,"HtmlModuleNgFactory",function(){return H});var H=l["\u0275cmf"](i,[],function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,L]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,a.q,a.p,[l.LOCALE_ID,[2,a.L]]),l["\u0275mpd"](4608,_.a,_.a,[O.a]),l["\u0275mpd"](1073742336,a.c,a.c,[]),l["\u0275mpd"](1073742336,g.s,g.s,[[2,g.x],[2,g.o]]),l["\u0275mpd"](1073742336,D,D,[]),l["\u0275mpd"](1073742336,k.a,k.a,[]),l["\u0275mpd"](1073742336,j.n,j.n,[[2,j.f],[2,S.f]]),l["\u0275mpd"](1073742336,s.g,s.g,[]),l["\u0275mpd"](1073742336,c.b,c.b,[]),l["\u0275mpd"](1073742336,h.b,h.b,[]),l["\u0275mpd"](1073742336,j.y,j.y,[]),l["\u0275mpd"](1073742336,p.c,p.c,[]),l["\u0275mpd"](1073742336,i,i,[]),l["\u0275mpd"](256,l.LOCALE_ID,"de",[]),l["\u0275mpd"](1024,g.m,function(){return[[{path:"",pathMatch:"full",component:y,resolve:{playerDetails:_.a}}]]},[]),l["\u0275mpd"](256,l.TRANSLATIONS_FORMAT,"xlf",[])])})},Jmk9:function(n,t,e){"use strict";e.d(t,"a",function(){return s});var l=e("z6cu"),i=e("VX4o"),o=e("8Y7J"),r=e("IheW");class s{constructor(n,t){this.http=n,this.telemetrySvc=t,this.API_BASE="/clientApi/v2",this.USER_API=`${this.API_BASE}/user`,this.apiEndpoints={USER_HISTORY:`${this.USER_API}/history`,USER_CONTINUE_LEARNING:`${this.USER_API}/history/continue`}}fetchContinueLearning(n,t,e){return this.http.get(`${this.apiEndpoints.USER_CONTINUE_LEARNING}?pageSize=${n}`+(t?`&pageState=${t}`:"")+(e?`&email=${e}`:""))}saveContinueLearning(n,t){const e=this.apiEndpoints.USER_CONTINUE_LEARNING;return Object.keys(n).length?this.http.post(e,n):(this.telemetrySvc.errorTelemetryEvent(e,n,t),Object(l.a)({message:"EMPTY_REQUEST"}))}fetchContentContinueLearning(n){return this.http.get(`${this.apiEndpoints.USER_CONTINUE_LEARNING}/${n}`)}addHistory(n){return this.http.post(this.apiEndpoints.USER_HISTORY+"/"+n,{})}deleteHistory(n){return this.http.delete(this.apiEndpoints.USER_HISTORY+"/"+n)}}s.ngInjectableDef=o["\u0275\u0275defineInjectable"]({factory:function(){return new s(o["\u0275\u0275inject"](r.c),o["\u0275\u0275inject"](i.a))},token:s,providedIn:"root"})},l5mm:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var l=e("HDdC"),i=e("D0XW"),o=e("Y7HM");function r(n=0,t=i.a){return(!Object(o.a)(n)||n<0)&&(n=0),t&&"function"==typeof t.schedule||(t=i.a),new l.a(e=>(e.add(t.schedule(s,n,{subscriber:e,counter:0,period:n})),e))}function s(n){const{subscriber:t,counter:e,period:l}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:l},l)}},oVAt:function(n,t,e){"use strict";e.d(t,"a",function(){return o});var l=e("Jmk9"),i=e("8Y7J");class o{constructor(n){this.historyApiSvc=n}fetchContinueLearning(n,t,e){return this.historyApiSvc.fetchContinueLearning(n,t,e)}fetchContentContinueLearning(n){return this.historyApiSvc.fetchContentContinueLearning(n)}saveContinueLearning(n,t){return this.historyApiSvc.saveContinueLearning(n,t)}addToHistory(n){return this.historyApiSvc.addHistory(n)}}o.ngInjectableDef=i["\u0275\u0275defineInjectable"]({factory:function(){return new o(i["\u0275\u0275inject"](l.a))},token:o,providedIn:"root"})}}]);