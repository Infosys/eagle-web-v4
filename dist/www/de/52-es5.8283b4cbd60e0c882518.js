/*               "Copyright 2020 Infosys Ltd.
               Use of this source code is governed by GPL v3 license that can be found in the LICENSE file or at https://opensource.org/licenses/GPL-3.0
               This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License version 3"*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{GRON:function(e,t,n){"use strict";n.r(t);var o=n("CcnG"),i=function(){return function(){}}(),r=n("pMnS"),c=n("Ip0R"),s=n("lzlj"),l=n("FVSy"),u=n("bujt"),a=n("UodH"),d=n("dWZg"),p=n("lLAP"),f=n("wFw1"),h=n("xXU7"),m=n("hFHK"),g=n("oVAt"),v=n("VX4o"),y=function(){function e(e,t,n,o){var i=this;this.route=e,this.domSanitizer=t,this.telemetrySvc=n,this.historySvc=o,this.proctoringWarning=!1,this.proctoringStarted=!1,this.contextCheck=function(e){i.sendProctoringInfo("rightClick"),e.preventDefault()},this.beforeUnload=function(e){i.sendProctoringInfo("beforeunload"),e.returnValue="You are not allowed to close window."},this.visibilityCheck=function(){console.log("document.visibilityState >",document.visibilityState),i.sendProctoringInfo("visibilitychange")},this.fullscreenCheck=function(){i.sendProctoringInfo("fullScreen")},this.keydownCheck=function(e){e.altKey?(i.sendProctoringInfo("alt"),e.preventDefault()):e.ctrlKey?(i.sendProctoringInfo("ctrl"),e.preventDefault()):9===e.keyCode?(i.sendProctoringInfo("tab"),e.preventDefault()):27===e.keyCode?(i.sendProctoringInfo("esc"),e.preventDefault()):91===e.keyCode?(i.sendProctoringInfo("window"),e.preventDefault()):112===e.keyCode?(i.sendProctoringInfo("f1"),e.preventDefault()):119===e.keyCode?(i.sendProctoringInfo("f8"),e.preventDefault()):123===e.keyCode&&(i.sendProctoringInfo("f12"),e.preventDefault())},this.copyCheck=function(e){i.sendProctoringInfo("copy"),e.preventDefault()},this.cutCheck=function(e){i.sendProctoringInfo("cut"),e.preventDefault()},this.pasteCheck=function(e){i.sendProctoringInfo("paste"),e.preventDefault()}}return e.prototype.ngOnInit=function(){var e=this;this.paramSubscription=this.route.data.subscribe(function(t){e.processedContent=t.playerDetails.processedResource,e.collectionId=t.playerDetails.toc.identifier,e.onChangeFunction(),e.onInItFunction()})},e.prototype.onInItFunction=function(){var e=this;this.telemetryIntervalSubscription=Object(h.a)(3e4).subscribe(function(){e.processedContent&&e.processedContent.content&&e.processedContent.content.identifier&&e.raiseEvent("RUNNING")})},e.prototype.ngAfterViewInit=function(){var e=this;window.addEventListener("message",function(t){t.data?t.data.functionToExecute&&"turnOnProctoring"===t.data.functionToExecute?(e.turnOnProctoring(),e.proctoringStarted=!0):t.data.functionToExecute&&"turnOffProctoring"===t.data.functionToExecute&&(e.turnOffProctoring(),e.proctoringStarted=!1):console.log("data unavailable")})},e.prototype.ngOnChanges=function(){this.onChangeFunction()},e.prototype.onChangeFunction=function(){this.processedContent&&this.processedContent.content&&this.processedContent.content.artifactUrl?(this.raiseEvent("LOADED"),null!=this.collectionId&&this.collectionId!==this.processedContent.content.identifier||this.historySvc.saveContinueLearning({contextPathId:this.processedContent.content.identifier,resourceId:this.processedContent.content.identifier,data:JSON.stringify({timestamp:Date.now()}),percentComplete:100},this.processedContent.content.identifier).toPromise().catch(function(e){return console.warn(e)}),this.iframeUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.processedContent.content.artifactUrl)):this.iframeUrl=null},e.prototype.ngOnDestroy=function(){this.telemetryIntervalSubscription&&this.telemetryIntervalSubscription.unsubscribe(),this.raiseEvent("ENDED"),this.proctoringStarted&&this.turnOffProctoring()},e.prototype.raiseEvent=function(e){this.telemetrySvc.playerTelemetryEvent({app:"WEB_PLAYER_PLUGIN",plugin:"certifications",type:"TELEMETRY",state:e,data:{courseId:this.collectionId,identifier:this.processedContent.content.identifier,isCompleted:!0,mimeType:m.a.html,isIdeal:!1,url:this.processedContent.content.artifactUrl}})},e.prototype.turnOnProctoring=function(){this.sendProctoringInfo("none"),this.sendProctoringInfo("fullScreen"),window.addEventListener("contextmenu",this.contextCheck),window.addEventListener("beforeunload",this.beforeUnload),window.addEventListener("keydown",this.keydownCheck),document.body.addEventListener("copy",this.copyCheck),document.body.addEventListener("cut",this.cutCheck),document.body.addEventListener("paste",this.pasteCheck),document.addEventListener("visibilitychange",this.visibilityCheck),document.addEventListener("webkitfullscreenchange",this.fullscreenCheck,!1),document.addEventListener("mozfullscreenchange",this.fullscreenCheck,!1),document.addEventListener("msfullscreenchange",this.fullscreenCheck,!1),document.addEventListener("fullscreenchange",this.fullscreenCheck,!1)},e.prototype.sendProctoringInfo=function(e){document.getElementById("iap-iframe").contentWindow.postMessage({proctoring:e},"*"),"esc"!==e&&"fullScreen"!==e||(this.proctoringWarning=!0)},e.prototype.enterFullScreen=function(){this.proctoringWarning=!1;var e=document.getElementById("iap-iframe");e&&(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())},e.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},e.prototype.turnOffProctoring=function(){window.removeEventListener("contextmenu",this.contextCheck),window.removeEventListener("beforeunload",this.beforeUnload),window.removeEventListener("keydown",this.keydownCheck),document.body.removeEventListener("copy",this.copyCheck),document.body.removeEventListener("cut",this.cutCheck),document.body.removeEventListener("paste",this.pasteCheck),document.removeEventListener("visibilitychange",this.visibilityCheck),document.removeEventListener("webkitfullscreenchange",this.fullscreenCheck),document.removeEventListener("fullscreenchange",this.fullscreenCheck),document.removeEventListener("mozfullscreenchange",this.fullscreenCheck),document.removeEventListener("msfullscreenchange",this.fullscreenCheck),this.exitFullscreen(),this.proctoringWarning=!1},e}(),C=n("ZYCi"),E=n("ZYjt"),b=o["\u0275crt"]({encapsulation:0,styles:[[".iap-iframe[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.proctoring-warning-holder[_ngcontent-%COMP%]{position:fixed;top:60px;right:0;bottom:0;left:0}.proctoring-warning-holder[_ngcontent-%COMP%]   .proctoring-warning[_ngcontent-%COMP%]{text-align:center;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:50%;min-width:300px;max-width:600px}"]],data:{}});function I(e){return o["\u0275vid"](0,[(e()(),o["\u0275eld"](0,0,null,null,0,"iframe",[["allow","fullscreen; accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; microphone; camera;"],["class","iap-iframe"],["frameborder","0"],["id","iap-iframe"],["title","IAP Bewertungs-Betrachter"]],[[8,"src",5]],null,null,null,null)),(e()(),o["\u0275eld"](1,0,null,null,10,"div",[],null,null,null,null,null)),o["\u0275prd"](512,null,c.G,c.H,[o.IterableDiffers,o.KeyValueDiffers,o.ElementRef,o.Renderer2]),o["\u0275did"](3,278528,null,0,c.m,[c.G],{ngClass:[0,"ngClass"]},null),o["\u0275pod"](4,{"proctoring-warning-holder":0}),(e()(),o["\u0275eld"](5,0,null,null,6,"mat-card",[["class","proctoring-warning mat-card"]],[[8,"hidden",0]],null,null,s.d,s.a)),o["\u0275did"](6,49152,null,0,l.a,[],null,null),(e()(),o["\u0275eld"](7,0,null,0,1,"h2",[["class","mat-h2"]],null,null,null,null,null)),(e()(),o["\u0275ted"](-1,null,[" Nur auf Vollbildschirm verf\xfcgbar. Um fortzufahren auf Okay klicken "])),(e()(),o["\u0275eld"](9,0,null,0,2,"button",[["mat-flat-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.enterFullScreen()&&o),o},u.d,u.b)),o["\u0275did"](10,180224,null,0,a.b,[o.ElementRef,d.a,p.h,[2,f.a]],{color:[0,"color"]},null),(e()(),o["\u0275ted"](-1,0,[" Okay "]))],function(e,t){var n=e(t,4,0,t.component.proctoringWarning);e(t,3,0,n),e(t,10,0,"primary")},function(e,t){var n=t.component;e(t,0,0,n.iframeUrl),e(t,5,0,!n.proctoringWarning),e(t,9,0,o["\u0275nov"](t,10).disabled||null,"NoopAnimations"===o["\u0275nov"](t,10)._animationMode)})}function k(e){return o["\u0275vid"](0,[(e()(),o["\u0275eld"](0,0,null,null,1,"ws-iap",[],null,null,null,I,b)),o["\u0275did"](1,4964352,null,0,y,[C.a,E.b,v.a,g.a],null,null)],function(e,t){e(t,1,0)},null)}var w=o["\u0275ccf"]("ws-iap",y,k,{},{},[]),S=n("zsyL"),L=n("RB3e"),P=function(){return function(){}}(),R=n("Fzqc"),F=n("Wf4p");n.d(t,"IapModuleNgFactory",function(){return O});var O=o["\u0275cmf"](i,[],function(e){return o["\u0275mod"]([o["\u0275mpd"](512,o.ComponentFactoryResolver,o["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,w]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["\u0275mpd"](4608,c.q,c.p,[o.LOCALE_ID,[2,c.L]]),o["\u0275mpd"](4608,S.a,S.a,[L.a]),o["\u0275mpd"](1073742336,c.c,c.c,[]),o["\u0275mpd"](1073742336,C.s,C.s,[[2,C.x],[2,C.o]]),o["\u0275mpd"](1073742336,P,P,[]),o["\u0275mpd"](1073742336,R.a,R.a,[]),o["\u0275mpd"](1073742336,F.n,F.n,[[2,F.f],[2,E.f]]),o["\u0275mpd"](1073742336,l.g,l.g,[]),o["\u0275mpd"](1073742336,d.b,d.b,[]),o["\u0275mpd"](1073742336,F.y,F.y,[]),o["\u0275mpd"](1073742336,a.c,a.c,[]),o["\u0275mpd"](1073742336,i,i,[]),o["\u0275mpd"](256,o.LOCALE_ID,"de",[]),o["\u0275mpd"](1024,C.m,function(){return[[{path:"",pathMatch:"full",component:y,resolve:{playerDetails:S.a}}]]},[]),o["\u0275mpd"](256,o.TRANSLATIONS_FORMAT,"xlf",[])])})},Jmk9:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n("XlPw"),i=n("VX4o"),r=n("CcnG"),c=n("t/Na"),s=function(){function e(e,t){this.http=e,this.telemetrySvc=t,this.API_BASE="/clientApi/v2",this.USER_API=this.API_BASE+"/user",this.apiEndpoints={USER_HISTORY:this.USER_API+"/history",USER_CONTINUE_LEARNING:this.USER_API+"/history/continue"}}return e.prototype.fetchContinueLearning=function(e,t,n){return this.http.get(this.apiEndpoints.USER_CONTINUE_LEARNING+"?pageSize="+e+(t?"&pageState="+t:"")+(n?"&email="+n:""))},e.prototype.saveContinueLearning=function(e,t){var n=this.apiEndpoints.USER_CONTINUE_LEARNING;return Object.keys(e).length?this.http.post(n,e):(this.telemetrySvc.errorTelemetryEvent(n,e,t),Object(o.a)({message:"EMPTY_REQUEST"}))},e.prototype.fetchContentContinueLearning=function(e){return this.http.get(this.apiEndpoints.USER_CONTINUE_LEARNING+"/"+e)},e.prototype.addHistory=function(e){return this.http.post(this.apiEndpoints.USER_HISTORY+"/"+e,{})},e.prototype.deleteHistory=function(e){return this.http.delete(this.apiEndpoints.USER_HISTORY+"/"+e)},e.ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new e(r["\u0275\u0275inject"](c.c),r["\u0275\u0275inject"](i.a))},token:e,providedIn:"root"}),e}()},oVAt:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("Jmk9"),i=n("CcnG"),r=function(){function e(e){this.historyApiSvc=e}return e.prototype.fetchContinueLearning=function(e,t,n){return this.historyApiSvc.fetchContinueLearning(e,t,n)},e.prototype.fetchContentContinueLearning=function(e){return this.historyApiSvc.fetchContentContinueLearning(e)},e.prototype.saveContinueLearning=function(e,t){return this.historyApiSvc.saveContinueLearning(e,t)},e.prototype.addToHistory=function(e){return this.historyApiSvc.addHistory(e)},e.ngInjectableDef=i["\u0275\u0275defineInjectable"]({factory:function(){return new e(i["\u0275\u0275inject"](o.a))},token:e,providedIn:"root"}),e}()},xXU7:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("6blF"),i=n("T1DM"),r=n("/21U");function c(e,t){return void 0===e&&(e=0),void 0===t&&(t=i.a),(!Object(r.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=i.a),new o.a(function(n){return n.add(t.schedule(s,e,{subscriber:n,counter:0,period:e})),n})}function s(e){var t=e.subscriber,n=e.counter,o=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:o},o)}}}]);