<!--               "Copyright 2020 Infosys Ltd.
               Use of this source code is governed by GPL v3 license that can be found in the LICENSE file or at https://opensource.org/licenses/GPL-3.0
               This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License version 3" -->
<section *ngIf="!loader2" class="goals-wrapper">
  <div class="flex flex-wrapped flex-center">
    <app-tile class="tiles-css" [showSecond]="false" [title]="'Goals Shared by Me'" [tileValue]="goalSharedData.length"></app-tile>
    <app-tile class="tiles-css" [showSecond]="false" [title]="'Artifacts Shared by me'" [tileValue]="artifactsShared"></app-tile>
    <app-tile class="tiles-css" [showSecond]="false" [title]="'Experts I contacted'" [tileValue]="expertsContacted"></app-tile>
  </div>
  <div class="card-container">
    <mat-card class="card">
      <mat-tab-group mat-align-tabs="center">
        <mat-tab>
          <ng-template mat-tab-label>
            <span accesskey="1" i18n>Goals Shared by Me</span>
          </ng-template>
          <section>
            <div *ngIf="!getUserlearning">
              <mat-card class="goal-class" *ngFor="let item of goalSharedData">
                <div class="progress">
                  <div class="progress-container">
                    <div class="progress-circular">
                      <div class="progress-circular-container">
                        <div class="progress-circular-empty"></div>
                        <app-spinner [spinMode]="'determinate'" [spinSize]="'medium'" [spinWidth]="'thin'" [spinValue]="item.progress * 100" [spinColor]="'primary'"
                          class="progress-circular-full">
                        </app-spinner>
                        <div class="progress-circular-value">{{item.progress * 100 | number: '1.0-0'}}%</div>
                      </div>
                    </div>

                    <div class="progress-content">
                      <div>
                        <a class="progress-name">{{item.goal_title}}</a>
                      </div>

                      <div class="progress-date mat-caption">
                        <span i18n="last studied">Shared to: </span>{{item.email_id}}</div>
                      <span i18n="last studied">Shared on: </span>{{item.shared_on | date: 'd MMM, y'}}
                      <div class="progress-date mat-caption">
                        <span *ngIf="item.status" i18n="last studied">Status: </span>{{item.status}}</div>
                    </div>
                  </div>
                </div>

              </mat-card>
            </div>
            <div *ngIf="goalSharedData.length === 0">
              <mat-card class="goal-class">
                <div class="progress-name" i18n="mycollaborators no shared goals">
                  You have not shared any Goal
                </div>
              </mat-card>
            </div>
          </section>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <span accesskey="2" i18n>Goals Shared with Me</span>
          </ng-template>
          <section>
            <div *ngIf="!getUserlearning">
              <mat-card class="goal-class" *ngFor="let item of goalsSharedToMe">
                <div class="progress">
                  <div class="progress-container">
                    <div class="progress-circular">
                      <div class="progress-circular-container">
                        <div class="progress-circular-empty"></div>
                        <app-spinner [spinMode]="'determinate'" [spinSize]="'medium'" [spinWidth]="'thin'" [spinValue]="item.progress * 100" [spinColor]="'primary'"
                          class="progress-circular-full">
                        </app-spinner>
                        <div class="progress-circular-value">{{item.progress * 100 | number: '1.0-0'}}%</div>
                      </div>
                    </div>

                    <div class="progress-content">
                      <div>
                        <a class="progress-name">{{item.goal_title}}</a>
                      </div>

                      <div class="progress-date mat-caption">
                        <span i18n="last studied">Shared by: </span>{{item.shared_by}}</div>
                      <span i18n="last studied">Shared on: </span>{{item.shared_on | date: 'd MMM, y'}}
                      <div class="progress-date mat-caption">
                        <span *ngIf="item.status" i18n="last studied">Status: </span>{{item.status}}</div>
                    </div>

                  </div>
                </div>

              </mat-card>
            </div>
            <div *ngIf="goalsSharedToMe.length === 0">
              <mat-card class="goal-class">
                <div class="progress-name">
                  You have no shared Goals
                </div>
              </mat-card>
            </div>
          </section>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <span accesskey="3" i18n>Artifacts Shared</span>
          </ng-template>
          <section>
            <div *ngIf="!getUserlearning">
              <mat-card class="goal-class" *ngFor="let item of artifactSharedData">
                <div class="progress">
                  <div class="progress-container">


                    <div class="progress-content">
                      <div>
                        <a class="progress-name">{{item.content_name}}</a>
                      </div>

                      <div class="progress-date mat-caption">


                        <!-- <span  i18n="last studied">Shared to:</span>{{item.email_id}} -->
                      </div>
                      <span i18n="last studied">Shared on: </span>{{item.date_of_use | date: 'd MMM, y'}}
                    </div>

                  </div>
                </div>

              </mat-card>
            </div>
            <div *ngIf="artifactSharedData.length === 0">
              <mat-card class="goal-class">
                <div class="progress-name" i18n="mycollaborators no content">
                  You have not shared any artifacts
                </div>
              </mat-card>
            </div>
          </section>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <span accesskey="4" i18n>Playlist shared by me</span>
          </ng-template>
          <section>
            <div *ngIf="!getUserlearning">
              <mat-card class="goal-class" *ngFor="let item of playlistSharedByMe">
                <!-- <div class="progress">
                      <div class="progress-container">


                        <div class="progress-content">
                          <div><a class="progress-name">{{item.play_list_title}}</a></div>

                          <div class="progress-date mat-caption">
                            <span  i18n="last studied">Shared to: </span>{{item.email_id}}
                          </div>
                            <span  i18n="last studied">Shared on: </span>{{item.created_on  | date: 'd MMM, y'}}
                          </div>


                        </div>
                      </div> -->
                <div class="progress">
                  <div class="progress-container">
                    <div class="progress-circular">
                      <div class="progress-circular-container">
                        <div class="progress-circular-empty"></div>
                        <app-spinner [spinMode]="'determinate'" [spinSize]="'medium'" [spinWidth]="'thin'" [spinValue]="item.progress * 100" [spinColor]="'primary'"
                          class="progress-circular-full">
                        </app-spinner>
                        <div class="progress-circular-value">{{item.progress * 100 | number: '1.0-0'}}%</div>
                      </div>
                    </div>

                    <div class="progress-content">
                      <div>
                        <a class="progress-name">{{item.play_list_title}}</a>
                      </div>

                      <div class="progress-date mat-caption">
                        <span i18n="last studied">Shared by: </span>{{item.email_id}}</div>
                      <span i18n="last studied">Shared on: </span>{{item.created_on | date: 'd MMM, y'}}

                    </div>
                  </div>
                </div>

              </mat-card>
            </div>
            <div *ngIf="playlistSharedByMe.length === 0">
              <mat-card class="goal-class">
                <div class="progress-name" i18n="mycollaborators no content">
                  You have not shared any playlist
                </div>
              </mat-card>
            </div>
          </section>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <span accesskey="5" i18n>Playlist shared with me</span>
          </ng-template>
          <section>
            <div *ngIf="!getUserlearning">
              <mat-card class="goal-class" *ngFor="let item of playlistSharedToMe">

                <div class="progress">
                  <div class="progress-container">
                    <div class="progress-circular">
                      <div class="progress-circular-container">
                        <div class="progress-circular-empty"></div>
                        <app-spinner [spinMode]="'determinate'" [spinSize]="'medium'" [spinWidth]="'thin'" [spinValue]="item.progress * 100" [spinColor]="'primary'"
                          class="progress-circular-full">
                        </app-spinner>
                        <div class="progress-circular-value">{{item.progress * 100 | number: '1.0-0'}}%</div>
                      </div>
                    </div>

                    <div class="progress-content">
                      <div>
                        <a class="progress-name">{{item.play_list_title}}</a>
                      </div>

                      <div class="progress-date mat-caption">
                        <span i18n="last studied">Shared by: </span>{{item.shared_by}}</div>
                      <span i18n="last studied">Shared on: </span>{{item.created_on | date: 'd MMM, y'}}

                    </div>
                  </div>
                </div>

              </mat-card>
            </div>
            <div *ngIf="playlistSharedToMe.length === 0">
              <mat-card class="goal-class">
                <div class="progress-name" i18n="mycollaborators no content">
                  You have no shared playlist
                </div>
              </mat-card>
            </div>
          </section>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <span accesskey="6" i18n>Playground</span>
          </ng-template>
          <section>
            <div *ngIf="!getUserlearning">
              <mat-card class="goal-class" *ngFor="let item of playgroundData">
                <div class="progress">

                  <div class="progress-container">
                    <div class="progress-content">
                      <a class="progress-name">{{item.contest_Name}}</a>
                      <div class="progress-date mat-caption">
                        <span i18n="last studied">Used on: </span>{{item.date_of_use | date: 'd MMM, y'}}
                      </div>
                    </div>

                  </div>
                </div>

              </mat-card>
            </div>
            <div *ngIf="playgroundData.length === 0">
              <mat-card class="goal-class">
                <div class="progress-name" i18n="mycollaborators no content">
                  You have not used any playground
                </div>
              </mat-card>
            </div>
          </section>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <span accesskey="7" i18n>Experts Contacted</span>
          </ng-template>
          <section>
            <div *ngIf="!getUserlearning">
              <mat-card class="goal-class" *ngFor="let item of expertContactedData">
                <div class="progress">
                  <div class="progress-container">


                    <div class="progress-content">
                      <div class="progress-name" *ngIf="item.contacted">
                        <span>Contacted : </span>{{item.contacted}}</div>
                      <div>
                        <a class="progress-name">{{item.content_name}}</a>
                      </div>
                    </div>
                    <div class="progress-date mat-caption">
                      <span i18n="last studied">Contacted on: </span>{{item.date_of_use | date: 'd MMM, y'}}
                    </div>

                  </div>
                </div>

              </mat-card>
            </div>
            <div *ngIf="expertContactedData.length === 0">
              <mat-card class="goal-class">
                <div class="progress-name" i18n="mycollaborators no content">
                  You have not contacted any experts
                </div>
              </mat-card>
            </div>
          </section>
        </mat-tab>
        <mat-tab *ngIf="content_created.length!=0">
          <ng-template mat-tab-label>
            <span accesskey="8" i18n>Content Created</span>
          </ng-template>
          <section>
            <div *ngIf="!getUserlearning">
              <mat-card class="goal-class" *ngFor="let item of content_created">
                <div class="progress">
                  <div class="progress-container">


                    <div class="progress-content">
                      <div>
                        <a class="progress-name">{{item.content_name}}</a>
                      </div>
                    </div>
                    <div class="progress-date mat-caption">
                      <span i18n="last studied">Content Type: </span>{{item.content_type}}</div>

                  </div>
                </div>

              </mat-card>
            </div>

          </section>
        </mat-tab>

      </mat-tab-group>
    </mat-card>
  </div>
</section>

<ng-container *ngIf="loader2" class="margin-left-s margin-top-s">
  <app-spinner [spinMode]="'indeterminate'" [spinSize]="'large'" [spinWidth]="'thin'" [spinValue]="70" [spinColor]="'primary'"
    class="progress-circular-full">
  </app-spinner>
</ng-container>
