<!--               "Copyright 2020 Infosys Ltd.
               Use of this source code is governed by GPL v3 license that can be found in the LICENSE file or at https://opensource.org/licenses/GPL-3.0
               This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License version 3" -->
<ng-container *ngIf="isSiemensAvailable">
  <section *ngIf="!loader2" class="myPlans-wrapper">
    <div class="flex flex-wrapped flex-center">
      <app-tile class="tiles-css" [showSecond]="false" [title]="'My Goals'" [tileValue]="goalData.length"></app-tile>
      <app-tile class="tiles-css" [showSecond]="false" [title]="'Playlist'" [tileValue]="playListData.length"></app-tile>
      <app-tile class="tiles-css" [showSecond]="false" [title]="'Goals shared with me'" [tileValue]="goalsSharedWithMe"></app-tile>
    </div>
    <div class="card-container">
      <mat-card class="card">
        <mat-tab-group mat-align-tabs="left">
          <mat-tab>
            <ng-template mat-tab-label>
              <span accesskey="1" i18n>Learning History</span>
            </ng-template>
            <div class="button-row margin-left-m ">
              <mat-tab-group mat-align-tabs="left" (selectedIndexChange)="onTabChange($event)">
                <mat-tab>
                  <ng-template mat-tab-label>
                    <span accesskey="1" i18n>Course</span>
                  </ng-template>
                  <div *ngIf="progressData1[0].status">
                    <mat-card *ngIf="progressData1[0].data.length != 0">
                      <mat-grid-list cols="3" rowHeight="35px">
                        <mat-grid-tile class="mat-body-1" i18n="myplans title">Course</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1" i18n="myplans title">User Progress</mat-grid-tile>
                        <!-- <mat-grid-tile class="mat-body-1" i18n="myplans title">Progress</mat-grid-tile> -->
                        <mat-grid-tile class="mat-body-1" i18n="myplans title">System</mat-grid-tile>

                      </mat-grid-list>
                    </mat-card>
                    <div *ngFor="let data of progressData1[0].data | slice:page.p1:page.p1+10">
                      <app-plans-card [title]="data.name" [pieData]="data.data" [progress]="data.progress" [completed]="data.completed" [system]="data.system"></app-plans-card>
                    </div>
                    <mat-paginator *ngIf="progressData1[0].data.length!=0" showFirstLastButtons [length]="progressData1[0].data.length" [pageSize]="10"
                      (page)="changePage($event,1)">
                    </mat-paginator>
                    <div *ngIf="progressData1[0].data.length === 0 && progressData1[0].status" class="progress">
                      <div class="progress-container">
                        <div class="progress-content" i18n="myplans no content">
                          No Learning History Available for Course
                        </div>
                      </div>
                    </div>
                  </div>
                  <ng-container *ngIf="!progressData1[0].status" class="margin-left-s margin-top-s">
                    <app-spinner [spinMode]="'indeterminate'" [spinSize]="'large'" [spinWidth]="'thin'" [spinValue]="70" [spinColor]="'primary'"
                      class="progress-circular-full">
                    </app-spinner>
                  </ng-container>
                </mat-tab>
                <mat-tab>
                  <ng-template mat-tab-label>
                    <span accesskey="2" i18n>Program</span>
                  </ng-template>
                  <ng-container *ngIf="progressData1[1].status">
                    <mat-card *ngIf="progressData1[1].data.length != 0">
                      <mat-grid-list cols="3" rowHeight="35px">
                        <mat-grid-tile class="mat-body-1">Program</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1">User Progress</mat-grid-tile>
                        <!-- <mat-grid-tile class="mat-body-1">Infoscions' Progress</mat-grid-tile> -->
                        <mat-grid-tile class="mat-body-1">System</mat-grid-tile>
                      </mat-grid-list>
                    </mat-card>
                    <div *ngFor="let data of progressData1[1].data | slice:page.p2:page.p2+10">
                      <app-plans-card [title]="data.name" [pieData]="data.data" [progress]="data.progress" [completed]="data.completed" [system]="data.system"></app-plans-card>
                    </div>
                    <mat-paginator *ngIf="progressData1[1].data.length!=0" showFirstLastButtons [length]="progressData1[1].data.length" [pageSize]="10"
                      (page)="changePage($event,2)">
                    </mat-paginator>
                    <div *ngIf="progressData1[1].data.length === 0 && progressData1[1].status" class="progress">
                      <div class="progress-container">
                        <div class="progress-content" i18n="myplans no content">
                          No Learning History Available for Program
                        </div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="!progressData1[1].status" class="margin-left-s margin-top-s">
                    <app-spinner [spinMode]="'indeterminate'" [spinSize]="'large'" [spinWidth]="'thin'" [spinValue]="70" [spinColor]="'primary'"
                      class="progress-circular-full">
                    </app-spinner>
                  </ng-container>
                </mat-tab>
                <mat-tab *ngIf="isResource">
                  <ng-template mat-tab-label>
                    <span accesskey="1" i18n>Resources</span>
                  </ng-template>
                  <div *ngIf="progressData1[2].status">
                    <mat-card *ngIf="progressData1[2].data.length != 0">
                      <mat-grid-list cols="3" rowHeight="35px">
                        <mat-grid-tile class="mat-body-1" i18n="myplans title">Course</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1" i18n="myplans title">User Progress</mat-grid-tile>
                        <!-- <mat-grid-tile class="mat-body-1" i18n="myplans title">Progress</mat-grid-tile> -->
                        <mat-grid-tile class="mat-body-1" i18n="myplans title">System</mat-grid-tile>

                      </mat-grid-list>
                    </mat-card>
                    <div *ngFor="let data of progressData1[2].data | slice:page.p1:page.p1+10">
                      <app-plans-card [title]="data.name" [pieData]="data.data" [progress]="data.progress" [completed]="data.completed" [system]="data.system"></app-plans-card>
                    </div>
                    <mat-paginator *ngIf="progressData1[2].data.length!=0" showFirstLastButtons [length]="progressData1[2].data.length" [pageSize]="10"
                      (page)="changePage($event,1)">
                    </mat-paginator>
                    <div *ngIf="progressData1[2].data.length === 0 && progressData1[2].status" class="progress">
                      <div class="progress-container">
                        <div class="progress-content" i18n="myplans no content">
                          No Learning History Available for Course
                        </div>
                      </div>
                    </div>
                  </div>
                  <ng-container *ngIf="!progressData1[2].status" class="margin-left-s margin-top-s">
                    <app-spinner [spinMode]="'indeterminate'" [spinSize]="'large'" [spinWidth]="'thin'" [spinValue]="70" [spinColor]="'primary'"
                      class="progress-circular-full">
                    </app-spinner>
                  </ng-container>
                </mat-tab>
                <!-- <mat-tab label="Learning Modules">
                  <ng-container *ngIf="progressData1[2].status">
                    <mat-card>
                      <mat-grid-list cols="4" rowHeight="35px">
                        <mat-grid-tile class="mat-body-1">Learning Modules</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1">User Progress</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1">Infoscions' Progress</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1">No of Users Completed</mat-grid-tile>
                      </mat-grid-list>
                    </mat-card>
                    <div *ngFor="let data of progressData1[2].data">
                      <app-plans-card [title]="data.name" [pieData]="data.data" [progress]="data.progress" [completed]="data.completed"></app-plans-card>
                    </div>
                    <div *ngIf="progressData1[2].data.length === 0  && progressData1[2].status" class="progress">
                      <div class="progress-container">
                        <div class="progress-content" i18n="myplans no content">
                            No Learning History Available for Learning Modules
                        </div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="!progressData1[2].status" class="margin-left-s margin-top-s">
                    <app-spinner  [spinMode]="'indeterminate'" [spinSize]="'large'" [spinWidth]="'thin'"
                      [spinValue]="70" [spinColor]="'primary'" class="progress-circular-full">
                    </app-spinner>
                  </ng-container>
                </mat-tab> -->
              </mat-tab-group>
            </div>
          </mat-tab>
          <mat-tab>
            <ng-template mat-tab-label>
              <span accesskey="3" i18n>Goals</span>
            </ng-template>
            <section>
              <mat-card class="goal-class" *ngFor="let item of goalData">
                <div class="progress">
                  <div class="progress-container">
                    <div class="progress-circular">
                      <div class="progress-circular-container">
                        <div class="progress-circular-empty"></div>
                        <app-spinner [spinMode]="'determinate'" [spinSize]="'medium'" [spinWidth]="'thin'" [spinValue]="item.progress * 100" [spinColor]="'primary'"
                          class="progress-circular-full">
                        </app-spinner>
                        <div [matTooltip]="'Progress percentage'" class="progress-circular-value">{{item.progress * 100 | number: '1.0-0'}}%</div>
                      </div>
                    </div>

                    <div class="progress-content">
                      <div>
                        <a class="progress-name" routerLink="/toc/{{item.identifier}}">{{item.goal_title}}</a>
                      </div>
                      <div class="progress-content-type mat-caption">
                        <!-- {{item.contentType | uppercase}} -->
                        <app-content-type [contentType]="'resource'"></app-content-type>
                      </div>
                      <div class="progress-date mat-caption">
                        <span *ngIf="item.last_updated_on" i18n="last studied">Created on : </span>{{item.created_on | date: 'd MMM, y'}}</div>
                    </div>
                  </div>
                </div>
              </mat-card>
              <div *ngIf="goalData.length === 0">
                <mat-card class="goal-class">
                  <div class="progress-name" i18n="myplans no content">
                    No Goals Available
                  </div>
                </mat-card>
              </div>
            </section>
          </mat-tab>
          <mat-tab>
            <ng-template mat-tab-label>
              <span accesskey="2" i18n>Playlist</span>
            </ng-template>
            <mat-card class="goal-class" *ngFor="let item of playListData">
              <div class="progress">
                <div class="progress-container">
                  <div class="progress-circular">
                    <div class="progress-circular-container">
                      <div class="progress-circular-empty"></div>
                      <app-spinner [spinMode]="'determinate'" [spinSize]="'medium'" [spinWidth]="'thin'" [spinValue]="item.progress * 100" [spinColor]="'primary'"
                        class="progress-circular-full">
                      </app-spinner>
                      <div [matTooltip]="'Progress percentage'" class="progress-circular-value">{{item.progress * 100 | number: '1.0-0'}}%</div>
                    </div>
                  </div>

                  <div class="progress-content">
                    <div>
                      <a class="progress-name" routerLink="/toc/{{item.identifier}}">{{item.play_list_title}}</a>
                    </div>
                    <div class="progress-content-type mat-caption">
                      <!-- {{item.contentType | uppercase}} -->
                      <app-content-type [contentType]="'resource'"></app-content-type>
                    </div>
                    <div class="progress-date mat-caption">
                      <span *ngIf="item.last_updated_on" i18n="last studied">Created on : </span>{{item.created_on | date: 'd MMM, y'}}</div>
                  </div>
                </div>
              </div>
            </mat-card>
            <div *ngIf="playListData.length === 0">
              <mat-card class="goal-class">
                <div class="progress-name" i18n="myplans no content">
                  No Playlist Available
                </div>
              </mat-card>
            </div>
          </mat-tab>
          <mat-tab>
            <ng-template mat-tab-label>
              <span accesskey="3" i18n>Certification</span>
            </ng-template>
            <section>
              <mat-card class="goal-class" *ngFor="let item of certificationList">
                <div class="progress">
                  <div class="progress-container">
                    <div class="progress-circular">
                      <div class="progress-circular-container">
                        <!-- <img class="medium-badge mat-lite-background" [matTooltip]="badge.description"  [src]="certificateImage" [alt]="item.content_name"> -->
                        <!-- <div class="progress-circular-empty"></div>
                          <app-spinner  [spinMode]="'determinate'" [spinSize]="'medium'" [spinWidth]="'thin'"
                            [spinValue]="item.assessment_score" [spinColor]="'primary'" class="progress-circular-full">
                          </app-spinner>
                          <div [matTooltip]="'assessment score'" class="progress-circular-value">{{item.assessment_score  | number: '1.0-0'}}</div> -->
                      </div>
                    </div>

                    <div class="progress-content">
                      <div>
                        <a class="progress-name" routerLink="/toc/{{item.identifier}}">{{item.content_name}}</a>
                      </div>
                      <div class="progress-date mat-caption">
                        <span *ngIf="item.last_updated_on" i18n="last studied">Issued on : </span>{{item.assessment_date | date: 'd MMM, y'}}</div>
                    </div>
                  </div>
                </div>
              </mat-card>
              <div *ngIf="certificationList.length === 0">
                <mat-card class="goal-class">
                  <div class="progress-name" i18n="myplans no content">
                    No Certificates Available
                  </div>
                </mat-card>
              </div>
            </section>
          </mat-tab>
          <mat-tab>
            <ng-template mat-tab-label>
              <span accesskey="4" i18n>Badges</span>
            </ng-template>
            <mat-card class="flex flex-wrapped" *ngIf="badgesDetails.length > 0">
              <h2 class="mat-h2 width-1-1" i18n>You have earned</h2>
              <ng-container *ngFor="let badge of badgesDetails">
                <div class="badge-container text-center inline-block">
                  <img class="medium-badge mat-lite-background" [matTooltip]="badge.description" [src]="badge.image" [alt]="badge.badge_name">
                  <div *ngIf="badge.content_name === null">{{badge.badge_name}}</div>
                  <div *ngIf="badge.content_name !== null">{{badge.content_name}}</div>
                  <div class="mat-caption">{{badge.last_received_date | date: 'd MMM, y'}}</div>
                  <!-- <div *ngIf="badge.badge_type && badge.badge_type === 'R'" class="mat-caption">
                      <ng-container i18n> Earned </ng-container>
                      <ng-container>{{badge.received_count}}</ng-container>
                      <ng-container i18n> times </ng-container>
                    </div> -->
                </div>
              </ng-container>
            </mat-card>
            <div *ngIf="badgesDetails.length === 0">
              <mat-card class="goal-class">
                <div class="progress-name" i18n="myplans no content">
                  No Badges Available
                </div>
              </mat-card>
            </div>
          </mat-tab>
        </mat-tab-group>
      </mat-card>
    </div>
  </section>
  <ng-container *ngIf="loader2" class="margin-left-s margin-top-s">
    <app-spinner [spinMode]="'indeterminate'" [spinSize]="'large'" [spinWidth]="'thin'" [spinValue]="70" [spinColor]="'primary'"
      class="progress-circular-full">
    </app-spinner>
  </ng-container>

  <!-- <ng-template #plansView let-lhData>
    <section>
      <table mat-table [ngIf]="lhData.data.length > 0 && lhData.status"  [dataSource]="lhData.data" class="mat-elevation-z8" style="width:100%;">
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef style="font-size: 17px;" >{{filtersub}}</th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef style="text-align: center;font-size: 17px;"> user Progress </th>
          <td mat-cell *matCellDef="let element"> {{element.progress}} </td>
        </ng-container>
        <ng-container matColumnDef="weight">
          <th mat-header-cell *matHeaderCellDef style="text-align: center;font-size: 17px;"> Infoscions' Progress </th>
          <td mat-cell *matCellDef="let element">
              <app-pie-graph [showlabels]="false" [height]="65" [graphData]="element.data"></app-pie-graph>
            </td>
        </ng-container>
        <ng-container matColumnDef="symbol">
          <th mat-header-cell *matHeaderCellDef style="text-align: center;font-size: 17px;"> No of Users Completed </th>
          <td mat-cell *matCellDef="let element"> {{element.completed}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      <div [ngIf]="lhData.data.length === 0 && !getUserlearning" class="progress">
        <div class="progress-container">
          <div class="progress-content">
              No Learning History Available
          </div>
        </div>
      </div>
      <ng-container [ngIf]="getUserlearning" class="margin-left-s margin-top-s">
        <app-spinner  [spinMode]="'indeterminate'" [spinSize]="'large'" [spinWidth]="'thin'"
          [spinValue]="70" [spinColor]="'primary'" class="progress-circular-full">
        </app-spinner>
      </ng-container>
    </section>
  </ng-template> -->
  <!-- <table *ngIf="progressData1[2].data.length > 0 && progressData1[2].status" mat-table [dataSource]="progressData1[2].data" class="mat-elevation-z8" style="width: 100%;">
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef style="font-size: 15px;text-align: center;" >Learning Module</th>
        <td mat-cell style="text-align: center;" *matCellDef="let element"> {{element.name}} </td>
      </ng-container>
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef style="text-align: center;font-size: 15px;"> User Progress </th>
        <td mat-cell  *matCellDef="let element" style="padding: 20px 0px 0px 0px;">
          <app-spinner  [spinMode]="'determinate'" [spinSize]="'medium'" [spinWidth]="'thin'"
            [spinValue]="element.progress" [spinColor]="'primary'" class="progress-circular-full">
          </app-spinner>
          <div class="progress-circular-value">{{element.progress | number: '1.0-0'}}%</div>
        </td>
      </ng-container>
      <ng-container matColumnDef="weight">
        <th mat-header-cell *matHeaderCellDef style="text-align: center;font-size: 15px;"> Infoscions' Progress </th>
        <td mat-cell *matCellDef="let element">
            <app-pie-graph [showlabels]="false" [height]="65" [graphData]="element.data"></app-pie-graph>
          </td>
      </ng-container>
      <ng-container matColumnDef="symbol">
        <th mat-header-cell *matHeaderCellDef style="text-align: center;font-size: 15px;"> No of Users Completed </th>
        <td mat-cell style="text-align: center;" *matCellDef="let element"> {{element.completed}} </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table> -->

</ng-container>

<ng-container *ngIf="!isSiemensAvailable">
  <section *ngIf="!loader2" class="myPlans-wrapper">
    <div class="flex flex-wrapped flex-center">
      <app-tile class="tiles-css" [showSecond]="false" [title]="'My Goals'" [tileValue]="goalData.length"></app-tile>
      <app-tile class="tiles-css" [showSecond]="false" [title]="'Playlist'" [tileValue]="playListData.length"></app-tile>
      <app-tile class="tiles-css" [showSecond]="false" [title]="'Goals shared with me'" [tileValue]="goalsSharedWithMe"></app-tile>
    </div>
    <div class="card-container">
      <mat-card class="card">
        <mat-tab-group mat-align-tabs="left">
          <mat-tab>
            <ng-template mat-tab-label>
              <span accesskey="1" i18n>Learning History</span>
            </ng-template>
            <div class="button-row margin-left-m ">
              <mat-tab-group mat-align-tabs="left" (selectedIndexChange)="onTabChange($event)">
                <mat-tab>
                  <ng-template mat-tab-label>
                    <span accesskey="1" i18n>Course</span>
                  </ng-template>
                  <div *ngIf="progressData1[0].status">
                    <mat-card *ngIf="progressData1[0].data.length != 0">
                      <mat-grid-list cols="4" rowHeight="35px">
                        <mat-grid-tile class="mat-body-1" i18n="myplans title">Course</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1" i18n="myplans title">User Progress</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1" i18n="myplans title">Infoscions' Progress</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1" i18n="myplans title">No of Users Completed</mat-grid-tile>

                      </mat-grid-list>
                    </mat-card>
                    <div *ngFor="let data of progressData1[0].data | slice:page.p1:page.p1+10">
                      <app-plans-card [title]="data.name" [pieData]="data.data" [progress]="data.progress" [completed]="data.completed"></app-plans-card>
                    </div>
                    <mat-paginator *ngIf="progressData1[0].data.length!=0" showFirstLastButtons [length]="progressData1[0].data.length" [pageSize]="10"
                      (page)="changePage($event,1)">
                    </mat-paginator>
                    <div *ngIf="progressData1[0].data.length === 0 && progressData1[0].status" class="progress">
                      <div class="progress-container">
                        <div class="progress-content" i18n="myplans no content">
                          No Learning History Available for Course
                        </div>
                      </div>
                    </div>
                  </div>
                  <ng-container *ngIf="!progressData1[0].status" class="margin-left-s margin-top-s">
                    <app-spinner [spinMode]="'indeterminate'" [spinSize]="'large'" [spinWidth]="'thin'" [spinValue]="70" [spinColor]="'primary'"
                      class="progress-circular-full">
                    </app-spinner>
                  </ng-container>
                </mat-tab>
                <mat-tab>
                  <ng-template mat-tab-label>
                    <span accesskey="2" i18n>Program</span>
                  </ng-template>
                  <ng-container *ngIf="progressData1[1].status">
                    <mat-card *ngIf="progressData1[1].data.length != 0">
                      <mat-grid-list cols="4" rowHeight="35px">
                        <mat-grid-tile class="mat-body-1">Program</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1">User Progress</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1">Infoscions' Progress</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1">No of Users Completed</mat-grid-tile>
                      </mat-grid-list>
                    </mat-card>
                    <div *ngFor="let data of progressData1[1].data | slice:page.p2:page.p2+10">
                      <app-plans-card [title]="data.name" [pieData]="data.data" [progress]="data.progress" [completed]="data.completed"></app-plans-card>
                    </div>
                    <mat-paginator *ngIf="progressData1[1].data.length!=0" showFirstLastButtons [length]="progressData1[1].data.length" [pageSize]="10"
                      (page)="changePage($event,2)">
                    </mat-paginator>
                    <div *ngIf="progressData1[1].data.length === 0 && progressData1[1].status" class="progress">
                      <div class="progress-container">
                        <div class="progress-content" i18n="myplans no content">
                          No Learning History Available for Program
                        </div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="!progressData1[1].status" class="margin-left-s margin-top-s">
                    <app-spinner [spinMode]="'indeterminate'" [spinSize]="'large'" [spinWidth]="'thin'" [spinValue]="70" [spinColor]="'primary'"
                      class="progress-circular-full">
                    </app-spinner>
                  </ng-container>
                </mat-tab>
                <!-- <mat-tab label="Learning Modules">
                  <ng-container *ngIf="progressData1[2].status">
                    <mat-card>
                      <mat-grid-list cols="4" rowHeight="35px">
                        <mat-grid-tile class="mat-body-1">Learning Modules</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1">User Progress</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1">Infoscions' Progress</mat-grid-tile>
                        <mat-grid-tile class="mat-body-1">No of Users Completed</mat-grid-tile>
                      </mat-grid-list>
                    </mat-card>
                    <div *ngFor="let data of progressData1[2].data">
                      <app-plans-card [title]="data.name" [pieData]="data.data" [progress]="data.progress" [completed]="data.completed"></app-plans-card>
                    </div>
                    <div *ngIf="progressData1[2].data.length === 0  && progressData1[2].status" class="progress">
                      <div class="progress-container">
                        <div class="progress-content" i18n="myplans no content">
                            No Learning History Available for Learning Modules
                        </div>
                      </div>
                    </div>
                  </ng-container>
                  <ng-container *ngIf="!progressData1[2].status" class="margin-left-s margin-top-s">
                    <app-spinner  [spinMode]="'indeterminate'" [spinSize]="'large'" [spinWidth]="'thin'"
                      [spinValue]="70" [spinColor]="'primary'" class="progress-circular-full">
                    </app-spinner>
                  </ng-container>
                </mat-tab> -->
              </mat-tab-group>
            </div>
          </mat-tab>
          <mat-tab>
            <ng-template mat-tab-label>
              <span accesskey="3" i18n>Goals</span>
            </ng-template>
            <section>
              <mat-card class="goal-class" *ngFor="let item of goalData">
                <div class="progress">
                  <div class="progress-container">
                    <div class="progress-circular">
                      <div class="progress-circular-container">
                        <div class="progress-circular-empty"></div>
                        <app-spinner [spinMode]="'determinate'" [spinSize]="'medium'" [spinWidth]="'thin'" [spinValue]="item.progress * 100" [spinColor]="'primary'"
                          class="progress-circular-full">
                        </app-spinner>
                        <div [matTooltip]="'Progress percentage'" class="progress-circular-value">{{item.progress * 100 | number: '1.0-0'}}%</div>
                      </div>
                    </div>

                    <div class="progress-content">
                      <div>
                        <a class="progress-name" routerLink="/toc/{{item.identifier}}">{{item.goal_title}}</a>
                      </div>
                      <div class="progress-content-type mat-caption">
                        <!-- {{item.contentType | uppercase}} -->
                        <app-content-type [contentType]="'resource'"></app-content-type>
                      </div>
                      <div class="progress-date mat-caption">
                        <span *ngIf="item.last_updated_on" i18n="last studied">Created on : </span>{{item.created_on | date: 'd MMM, y'}}</div>
                    </div>
                  </div>
                </div>
              </mat-card>
              <div *ngIf="goalData.length === 0">
                <mat-card class="goal-class">
                  <div class="progress-name" i18n="myplans no content">
                    No Goals Available
                  </div>
                </mat-card>
              </div>
            </section>
          </mat-tab>
          <mat-tab>
            <ng-template mat-tab-label>
              <span accesskey="2" i18n>Playlist</span>
            </ng-template>
            <mat-card class="goal-class" *ngFor="let item of playListData">
              <div class="progress">
                <div class="progress-container">
                  <div class="progress-circular">
                    <div class="progress-circular-container">
                      <div class="progress-circular-empty"></div>
                      <app-spinner [spinMode]="'determinate'" [spinSize]="'medium'" [spinWidth]="'thin'" [spinValue]="item.progress * 100" [spinColor]="'primary'"
                        class="progress-circular-full">
                      </app-spinner>
                      <div [matTooltip]="'Progress percentage'" class="progress-circular-value">{{item.progress * 100 | number: '1.0-0'}}%</div>
                    </div>
                  </div>

                  <div class="progress-content">
                    <div>
                      <a class="progress-name" routerLink="/toc/{{item.identifier}}">{{item.play_list_title}}</a>
                    </div>
                    <div class="progress-content-type mat-caption">
                      <!-- {{item.contentType | uppercase}} -->
                      <app-content-type [contentType]="'resource'"></app-content-type>
                    </div>
                    <div class="progress-date mat-caption">
                      <span *ngIf="item.last_updated_on" i18n="last studied">Created on : </span>{{item.created_on | date: 'd MMM, y'}}</div>
                  </div>
                </div>
              </div>
            </mat-card>
            <div *ngIf="playListData.length === 0">
              <mat-card class="goal-class">
                <div class="progress-name" i18n="myplans no content">
                  No Playlist Available
                </div>
              </mat-card>
            </div>
          </mat-tab>
          <mat-tab>
            <ng-template mat-tab-label>
              <span accesskey="3" i18n>Certification</span>
            </ng-template>
            <section>
              <mat-card class="goal-class" *ngFor="let item of certificationList">
                <div class="progress">
                  <div class="progress-container">
                    <div class="progress-circular">
                      <div class="progress-circular-container">
                        <!-- <img class="medium-badge img-background" [matTooltip]="badge.description"  [src]="certificateImage" [alt]="item.content_name"> -->
                        <!-- <div class="progress-circular-empty"></div>
                          <app-spinner  [spinMode]="'determinate'" [spinSize]="'medium'" [spinWidth]="'thin'"
                            [spinValue]="item.assessment_score" [spinColor]="'primary'" class="progress-circular-full">
                          </app-spinner>
                          <div [matTooltip]="'assessment score'" class="progress-circular-value">{{item.assessment_score  | number: '1.0-0'}}</div> -->
                      </div>
                    </div>

                    <div class="progress-content">
                      <div>
                        <a class="progress-name" routerLink="/toc/{{item.identifier}}">{{item.content_name}}</a>
                      </div>
                      <div class="progress-date mat-caption">
                        <span *ngIf="item.last_updated_on" i18n="last studied">Issued on : </span>{{item.assessment_date | date: 'd MMM, y'}}</div>
                    </div>
                  </div>
                </div>
              </mat-card>
              <div *ngIf="certificationList.length === 0">
                <mat-card class="goal-class">
                  <div class="progress-name" i18n="myplans no content">
                    No Certificates Available
                  </div>
                </mat-card>
              </div>
            </section>
          </mat-tab>
          <mat-tab>
            <ng-template mat-tab-label>
              <span accesskey="4" i18n>Badges</span>
            </ng-template>
            <mat-card class="flex flex-wrapped" *ngIf="badgesDetails.length > 0">
              <h2 class="mat-h2 width-1-1" i18n>You have earned</h2>
              <ng-container *ngFor="let badge of badgesDetails">
                <div class="badge-container text-center inline-block">
                  <img class="medium-badge img-background" [matTooltip]="badge.description" [src]="badge.image" [alt]="badge.badge_name">
                  <div *ngIf="badge.content_name === null">{{badge.badge_name}}</div>
                  <div *ngIf="badge.content_name !== null">{{badge.content_name}}</div>
                  <div class="mat-caption">{{badge.last_received_date | date: 'd MMM, y'}}</div>
                  <!-- <div *ngIf="badge.badge_type && badge.badge_type === 'R'" class="mat-caption">
                      <ng-container i18n> Earned </ng-container>
                      <ng-container>{{badge.received_count}}</ng-container>
                      <ng-container i18n> times </ng-container>
                    </div> -->
                </div>
              </ng-container>
            </mat-card>
            <div *ngIf="badgesDetails.length === 0">
              <mat-card class="goal-class">
                <div class="progress-name" i18n="myplans no content">
                  No Badges Available
                </div>
              </mat-card>
            </div>
          </mat-tab>
        </mat-tab-group>
      </mat-card>
    </div>
  </section>
  <ng-container *ngIf="loader2" class="margin-left-s margin-top-s">
    <app-spinner [spinMode]="'indeterminate'" [spinSize]="'large'" [spinWidth]="'thin'" [spinValue]="70" [spinColor]="'primary'"
      class="progress-circular-full">
    </app-spinner>
  </ng-container>


</ng-container>
